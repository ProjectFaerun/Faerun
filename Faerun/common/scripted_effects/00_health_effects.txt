# troubled_pregnancy_chance_low_effect
# troubled_pregnancy_chance_medium_effect
# troubled_pregnancy_variable_easy_effect
# troubled_pregnancy_variable_hard_effect

# gain_weight_small_effect
# gain_weight_medium_effect
# gain_weight_large_effect
# balance_weight_small_effect
# balance_weight_medium_effect
# balance_weight_large_effect
# lose_weight_small_effect
# lose_weight_medium_effect
# lose_weight_large_effect

# weight_trait_check_effect
# apply_weight_modifier_effect
# remove_weight_modifier_effect

# clear_fat_flags_effect
# clear_malnourished_flags_effect
# weight_flavor_conditions_effect

# this_post_weight_gain_flavor_effect
# this_post_weight_loss_flavor_effect

troubled_pregnancy_chance_low_effect = {
	random_list = {
		70 = {
			custom_tooltip = { text = tooltip_pregnancy_stable }
		}

		30 = {
			custom_tooltip = { text = tooltip_pregnancy_gets_worse }

			trigger = {
				is_true_outsider = no
			}

			character_event = {
				id = HFP.20500 # Critical failure: troubled pregnancy begins
				days = 35
				random = 75
			}

			weak_2x_score = yes
			strong_05x_score = yes

			mult_modifier = {
				factor = 0.85
				has_character_modifier = mother_dark_rest
			}

			mult_modifier = {
				factor = 0.95
				has_character_modifier = mother_chatting
			}

			mult_modifier = {
				factor = 0.85
				has_character_modifier = mother_fertility_festival_1
			}

			mult_modifier = {
				factor = 0.75
				has_character_modifier = mother_fertility_festival_2
			}

			mult_modifier = {
				factor = 0.75
				has_character_modifier = mother_festival_blessing
			}

			mult_modifier = {
				factor = 0.75
				has_character_modifier = mother_praying_health
			}

			mult_modifier = {
				factor = 0.5
				has_character_modifier = mother_resting_health
			}

			mult_modifier = {
				factor = 0.9
				has_character_modifier = mother_partying_health
			}

			mult_modifier = {
				factor = 0.75
				has_character_modifier = mother_minor_rest
			}

			mult_modifier = {
				factor = 0.9
				has_character_modifier = mother_good_omen
			}

			mult_modifier = {
				factor = 1.2
				has_character_modifier = mother_bad_omen
			}

			mult_modifier = {
				factor = 0.9
				has_character_modifier = mother_vow_chastity
			}

			mult_modifier = {
				factor = 0.9
				has_character_modifier = mother_vow_humility
			}

			mult_modifier = {
				factor = 0.9
				has_character_modifier = mother_vow_charity
			}

			mult_modifier = {
				factor = 0.9
				has_character_modifier = mother_vow_temperance
			}

			mult_modifier = {
				factor = 1.75
				has_character_modifier = mother_exposed_to_elements
			}

			mult_modifier = {
				factor = 0.8
				has_character_modifier = mother_comforted
			}

			mult_modifier = {
				factor = 1.5
				practical_age < 19 # Too young
			}

			mult_modifier = {
				factor = 1.25
				num_of_children >= 2
			}

			mult_modifier = {
				factor = 1.25
				num_of_children >= 3 # Womb is worn out
			}

			mult_modifier = {
				factor = 1.5
				num_of_children >= 4 # Womb is worn out
			}

			mult_modifier = {
				factor = 2
				num_of_children >= 5 # Womb is worn out
			}

			mult_modifier = {
				factor = 4
				has_character_flag = survivor_mom # Should have stopped after last time
			}

			mult_modifier = {
				factor = 1.25
				has_education_martial_trigger = no
			}

			mult_modifier = {
				factor = 0.95
				trait = misguided_warrior
			}

			mult_modifier = {
				factor = 0.85
				trait = tough_soldier
			}

			mult_modifier = {
				factor = 0.75
				trait = skilled_tactician
			}

			mult_modifier = {
				factor = 0.65
				trait = brilliant_strategist
			}

			mult_modifier = {
				factor = 1.5
				trait = stressed
			}

			mult_modifier = {
				factor = 1.75
				trait = depressed
			}

			mult_modifier = {
				factor = 1.5
				trait = lunatic
			}

			mult_modifier = {
				factor = 1.5
				trait = possessed
			}

			mult_modifier = {
				factor = 1.35
				trait = wounded
			}

			mult_modifier = {
				factor = 1.75
				trait = maimed
			}

			mult_modifier = {
				factor = 1.5
				trait = infirm
			}

			mult_modifier = {
				factor = 5
				is_incapable = yes # Probably going to die
			}

			mult_modifier = {
				factor = 1.25
				trait = drunkard
			}

			mult_modifier = {
				factor = 1.15
				trait = scarred
			}

			mult_modifier = {
				factor = 1.5
				trait = ill
			}

			mult_modifier = {
				factor = 1.65
				trait = pneumonic
			}

			mult_modifier = {
				factor = 1.5
				trait = syphilitic
			}

			mult_modifier = {
				factor = 3
				trait = leper
			}

			mult_modifier = {
				factor = 1.85
				trait = has_tuberculosis
			}

			mult_modifier = {
				factor = 1.65
				trait = has_typhoid_fever
			}

			mult_modifier = {
				factor = 1.5
				trait = has_typhus
			}

			mult_modifier = {
				factor = 5
				trait = has_bubonic_plague
			}

			mult_modifier = {
				factor = 1.75
				trait = has_measles
			}

			mult_modifier = {
				factor = 1.45
				trait = has_small_pox
			}

			mult_modifier = {
				factor = 1.65
				trait = has_aztec_disease
			}

			mult_modifier = {
				factor = 1.25
				trait = flu
			}

			mult_modifier = {
				factor = 1.75
				trait = dysentery
			}

			mult_modifier = {
				factor = 1.35
				trait = gout
			}

			mult_modifier = {
				factor = 1.75
				trait = food_poisoning
			}

			mult_modifier = {
				factor = 1.5
				trait = rabies
			}

			mult_modifier = {
				factor = 3
				trait = cancer
			}

			mult_modifier = {
				factor = 4
				trait = dancing_plague
			}

			mult_modifier = {
				factor = 1.25
				trait = scurvy
			}

			mult_modifier = {
				factor = 2
				trait = mangled
			}

			mult_modifier = {
				factor = 3
				trait = severely_injured
			}

			mult_modifier = {
				factor = 1.45
				trait = hunchback
			}

			mult_modifier = {
				factor = 1.5
				trait = dwarf
			}

			mult_modifier = {
				factor = 5
				trait = inbred
			}

			mult_modifier = {
				factor = 1.35
				trait = hedonist
			}

			mult_modifier = {
				factor = 0.85
				trait = mystic
			}

			mult_modifier = {
				factor = 0.85
				trait = gardener
			}

			mult_modifier = {
				factor = 0.85
				trait = duelist
			}

			mult_modifier = {
				factor = 0.75
				trait = hunter
			}

			mult_modifier = {
				factor = 0.75
				trait = falconer
			}

			mult_modifier = {
				factor = 1.35
				trait = gluttonous
			}

			mult_modifier = {
				factor = 1.45
				trait = wroth
			}

			mult_modifier = {
				factor = 1.45
				trait = slothful
			}

			mult_modifier = {
				factor = 0.85
				trait = temperate
			}

			mult_modifier = {
				factor = 1.5
				trait = blinded
			}

			mult_modifier = {
				factor = 1.5
				trait = berserker
			}

			mult_modifier = {
				factor = 1.25
				trait = lovers_pox
			}

			mult_modifier = {
				factor = 1.5
				health <= 1
			}

			mult_modifier = {
				factor = 1.5
				health < 2
			}

			mult_modifier = {
				factor = 1.5
				health < 3
			}

			mult_modifier = {
				factor = 0.75
				health >= 5
			}
		}
	}
}

troubled_pregnancy_chance_medium_effect = {
	random_list = {
		50 = {
			custom_tooltip = { text = tooltip_pregnancy_stable }
		}

		50 = {
			custom_tooltip = { text = tooltip_pregnancy_gets_worse }

			trigger = {
				is_true_outsider = no
			}

			character_event = {
				id = HFP.20500 # Critical failure: troubled pregnancy begins
				days = 35
				random = 75
			}

			weak_2x_score = yes
			strong_05x_score = yes

			mult_modifier = {
				factor = 0.85
				has_character_modifier = mother_dark_rest
			}

			mult_modifier = {
				factor = 0.95
				has_character_modifier = mother_chatting
			}

			mult_modifier = {
				factor = 0.85
				has_character_modifier = mother_fertility_festival_1
			}

			mult_modifier = {
				factor = 0.75
				has_character_modifier = mother_fertility_festival_2
			}

			mult_modifier = {
				factor = 0.75
				has_character_modifier = mother_festival_blessing
			}

			mult_modifier = {
				factor = 0.75
				has_character_modifier = mother_praying_health
			}

			mult_modifier = {
				factor = 0.5
				has_character_modifier = mother_resting_health
			}

			mult_modifier = {
				factor = 0.9
				has_character_modifier = mother_partying_health
			}

			mult_modifier = {
				factor = 0.75
				has_character_modifier = mother_minor_rest
			}

			mult_modifier = {
				factor = 0.9
				has_character_modifier = mother_good_omen
			}

			mult_modifier = {
				factor = 1.2
				has_character_modifier = mother_bad_omen
			}

			mult_modifier = {
				factor = 0.9
				has_character_modifier = mother_vow_chastity
			}

			mult_modifier = {
				factor = 0.9
				has_character_modifier = mother_vow_humility
			}

			mult_modifier = {
				factor = 0.9
				has_character_modifier = mother_vow_charity
			}

			mult_modifier = {
				factor = 0.9
				has_character_modifier = mother_vow_temperance
			}

			mult_modifier = {
				factor = 1.75
				has_character_modifier = mother_exposed_to_elements
			}

			mult_modifier = {
				factor = 0.8
				has_character_modifier = mother_comforted
			}

			mult_modifier = {
				factor = 1.5
				practical_age < 19 # Too young
			}

			mult_modifier = {
				factor = 1.25
				num_of_children >= 2
			}

			mult_modifier = {
				factor = 1.25
				num_of_children >= 3 # Womb is worn out
			}

			mult_modifier = {
				factor = 1.5
				num_of_children >= 4 # Womb is worn out
			}

			mult_modifier = {
				factor = 2
				num_of_children >= 5 # Womb is worn out
			}

			mult_modifier = {
				factor = 4
				has_character_flag = survivor_mom # Should have stopped after last time
			}

			mult_modifier = {
				factor = 1.25
				has_education_martial_trigger = no
			}

			mult_modifier = {
				factor = 0.95
				trait = misguided_warrior
			}

			mult_modifier = {
				factor = 0.85
				trait = tough_soldier
			}

			mult_modifier = {
				factor = 0.75
				trait = skilled_tactician
			}

			mult_modifier = {
				factor = 0.65
				trait = brilliant_strategist
			}

			mult_modifier = {
				factor = 1.5
				trait = stressed
			}

			mult_modifier = {
				factor = 1.75
				trait = depressed
			}

			mult_modifier = {
				factor = 1.5
				trait = lunatic
			}

			mult_modifier = {
				factor = 1.5
				trait = possessed
			}

			mult_modifier = {
				factor = 1.35
				trait = wounded
			}

			mult_modifier = {
				factor = 1.75
				trait = maimed
			}

			mult_modifier = {
				factor = 1.5
				trait = infirm
			}

			mult_modifier = {
				factor = 5
				is_incapable = yes # Probably going to die
			}

			mult_modifier = {
				factor = 1.25
				trait = drunkard
			}

			mult_modifier = {
				factor = 1.15
				trait = scarred
			}

			mult_modifier = {
				factor = 1.5
				trait = ill
			}

			mult_modifier = {
				factor = 1.65
				trait = pneumonic
			}

			mult_modifier = {
				factor = 1.5
				trait = syphilitic
			}

			mult_modifier = {
				factor = 3
				trait = leper
			}

			mult_modifier = {
				factor = 1.85
				trait = has_tuberculosis
			}

			mult_modifier = {
				factor = 1.65
				trait = has_typhoid_fever
			}

			mult_modifier = {
				factor = 1.5
				trait = has_typhus
			}

			mult_modifier = {
				factor = 5
				trait = has_bubonic_plague
			}

			mult_modifier = {
				factor = 1.75
				trait = has_measles
			}

			mult_modifier = {
				factor = 1.45
				trait = has_small_pox
			}

			mult_modifier = {
				factor = 1.65
				trait = has_aztec_disease
			}

			mult_modifier = {
				factor = 1.25
				trait = flu
			}

			mult_modifier = {
				factor = 1.75
				trait = dysentery
			}

			mult_modifier = {
				factor = 1.35
				trait = gout
			}

			mult_modifier = {
				factor = 1.75
				trait = food_poisoning
			}

			mult_modifier = {
				factor = 1.5
				trait = rabies
			}

			mult_modifier = {
				factor = 3
				trait = cancer
			}

			mult_modifier = {
				factor = 4
				trait = dancing_plague
			}

			mult_modifier = {
				factor = 1.25
				trait = scurvy
			}

			mult_modifier = {
				factor = 2
				trait = mangled
			}

			mult_modifier = {
				factor = 3
				trait = severely_injured
			}

			mult_modifier = {
				factor = 1.45
				trait = hunchback
			}

			mult_modifier = {
				factor = 1.5
				trait = dwarf
			}

			mult_modifier = {
				factor = 5
				trait = inbred
			}

			mult_modifier = {
				factor = 1.35
				trait = hedonist
			}

			mult_modifier = {
				factor = 0.85
				trait = mystic
			}

			mult_modifier = {
				factor = 0.85
				trait = gardener
			}

			mult_modifier = {
				factor = 0.85
				trait = duelist
			}

			mult_modifier = {
				factor = 0.75
				trait = hunter
			}

			mult_modifier = {
				factor = 0.75
				trait = falconer
			}

			mult_modifier = {
				factor = 1.35
				trait = gluttonous
			}

			mult_modifier = {
				factor = 1.45
				trait = wroth
			}

			mult_modifier = {
				factor = 1.45
				trait = slothful
			}

			mult_modifier = {
				factor = 0.85
				trait = temperate
			}

			mult_modifier = {
				factor = 1.5
				trait = blinded
			}

			mult_modifier = {
				factor = 1.5
				trait = berserker
			}

			mult_modifier = {
				factor = 1.25
				trait = lovers_pox
			}

			mult_modifier = {
				factor = 1.5
				health < 1
			}

			mult_modifier = {
				factor = 1.5
				health < 2
			}

			mult_modifier = {
				factor = 1.5
				health < 3
			}

			mult_modifier = {
				factor = 0.75
				health >= 5
			}
		}
	}
}

troubled_pregnancy_variable_easy_effect = {
	hidden_effect = {
		random_list = {
			60 = {
				change_variable = {
					which = troubled_pregnancy_variable
					value = -2
				}

				mult_modifier = {
					factor = 1.25
					has_character_modifier = mother_dark_rest
				}

				mult_modifier = {
					factor = 1.05
					has_character_modifier = mother_chatting
				}

				mult_modifier = {
					factor = 1.25
					has_character_modifier = mother_fertility_festival_1
				}

				mult_modifier = {
					factor = 1.5
					has_character_modifier = mother_fertility_festival_2
				}

				mult_modifier = {
					factor = 1.5
					has_character_modifier = mother_festival_blessing
				}

				mult_modifier = {
					factor = 0.7
					health < 1
				}

				mult_modifier = {
					factor = 0.8
					health < 2
				}

				mult_modifier = {
					factor = 0.9
					health < 3
				}

				mult_modifier = {
					factor = 0.8
					trait = wounded
				}

				mult_modifier = {
					factor = 0.8
					trait = maimed
				}

				mult_modifier = {
					factor = 0.9
					trait = cough
				}

				mult_modifier = {
					factor = 0.8
					trait = fever
				}

				mult_modifier = {
					factor = 0.9
					trait = diarrhea
				}

				mult_modifier = {
					factor = 0.9
					trait = vomiting
				}

				mult_modifier = {
					factor = 0.7
					trait = chest_pain
				}

				mult_modifier = {
					factor = 0.8
					trait = cramps
				}

				mult_modifier = {
					factor = 0.9
					trait = rash
				}

				mult_modifier = {
					factor = 0.9
					trait = headache
				}

				mult_modifier = {
					factor = 0.7
					trait = abdominal_pain
				}

				mult_modifier = {
					factor = 0.9
					trait = fatigue
				}

				mult_modifier = {
					factor = 0.9
					trait = malaise
				}

				mult_modifier = {
					factor = 0.8
					trait = infection
				}

				mult_modifier = {
					factor = 1.1
					has_character_flag = pregnancy_priest_comfort
				}

				mult_modifier = {
					factor = 1.2
					has_character_flag = pregnancy_shaman_comfort
				}

				mult_modifier = {
					factor = 1.3
					has_character_flag = pregnancy_spouse_comfort
				}

				mult_modifier = {
					factor = 1.4
					has_character_flag = pregnancy_healer_help
				}

				mult_modifier = {
					factor = 0.7
					persistent_event_target:pregnancy_mother_physician_per = { learning < 5 }
				}

				mult_modifier = {
					factor = 0.8
					persistent_event_target:pregnancy_mother_physician_per = { learning < 10 }
				}

				mult_modifier = {
					factor = 0.9
					persistent_event_target:pregnancy_mother_physician_per = { is_dumb_trigger = yes }
				}

				mult_modifier = {
					factor = 0.8
					persistent_event_target:pregnancy_mother_physician_per = { trait = imbecile }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_mother_physician_per = { trait = scholar }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_mother_physician_per = { trait = physician }
				}

				mult_modifier = {
					factor = 1.15
					persistent_event_target:pregnancy_mother_physician_per = { is_smart_congenital_tier_1_trigger = yes }
				}

				mult_modifier = {
					factor = 1.2
					persistent_event_target:pregnancy_mother_physician_per = { is_smart_congenital_tier_2_trigger = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_mother_physician_per = { is_smart_congenital_tier_3_trigger = yes }
				}

				mult_modifier = {
					factor = 1.33
					persistent_event_target:pregnancy_mother_physician_per = { is_smart_congenital_tier_4_trigger = yes }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_mother_physician_per = { is_smart_congenital_tier_5_trigger = yes }
				}

				mult_modifier = {
					factor = 1.15
					persistent_event_target:pregnancy_mother_physician_per = { is_smart_non_congenital_tier_1_trigger = yes }
				}

				mult_modifier = {
					factor = 1.2
					persistent_event_target:pregnancy_mother_physician_per = { is_smart_non_congenital_tier_2_trigger = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_mother_physician_per = { is_smart_non_congenital_tier_3_trigger = yes }
				}

				mult_modifier = {
					factor = 1.33
					persistent_event_target:pregnancy_mother_physician_per = { is_smart_non_congenital_tier_4_trigger = yes }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_mother_physician_per = { is_smart_non_congenital_tier_5_trigger = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_mother_physician_per = { z_basic_divine = yes }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_mother_physician_per = { z_trained_divine = yes }
				}

				mult_modifier = {
					factor = 2
					persistent_event_target:pregnancy_mother_physician_per = { z_journeyman_divine = yes }
				}

				mult_modifier = {
					factor = 2.5
					persistent_event_target:pregnancy_mother_physician_per = { z_expert_divine = yes }
				}

				mult_modifier = {
					factor = 3
					persistent_event_target:pregnancy_mother_physician_per = { z_master_divine = yes }
				}

				mult_modifier = {
					factor = 4
					persistent_event_target:pregnancy_mother_physician_per = { z_renowned_divine = yes }
				}

				mult_modifier = {
					factor = 5
					persistent_event_target:pregnancy_mother_physician_per = { z_legendary_divine = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_mother_physician_per = { learning >= 10 }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_mother_physician_per = { learning >= 15 }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_mother_physician_per = { learning >= 20 }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_mother_physician_per = { learning >= 25 }
				}

				mult_modifier = {
					factor = 0.7
					persistent_event_target:pregnancy_spouse_physician_per = { learning < 5 }
				}

				mult_modifier = {
					factor = 0.8
					persistent_event_target:pregnancy_spouse_physician_per = { learning < 10 }
				}

				mult_modifier = {
					factor = 0.9
					persistent_event_target:pregnancy_spouse_physician_per = { is_dumb_trigger = yes }
				}

				mult_modifier = {
					factor = 0.8
					persistent_event_target:pregnancy_spouse_physician_per = { trait = imbecile }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_spouse_physician_per = { trait = scholar }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_spouse_physician_per = { trait = physician }
				}

				mult_modifier = {
					factor = 1.15
					persistent_event_target:pregnancy_spouse_physician_per = { is_smart_congenital_tier_1_trigger = yes }
				}

				mult_modifier = {
					factor = 1.2
					persistent_event_target:pregnancy_spouse_physician_per = { is_smart_congenital_tier_2_trigger = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_spouse_physician_per = { is_smart_congenital_tier_3_trigger = yes }
				}

				mult_modifier = {
					factor = 1.33
					persistent_event_target:pregnancy_spouse_physician_per = { is_smart_congenital_tier_4_trigger = yes }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_spouse_physician_per = { is_smart_congenital_tier_5_trigger = yes }
				}

				mult_modifier = {
					factor = 1.15
					persistent_event_target:pregnancy_spouse_physician_per = { is_smart_non_congenital_tier_1_trigger = yes }
				}

				mult_modifier = {
					factor = 1.2
					persistent_event_target:pregnancy_spouse_physician_per = { is_smart_non_congenital_tier_2_trigger = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_spouse_physician_per = { is_smart_non_congenital_tier_3_trigger = yes }
				}

				mult_modifier = {
					factor = 1.33
					persistent_event_target:pregnancy_spouse_physician_per = { is_smart_non_congenital_tier_4_trigger = yes }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_spouse_physician_per = { is_smart_non_congenital_tier_5_trigger = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_spouse_physician_per = { z_basic_divine = yes }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_spouse_physician_per = { z_trained_divine = yes }
				}

				mult_modifier = {
					factor = 2
					persistent_event_target:pregnancy_spouse_physician_per = { z_journeyman_divine = yes }
				}

				mult_modifier = {
					factor = 2.5
					persistent_event_target:pregnancy_spouse_physician_per = { z_expert_divine = yes }
				}

				mult_modifier = {
					factor = 3
					persistent_event_target:pregnancy_spouse_physician_per = { z_master_divine = yes }
				}

				mult_modifier = {
					factor = 4
					persistent_event_target:pregnancy_spouse_physician_per = { z_renowned_divine = yes }
				}

				mult_modifier = {
					factor = 5
					persistent_event_target:pregnancy_spouse_physician_per = { z_legendary_divine = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_spouse_physician_per = { learning >= 10 }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_spouse_physician_per = { learning >= 15 }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_spouse_physician_per = { learning >= 20 }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_spouse_physician_per = { learning >= 25 }
				}

				mult_modifier = {
					factor = 0.7
					persistent_event_target:pregnancy_regent_physician_per = { learning < 5 }
				}

				mult_modifier = {
					factor = 0.8
					persistent_event_target:pregnancy_regent_physician_per = { learning < 10 }
				}

				mult_modifier = {
					factor = 0.9
					persistent_event_target:pregnancy_regent_physician_per = { is_dumb_trigger = yes }
				}

				mult_modifier = {
					factor = 0.8
					persistent_event_target:pregnancy_regent_physician_per = { trait = imbecile }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_regent_physician_per = { trait = scholar }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_regent_physician_per = { trait = physician }
				}

				mult_modifier = {
					factor = 1.15
					persistent_event_target:pregnancy_regent_physician_per = { is_smart_congenital_tier_1_trigger = yes }
				}

				mult_modifier = {
					factor = 1.2
					persistent_event_target:pregnancy_regent_physician_per = { is_smart_congenital_tier_2_trigger = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_regent_physician_per = { is_smart_congenital_tier_3_trigger = yes }
				}

				mult_modifier = {
					factor = 1.33
					persistent_event_target:pregnancy_regent_physician_per = { is_smart_congenital_tier_4_trigger = yes }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_regent_physician_per = { is_smart_congenital_tier_5_trigger = yes }
				}

				mult_modifier = {
					factor = 1.15
					persistent_event_target:pregnancy_regent_physician_per = { is_smart_non_congenital_tier_1_trigger = yes }
				}

				mult_modifier = {
					factor = 1.2
					persistent_event_target:pregnancy_regent_physician_per = { is_smart_non_congenital_tier_2_trigger = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_regent_physician_per = { is_smart_non_congenital_tier_3_trigger = yes }
				}

				mult_modifier = {
					factor = 1.33
					persistent_event_target:pregnancy_regent_physician_per = { is_smart_non_congenital_tier_4_trigger = yes }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_regent_physician_per = { is_smart_non_congenital_tier_5_trigger = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_regent_physician_per = { z_basic_divine = yes }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_regent_physician_per = { z_trained_divine = yes }
				}

				mult_modifier = {
					factor = 2
					persistent_event_target:pregnancy_regent_physician_per = { z_journeyman_divine = yes }
				}

				mult_modifier = {
					factor = 2.5
					persistent_event_target:pregnancy_regent_physician_per = { z_expert_divine = yes }
				}

				mult_modifier = {
					factor = 3
					persistent_event_target:pregnancy_regent_physician_per = { z_master_divine = yes }
				}

				mult_modifier = {
					factor = 4
					persistent_event_target:pregnancy_regent_physician_per = { z_renowned_divine = yes }
				}

				mult_modifier = {
					factor = 5
					persistent_event_target:pregnancy_regent_physician_per = { z_legendary_divine = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_regent_physician_per = { learning >= 10 }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_regent_physician_per = { learning >= 15 }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_regent_physician_per = { learning >= 20 }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_regent_physician_per = { learning >= 25 }
				}
			}

			40 = {
				change_variable = {
					which = troubled_pregnancy_variable
					value = 2
				}

				mult_modifier = {
					factor = 0.75
					has_character_modifier = mother_praying_health
				}

				mult_modifier = {
					factor = 0.5
					has_character_modifier = mother_resting_health
				}

				mult_modifier = {
					factor = 0.9
					has_character_modifier = mother_partying_health
				}

				mult_modifier = {
					factor = 0.75
					has_character_modifier = mother_minor_rest
				}

				mult_modifier = {
					factor = 0.9
					has_character_modifier = mother_good_omen
				}

				mult_modifier = {
					factor = 1.2
					has_character_modifier = mother_bad_omen
				}

				mult_modifier = {
					factor = 0.9
					has_character_modifier = mother_vow_chastity
				}

				mult_modifier = {
					factor = 0.9
					has_character_modifier = mother_vow_humility
				}

				mult_modifier = {
					factor = 0.9
					has_character_modifier = mother_vow_charity
				}

				mult_modifier = {
					factor = 0.9
					has_character_modifier = mother_vow_temperance
				}

				mult_modifier = {
					factor = 1.75
					has_character_modifier = mother_exposed_to_elements
				}

				mult_modifier = {
					factor = 0.8
					has_character_modifier = mother_comforted
				}
			}
		}
	}
}

troubled_pregnancy_variable_hard_effect = {
	hidden_effect = {
		random_list = {
			30 = {
				change_variable = {
					which = troubled_pregnancy_variable
					value = -3
				}

				mult_modifier = {
					factor = 1.25
					has_character_modifier = mother_dark_rest
				}

				mult_modifier = {
					factor = 1.05
					has_character_modifier = mother_chatting
				}

				mult_modifier = {
					factor = 1.25
					has_character_modifier = mother_fertility_festival_1
				}

				mult_modifier = {
					factor = 1.5
					has_character_modifier = mother_fertility_festival_2
				}

				mult_modifier = {
					factor = 1.5
					has_character_modifier = mother_festival_blessing
				}

				mult_modifier = {
					factor = 0.7
					health < 1
				}

				mult_modifier = {
					factor = 0.8
					health < 2
				}

				mult_modifier = {
					factor = 0.9
					health < 3
				}

				mult_modifier = {
					factor = 0.8
					trait = wounded
				}

				mult_modifier = {
					factor = 0.8
					trait = maimed
				}

				mult_modifier = {
					factor = 0.9
					trait = cough
				}

				mult_modifier = {
					factor = 0.8
					trait = fever
				}

				mult_modifier = {
					factor = 0.9
					trait = diarrhea
				}

				mult_modifier = {
					factor = 0.9
					trait = vomiting
				}

				mult_modifier = {
					factor = 0.7
					trait = chest_pain
				}

				mult_modifier = {
					factor = 0.8
					trait = cramps
				}

				mult_modifier = {
					factor = 0.9
					trait = rash
				}

				mult_modifier = {
					factor = 0.9
					trait = headache
				}

				mult_modifier = {
					factor = 0.7
					trait = abdominal_pain
				}

				mult_modifier = {
					factor = 0.9
					trait = fatigue
				}

				mult_modifier = {
					factor = 0.9
					trait = malaise
				}

				mult_modifier = {
					factor = 0.8
					trait = infection
				}

				mult_modifier = {
					factor = 1.1
					has_character_flag = pregnancy_priest_comfort
				}

				mult_modifier = {
					factor = 1.2
					has_character_flag = pregnancy_shaman_comfort
				}

				mult_modifier = {
					factor = 1.3
					has_character_flag = pregnancy_spouse_comfort
				}

				mult_modifier = {
					factor = 1.4
					has_character_flag = pregnancy_healer_help
				}

				mult_modifier = {
					factor = 0.7
					persistent_event_target:pregnancy_mother_physician_per = { learning < 5 }
				}

				mult_modifier = {
					factor = 0.8
					persistent_event_target:pregnancy_mother_physician_per = { learning < 10 }
				}

				mult_modifier = {
					factor = 0.9
					persistent_event_target:pregnancy_mother_physician_per = { is_dumb_trigger = yes }
				}

				mult_modifier = {
					factor = 0.8
					persistent_event_target:pregnancy_mother_physician_per = { trait = imbecile }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_mother_physician_per = { trait = scholar }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_mother_physician_per = { trait = physician }
				}

				mult_modifier = {
					factor = 1.15
					persistent_event_target:pregnancy_mother_physician_per = { is_smart_congenital_tier_1_trigger = yes }
				}

				mult_modifier = {
					factor = 1.2
					persistent_event_target:pregnancy_mother_physician_per = { is_smart_congenital_tier_2_trigger = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_mother_physician_per = { is_smart_congenital_tier_3_trigger = yes }
				}

				mult_modifier = {
					factor = 1.33
					persistent_event_target:pregnancy_mother_physician_per = { is_smart_congenital_tier_4_trigger = yes }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_mother_physician_per = { is_smart_congenital_tier_5_trigger = yes }
				}

				mult_modifier = {
					factor = 1.15
					persistent_event_target:pregnancy_mother_physician_per = { is_smart_non_congenital_tier_1_trigger = yes }
				}

				mult_modifier = {
					factor = 1.2
					persistent_event_target:pregnancy_mother_physician_per = { is_smart_non_congenital_tier_2_trigger = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_mother_physician_per = { is_smart_non_congenital_tier_3_trigger = yes }
				}

				mult_modifier = {
					factor = 1.33
					persistent_event_target:pregnancy_mother_physician_per = { is_smart_non_congenital_tier_4_trigger = yes }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_mother_physician_per = { is_smart_non_congenital_tier_5_trigger = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_mother_physician_per = { z_basic_divine = yes }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_mother_physician_per = { z_trained_divine = yes }
				}

				mult_modifier = {
					factor = 2
					persistent_event_target:pregnancy_mother_physician_per = { z_journeyman_divine = yes }
				}

				mult_modifier = {
					factor = 2.5
					persistent_event_target:pregnancy_mother_physician_per = { z_expert_divine = yes }
				}

				mult_modifier = {
					factor = 3
					persistent_event_target:pregnancy_mother_physician_per = { z_master_divine = yes }
				}

				mult_modifier = {
					factor = 4
					persistent_event_target:pregnancy_mother_physician_per = { z_renowned_divine = yes }
				}

				mult_modifier = {
					factor = 5
					persistent_event_target:pregnancy_mother_physician_per = { z_legendary_divine = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_mother_physician_per = { learning >= 10 }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_mother_physician_per = { learning >= 15 }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_mother_physician_per = { learning >= 20 }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_mother_physician_per = { learning >= 25 }
				}

				mult_modifier = {
					factor = 0.7
					persistent_event_target:pregnancy_spouse_physician_per = { learning < 5 }
				}

				mult_modifier = {
					factor = 0.8
					persistent_event_target:pregnancy_spouse_physician_per = { learning < 10 }
				}

				mult_modifier = {
					factor = 0.9
					persistent_event_target:pregnancy_spouse_physician_per = { is_dumb_trigger = yes }
				}

				mult_modifier = {
					factor = 0.8
					persistent_event_target:pregnancy_spouse_physician_per = { trait = imbecile }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_spouse_physician_per = { trait = scholar }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_spouse_physician_per = { trait = physician }
				}

				mult_modifier = {
					factor = 1.15
					persistent_event_target:pregnancy_spouse_physician_per = { is_smart_congenital_tier_1_trigger = yes }
				}

				mult_modifier = {
					factor = 1.2
					persistent_event_target:pregnancy_spouse_physician_per = { is_smart_congenital_tier_2_trigger = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_spouse_physician_per = { is_smart_congenital_tier_3_trigger = yes }
				}

				mult_modifier = {
					factor = 1.33
					persistent_event_target:pregnancy_spouse_physician_per = { is_smart_congenital_tier_4_trigger = yes }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_spouse_physician_per = { is_smart_congenital_tier_5_trigger = yes }
				}

				mult_modifier = {
					factor = 1.15
					persistent_event_target:pregnancy_spouse_physician_per = { is_smart_non_congenital_tier_1_trigger = yes }
				}

				mult_modifier = {
					factor = 1.2
					persistent_event_target:pregnancy_spouse_physician_per = { is_smart_non_congenital_tier_2_trigger = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_spouse_physician_per = { is_smart_non_congenital_tier_3_trigger = yes }
				}

				mult_modifier = {
					factor = 1.33
					persistent_event_target:pregnancy_spouse_physician_per = { is_smart_non_congenital_tier_4_trigger = yes }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_spouse_physician_per = { is_smart_non_congenital_tier_5_trigger = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_spouse_physician_per = { z_basic_divine = yes }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_spouse_physician_per = { z_trained_divine = yes }
				}

				mult_modifier = {
					factor = 2
					persistent_event_target:pregnancy_spouse_physician_per = { z_journeyman_divine = yes }
				}

				mult_modifier = {
					factor = 2.5
					persistent_event_target:pregnancy_spouse_physician_per = { z_expert_divine = yes }
				}

				mult_modifier = {
					factor = 3
					persistent_event_target:pregnancy_spouse_physician_per = { z_master_divine = yes }
				}

				mult_modifier = {
					factor = 4
					persistent_event_target:pregnancy_spouse_physician_per = { z_renowned_divine = yes }
				}

				mult_modifier = {
					factor = 5
					persistent_event_target:pregnancy_spouse_physician_per = { z_legendary_divine = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_spouse_physician_per = { learning >= 10 }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_spouse_physician_per = { learning >= 15 }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_spouse_physician_per = { learning >= 20 }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_spouse_physician_per = { learning >= 25 }
				}

				mult_modifier = {
					factor = 0.7
					persistent_event_target:pregnancy_regent_physician_per = { learning < 5 }
				}

				mult_modifier = {
					factor = 0.8
					persistent_event_target:pregnancy_regent_physician_per = { learning < 10 }
				}

				mult_modifier = {
					factor = 0.9
					persistent_event_target:pregnancy_regent_physician_per = { is_dumb_trigger = yes }
				}

				mult_modifier = {
					factor = 0.8
					persistent_event_target:pregnancy_regent_physician_per = { trait = imbecile }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_regent_physician_per = { trait = scholar }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_regent_physician_per = { trait = physician }
				}

				mult_modifier = {
					factor = 1.15
					persistent_event_target:pregnancy_regent_physician_per = { is_smart_congenital_tier_1_trigger = yes }
				}

				mult_modifier = {
					factor = 1.2
					persistent_event_target:pregnancy_regent_physician_per = { is_smart_congenital_tier_2_trigger = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_regent_physician_per = { is_smart_congenital_tier_3_trigger = yes }
				}

				mult_modifier = {
					factor = 1.33
					persistent_event_target:pregnancy_regent_physician_per = { is_smart_congenital_tier_4_trigger = yes }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_regent_physician_per = { is_smart_congenital_tier_5_trigger = yes }
				}

				mult_modifier = {
					factor = 1.15
					persistent_event_target:pregnancy_regent_physician_per = { is_smart_non_congenital_tier_1_trigger = yes }
				}

				mult_modifier = {
					factor = 1.2
					persistent_event_target:pregnancy_regent_physician_per = { is_smart_non_congenital_tier_2_trigger = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_regent_physician_per = { is_smart_non_congenital_tier_3_trigger = yes }
				}

				mult_modifier = {
					factor = 1.33
					persistent_event_target:pregnancy_regent_physician_per = { is_smart_non_congenital_tier_4_trigger = yes }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_regent_physician_per = { is_smart_non_congenital_tier_5_trigger = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_regent_physician_per = { z_basic_divine = yes }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_regent_physician_per = { z_trained_divine = yes }
				}

				mult_modifier = {
					factor = 2
					persistent_event_target:pregnancy_regent_physician_per = { z_journeyman_divine = yes }
				}

				mult_modifier = {
					factor = 2.5
					persistent_event_target:pregnancy_regent_physician_per = { z_expert_divine = yes }
				}

				mult_modifier = {
					factor = 3
					persistent_event_target:pregnancy_regent_physician_per = { z_master_divine = yes }
				}

				mult_modifier = {
					factor = 4
					persistent_event_target:pregnancy_regent_physician_per = { z_renowned_divine = yes }
				}

				mult_modifier = {
					factor = 5
					persistent_event_target:pregnancy_regent_physician_per = { z_legendary_divine = yes }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_regent_physician_per = { learning >= 10 }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_regent_physician_per = { learning >= 15 }
				}

				mult_modifier = {
					factor = 1.25
					persistent_event_target:pregnancy_regent_physician_per = { learning >= 20 }
				}

				mult_modifier = {
					factor = 1.5
					persistent_event_target:pregnancy_regent_physician_per = { learning >= 25 }
				}
			}

			70 = {
				change_variable = {
					which = troubled_pregnancy_variable
					value = 3
				}

				mult_modifier = {
					factor = 0.75
					has_character_modifier = mother_praying_health
				}

				mult_modifier = {
					factor = 0.5
					has_character_modifier = mother_resting_health
				}

				mult_modifier = {
					factor = 0.9
					has_character_modifier = mother_partying_health
				}

				mult_modifier = {
					factor = 0.75
					has_character_modifier = mother_minor_rest
				}

				mult_modifier = {
					factor = 0.9
					has_character_modifier = mother_good_omen
				}

				mult_modifier = {
					factor = 1.2
					has_character_modifier = mother_bad_omen
				}

				mult_modifier = {
					factor = 0.9
					has_character_modifier = mother_vow_chastity
				}

				mult_modifier = {
					factor = 0.9
					has_character_modifier = mother_vow_humility
				}

				mult_modifier = {
					factor = 0.9
					has_character_modifier = mother_vow_charity
				}

				mult_modifier = {
					factor = 0.9
					has_character_modifier = mother_vow_temperance
				}

				mult_modifier = {
					factor = 1.75
					has_character_modifier = mother_exposed_to_elements
				}

				mult_modifier = {
					factor = 0.8
					has_character_modifier = mother_comforted
				}
			}
		}
	}
}

# Used for gluttonous and hedonistic actions
gain_weight_small_effect = {
	hidden_effect = {
		change_variable = {
			which = physique_variable
			value = 5
		}
	}
}

gain_weight_medium_effect = {
	hidden_effect = {
		change_variable = {
			which = physique_variable
			value = 10
		}
	}
}

gain_weight_large_effect = {
	hidden_effect = {
		change_variable = {
			which = physique_variable
			value = 15
		}
	}
}

# Used for training and balanced lifestyle
balance_weight_small_effect = {
	hidden_effect = {
		# If variable is above 1, reduce it. If it's below -1 increase it.
		if = {
			limit = {
				check_variable = {
					which = physique_variable
					value > 1
				}
			}

			change_variable = {
				which = physique_variable
				value = -2
			}
		}
		else_if = {
			limit = {
				check_variable = {
					which = physique_variable
					value < -1
				}
			}

			change_variable = {
				which = physique_variable
				value = 2
			}
		}
	}
}

balance_weight_medium_effect = {
	hidden_effect = {
		# If variable is above 1, reduce it. If it's below 1 increase it.
		if = {
			limit = {
				check_variable = {
					which = physique_variable
					value > 1
				}
			}

			change_variable = {
				which = physique_variable
				value = -5
			}
		}
		else_if = {
			limit = {
				check_variable = {
					which = physique_variable
					value < -1
				}
			}

			change_variable = {
				which = physique_variable
				value = 5
			}
		}
	}
}

balance_weight_large_effect = { # Should be used rarely
	hidden_effect = {
		# If variable is above 1, reduce it. If it's below -1 increase it.
		if = {
			limit = {
				check_variable = {
					which = physique_variable
					value > 1
				}
			}

			change_variable = {
				which = physique_variable
				value = -10
			}
		}
		else_if = {
			limit = {
				check_variable = {
					which = physique_variable
					value < -1
				}
			}

			change_variable = {
				which = physique_variable
				value = 10
			}
		}
	}
}

# Used for seclusions, fasting, dungeon starvation, etc
# Because of the way above triggers work, checks if you are below -5/-10/-15
lose_weight_small_effect = {
	hidden_effect = {
		change_variable = {
			which = physique_variable
			value = -6
		}
	}
}

lose_weight_medium_effect = {
	hidden_effect = {
		change_variable = {
			which = physique_variable
			value = -11
		}
	}
}

lose_weight_large_effect = {
	hidden_effect = {
		change_variable = {
			which = physique_variable
			value = -16
		}
	}
}

# Doesn't change the variable, only checks if the character has the correct trait assigned.
weight_trait_check_effect = {
	if = {
		limit = { 
			can_change_weight_trigger = yes
		}

		# Debilitating effects are gained by special events, usually later in life (40s), but they can be cleared up if the character's variable goes back towards 0 again.
		if = {
			limit = {
				has_character_modifier = obese_modifier

				check_variable = {
					which = physique_variable
					value < 30
				}
			}

			remove_character_modifier = obese_modifier
		}
		else_if = {
			limit = {
				has_character_modifier = severely_underweight_modifier

				check_variable = {
					which = physique_variable
					value >= -30
				}
			}
			remove_character_modifier = severely_underweight_modifier
		}

		# Handle traits
		if = {
			limit = { trait = is_fat }

			if = {
				limit = {
					check_variable = {
						which = physique_variable
						value < 15
					}

					check_variable = {
						which = physique_variable
						value >= -15
					}
				}

				remove_trait = is_fat

				hidden_effect = {
					remove_weight_modifier_effect = yes
					character_event = { id = HFP.20601 } # Notification: I am no longer fat
				}
			}
			else_if = {
				limit = {
					check_variable = {
						which = physique_variable
						value < -15
					}
				}

				remove_trait = is_fat
				add_trait = is_malnourished

				hidden_effect = {
					remove_weight_modifier_effect = yes
					character_event = { id = HFP.20602 } # Notification: I am malnourished
				}
			}
		}
		else_if = {
			limit = { trait = is_malnourished }

			if = {
				limit = {
					check_variable = {
						which = physique_variable
						value < 15
					}

					check_variable = {
						which = physique_variable
						value >= -15
					}
				}

				remove_trait = is_malnourished

				hidden_effect = {
					remove_weight_modifier_effect = yes
					character_event = { id = HFP.20603 } # Notification: I am no longer malnourished
				}
			}

			else_if = {
				limit = {
					check_variable = {
						which = physique_variable
						value >= 15
					}
				}

				remove_trait = is_malnourished
				add_trait = is_fat

				hidden_effect = {
					remove_weight_modifier_effect = yes
					character_event = { id = HFP.20600 } # Notification: I am fat
				}
			}
		}
		else = {
			if = {
				limit = {
					check_variable = {
						which = physique_variable
						value >= 15
					}
				}

				# First time try to fire a special event if character meets any of the conditions, otherwise simply notify
				weight_flavor_conditions_effect = yes
				add_trait = is_fat
				character_event = { id = HFP.20600 } # Notification: I am fat
			}
			else_if = {
				limit = {
					check_variable = {
						which = physique_variable
						value < -15
					}
				}

				# First time try to fire a special event if character meets any of the conditions, otherwise simply notify
				weight_flavor_conditions_effect = yes
				add_trait = is_malnourished
				character_event = { id = HFP.20602 } # Notification: I am malnourished
			}
		}
	}
}

apply_weight_modifier_effect = {
	if = {
		limit = {
			OR = {
				has_character_flag = flag_fat_for_gluttony
				has_character_flag = flag_fat_for_boredom
			}
		}

		add_character_modifier = {
			name = coping_glutton
			years = 15
		}
	}
	else_if = {
		limit = {
			OR = {
				has_character_flag = flag_fat_for_sloth
				has_character_flag = flag_malnourished_for_sloth
				has_character_flag = flag_fat_for_stress
				has_character_flag = flag_malnourished_for_stress
				has_character_flag = flag_fat_for_lust
				has_character_flag = flag_fat_for_wroth
				has_character_flag = flag_malnourished_for_craven
			}
		}

		add_character_modifier = {
			name = stress_relief
			years = 15
		}
	}
	else_if = {
		limit = {
			OR = {
				has_character_flag = flag_fat_for_depression
				has_character_flag = flag_malnourished_for_depression
			}
		}

		add_character_modifier = {
			name = anti_depression
			years = 15
		}
	}
	else_if = {
		limit = {
			OR = {
				has_character_flag = flag_fat_for_hedonism
				has_character_flag = flag_fat_for_carousing
				has_character_flag = flag_fat_for_drunkard
			}
		}

		add_character_modifier = {
			name = munificent_modifier
			years = 15
		}
	}
	else_if = {
		limit = {
			OR = {
				has_character_flag = flag_fat_for_family
				has_character_flag = flag_fat_for_content
			}
		}

		if = {
			limit = { is_female = yes }

			add_character_modifier = {
				name = jolly_matron_modifier
				years = 15
			}
		}
		else = {
			add_character_modifier = {
				name = jolly_patriarch_modifier
				years = 15
			}
		}
	}
	else_if = {
		limit = {
			OR = {
				has_character_flag = flag_malnourished_for_temperance
				has_character_flag = flag_malnourished_for_boredom
			}
		}

		add_character_modifier = {
			name = extremely_temperate
			years = 15
		}
	}
	else_if = {
		limit = { has_character_flag = flag_malnourished_for_study }

		add_character_modifier = {
			name = restless_study
			years = 15
		}
	}
	else_if = {
		limit = { has_character_flag = flag_malnourished_for_faith }

		add_character_modifier = {
			name = restless_prayer
			years = 15
		}
	}
	else_if = {
		limit = { has_character_flag = flag_malnourished_for_paranoia }

		add_character_modifier = {
			name = malnourished_paranoia
			years = 15
		}
	}
	else_if = {
		limit = { has_character_flag = flag_malnourished_for_diligence }

		add_character_modifier = {
			name = tireless_worker
			years = 15
		}
	}
	else_if = {
		limit = { has_character_flag = flag_malnourished_for_cannibal }

		add_character_modifier = {
			name = refined_palate
			years = 15
		}
	}
}

remove_weight_modifier_effect = {
	if = {
		limit = { has_character_modifier = coping_glutton }
		remove_character_modifier = coping_glutton
	}
	if = {
		limit = { has_character_modifier = stress_relief }
		remove_character_modifier = stress_relief
	}
	if = {
		limit = { has_character_modifier = anti_depression }
		remove_character_modifier = anti_depression
	}
	if = {
		limit = { has_character_modifier = munificent_modifier }
		remove_character_modifier = munificent_modifier
	}
	if = {
		limit = { has_character_modifier = jolly_matron_modifier }
		remove_character_modifier = jolly_matron_modifier
	}
	if = {
		limit = { has_character_modifier = jolly_patriarch_modifier }
		remove_character_modifier = jolly_patriarch_modifier
	}
	if = {
		limit = { has_character_modifier = extremely_temperate }
		remove_character_modifier = extremely_temperate
	}
	if = {
		limit = { has_character_modifier = restless_study }
		remove_character_modifier = restless_study
	}
	if = {
		limit = { has_character_modifier = restless_prayer }
		remove_character_modifier = restless_prayer
	}
	if = {
		limit = { has_character_modifier = malnourished_paranoia }
		remove_character_modifier = malnourished_paranoia
	}
	if = {
		limit = { has_character_modifier = tireless_worker }
		remove_character_modifier = tireless_worker
	}
}

clear_fat_flags_effect = {
	clr_character_flag = flag_fat_for_gluttony
	clr_character_flag = flag_fat_for_stress
	clr_character_flag = flag_fat_for_depression
	clr_character_flag = flag_fat_for_sloth
	clr_character_flag = flag_fat_for_hedonism
	clr_character_flag = flag_fat_for_carousing
	clr_character_flag = flag_fat_for_family
	clr_character_flag = flag_fat_for_content
	clr_character_flag = flag_fat_for_lust
	clr_character_flag = flag_fat_for_wroth
	clr_character_flag = flag_fat_for_drunkard
	clr_character_flag = flag_fat_for_boredom
}

clear_malnourished_flags_effect = {
	clr_character_flag = flag_malnourished_for_temperance
	clr_character_flag = flag_malnourished_for_stress
	clr_character_flag = flag_malnourished_for_depression
	clr_character_flag = flag_malnourished_for_sloth
	clr_character_flag = flag_malnourished_for_study
	clr_character_flag = flag_malnourished_for_faith
	clr_character_flag = flag_malnourished_for_paranoia
	clr_character_flag = flag_malnourished_for_diligence
	clr_character_flag = flag_malnourished_for_cannibal
	clr_character_flag = flag_malnourished_for_craven
	clr_character_flag = flag_malnourished_for_boredom
}

weight_flavor_conditions_effect = {
	# If already about to become fat and fulfilling one of the special conditions,
	# fire the specific event to give more flavor
	if = {
		limit = {
			check_variable = {
				which = physique_variable
				value >= 12
			}

			practical_age >= 20

			# Possible reasons
			OR = {
				trait = gluttonous
				trait = stressed
				trait = depressed
				trait = slothful
				trait = hedonist
				trait = wroth
				trait = drunkard
				has_focus = focus_carousing

				# Happy mom
				AND = {
					is_female = yes

					any_child = {
						is_alive = yes
						is_adult = no
					}

					OR = {
						trait = kind
						trait = content
						has_focus = focus_family
						trait = patient
					}

					NOR = {
						trait = cruel
						trait = envious
					}
				}

				# Content husband
				AND = {
					is_female = no
					is_married = yes

					OR = {
						trait = kind
						trait = content
						has_focus = focus_family
						trait = patient
					}
					NOR = {
						trait = cruel
						trait = envious
					}

					OR = {
						num_of_consorts >= 2
						num_of_children >= 2
						num_of_spouses >= 2
					}
				}

				# Frustrated lustful survivor mom
				AND = {
					has_character_flag = survivor_mom
					trait = celibate
					trait = lustful
				}

				# Frustrated eunuch
				AND = {
					trait = eunuch
					trait = lustful
				}

				# Generic fallback
				AND = {
					NOT = { trait = temperate }
					check_variable = {
						which = physique_variable
						value >= 15
					}
				}
			}

			is_incapable = no
			prisoner = no
			is_inaccessible_trigger = no
			has_fat_for_flag_trigger = no # Can happen only once
			can_change_weight_trigger = yes

			NOR = {
				trait = is_fat
				has_character_flag = flag_primed_physique
				# trait = temperate
			}
		}

		if = {
			limit = {
				check_variable = {
					which = physique_variable
					value < 15
				}
			}
			gain_weight_small_effect = yes
		}

		set_character_flag = flag_primed_physique

		character_event = {
			id = HFP.20606 # Growing fat - determine reason
			days = 10
		}
	}

	# If already about to become malnourished and fulfilling one of the special conditions,
	# fire the specific event to give more flavor
	if = {
		limit = {
			check_variable = {
				which = physique_variable
				value < -12
			}

			practical_age >= 20

			# Possible reasons
			OR = {
				trait = temperate
				trait = stressed
				trait = depressed
				trait = slothful
				trait = scholar
				trait = cannibal_trait
				trait = craven
				trait = paranoid
				trait = diligent
				has_focus = focus_scholarship
				has_focus = focus_theology

				# Generic fallback
				NOR = {
					trait = gluttonous
					check_variable = {
						which = physique_variable
						value < -15
					}
				}
			}

			is_incapable = no
			prisoner = no
			is_inaccessible_trigger = no
			has_malnourished_for_flag_trigger = no # Can happen only once
			can_change_weight_trigger = yes

			NOR = {
				trait = is_malnourished
				# trait = gluttonous
				has_character_flag = flag_primed_physique
			}
		}

		if = {
			limit = {
				check_variable = {
					which = physique_variable
					value >= -15
				}
			}

			lose_weight_small_effect = yes
		}

		set_character_flag = flag_primed_physique

		character_event = {
			id = HFP.20629
			days = 10
		}
	}
}

# Copied to facilitate use elsewhere
this_post_weight_gain_flavor_effect = {
	hidden_effect = {
		random_list = {
			25 = { } # Do nothing

			5 = {
				trigger = { trait = stressed }

				character_event = {
					id = HFP.20607 # Lose stressed
					days = 50
					random = 50
				}
			}

			5 = {
				trigger = { trait = depressed }

				character_event = {
					id = HFP.20608 # Lose depressed
					days = 50
					random = 50
				}
			}

			2 = {
				character_event = {
					id = HFP.20609 # Gain health
					days = 50
					random = 50
				}

				mult_modifier = {
					factor = 0.5

					check_variable = {
						which = physique_variable
						value >= 20
					}
				}

				mult_modifier = {
					factor = 0.5
					NOT = { trait = feeble }
				}
			}

			2 = {
				character_event = {
					id = HFP.20610 # Lose health
					days = 50
					random = 50
				}

				mult_modifier = {
					factor = 1.5

					check_variable = {
						which = physique_variable
						value >= 20
					}
				}

				mult_modifier = {
					factor = 1.75
					trait = sturdy
				}
			}

			3 = {
				character_event = {
					id = HFP.20611 # Become charitable, vassal opinion
					days = 50
					random = 50
				}

				mult_modifier = {
					factor = 0.5
					trait = greedy
				}
			}

			5 = {
				trigger = {
					is_ruler = yes

					NOR = {
						trait = stressed
						trait = depressed
						trait = wroth
					}
				}

				character_event = {
					id = HFP.20663 # Become proud
					days = 50
					random = 50
				}
			}

			5 = {
				trigger = {
					NOT = { trait = wroth }
				}

				character_event = {
					id = HFP.20664 # Become patient
					days = 50
					random = 50
				}
			}

			1 = {
				trigger = {
					NOR = {
						trait = stressed
						trait = depressed
						trait = wroth
					}
				}

				character_event = {
					id = HFP.20665 # Become content
					days = 50
					random = 50
				}
			}
		}
	}
}

this_post_weight_loss_flavor_effect = {
	hidden_effect = {
		random_list = {
			25 = { } # Do nothing

			5 = {
				trigger = { trait = stressed }

				character_event = {
					id = HFP.20607 # Lose stressed
					days = 50
					random = 50
				}
			}
			5 = {
				trigger = { trait = depressed }

				character_event = {
					id = HFP.20608 # Lose depressed
					days = 50
					random = 50
				}
			}

			2 = {
				character_event = {
					id = HFP.20609 # Gain health
					days = 50
					random = 50
				}

				mult_modifier = {
					factor = 0.5

					check_variable = {
						which = physique_variable
						value >= 20
					}
				}

				mult_modifier = {
					factor = 0.5
					NOT = { trait = feeble }
				}
			}

			2 = {
				character_event = {
					id = HFP.20610 # Lose health
					days = 50
					random = 50
				}

				mult_modifier = {
					factor = 1.5

					check_variable = {
						which = physique_variable
						value >= 20
					}
				}

				mult_modifier = {
					factor = 1.75
					trait = sturdy
				}
			}

			3 = {
				character_event = {
					id = HFP.20611 # Become charitable, vassal opinion
					days = 50
					random = 50
				}

				mult_modifier = {
					factor = 0.5
					trait = greedy
				}
			}

			5 = {
				trigger = {
					is_ruler = yes

					NOR = {
						trait = stressed
						trait = depressed
						trait = wroth
					}
				}

				character_event = {
					id = HFP.20663 # Become proud
					days = 50
					random = 50
				}
			}

			5 = {
				trigger = {
					NOT = { trait = wroth }
				}

				character_event = {
					id = HFP.20664 # Become patient
					days = 50
					random = 50
				}
			}

			1 = {
				trigger = {
					NOR = {
						trait = stressed
						trait = depressed
						trait = wroth
					}
				}

				character_event = {
					id = HFP.20665 # Become content
					days = 50
					random = 50
				}
			}
		}
	}
}
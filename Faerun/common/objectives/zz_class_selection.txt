# Supported types:
# character, spouse, rivals, friends, liege_titles, vassal_titles, realm_titles, realm_characters, realm_characters_plus, independent_rulers


# Misc Ambitions

obj_cls_wizard = {
	type = character

	allow = {
		is_wizard_class_allowed = yes
	}
	chance = {
		factor = 40
		modifier = {
			factor = 2
			z_has_class = no
		}
		modifier = {
			factor = 0.01
			NOT = { z_wizard = yes }
			z_has_class = yes
		}
		modifier = {
			factor = 0
			trait = stressed
		}
		modifier = {
			factor = 0.25
			trait = depressed
		}
		modifier = {
			factor = 0.5
			trait = slothful
		}
		modifier = {
			factor = 0.5
			trait = content
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = diligent
				trait = ambitious
			}
		}
		modifier = {
			factor = 2.0
			trait = erudite
		}
		modifier = {
			factor = 2.0
			is_smart_trigger = yes
		}
		modifier = {
			factor = 2.0
			trait = patient
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = detached_priest
				trait = martial_cleric
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 3.0
			trait = scholar
		}
		modifier = {
			factor = 3.0
			#government = magocratic_feudal_government
			realm = {
				OR = {
					has_law = succ_magic_elective
					has_law = succ_magic_dynastic
					has_law = succ_magic_wizard
					#has_law = succ_magic_zulkir
				}
			}
		}
		modifier = {
			factor = 3.0
			is_member_of_any_arcane_society_trigger = yes
		}
	}
	success = {
		hidden_tooltip = {
			OR = {
				AND = {
					has_character_flag = tier1
					trait = trained_wizard
				}
				AND = {
					has_character_flag = tier2
					trait = journeyman_wizard
				}
				AND = {
					has_character_flag = tier3
					trait = expert_wizard
				}
				AND = {
					has_character_flag = tier4
					trait = master_wizard
				}
				AND = {
					has_character_flag = tier5
					trait = renowned_wizard
				}
				AND = {
					has_character_flag = tier6
					trait = legendary_wizard
				}
			}
		}
		custom_tooltip = {
			text = GAIN_CLASS_LEVEL
		}
	}
	effect = {
		prestige = 50
		add_character_modifier = { name = class_cd years = 3 }
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6
	}
	abort = {
		trait = incapable
	}
	abort_effect = {
		prestige = -10
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6		
	}
	creation_effect = {
		if = {
			limit = { z_wizard = no }
			add_trait = wizard
			#character_event = { id = wizinit.1 }
		}
		trigger_switch = {
			on_trigger = trait
			wizard = { set_character_flag = tier1 }
			trained_wizard = { set_character_flag = tier2 }
			journeyman_wizard = { set_character_flag = tier3 }
			expert_wizard = { set_character_flag = tier4 }
			master_wizard = { set_character_flag = tier5 }
			renowned_wizard = { set_character_flag = tier6 }
		}
		character_event = { id = frxp.1 }
	}
}

obj_cls_warlock = {
	type = character

	allow = {
		is_warlock_class_allowed = yes
	}
	chance = {
		factor = 40
		modifier = {
			factor = 2
			z_has_class = no
		}
		modifier = {
			factor = 0.01
			NOT = { z_warlock = yes }
			z_has_class = yes
		}
		modifier = {
			factor = 0
			trait = stressed
		}
		modifier = {
			factor = 0.25
			trait = depressed
		}
		modifier = {
			factor = 2.0
			trait = cynical
		}
		modifier = {
			factor = 0.5
			trait = humble
		}
		modifier = {
			factor = 3.0
			trait = ambitious
		}
		modifier = {
			factor = 0.3
			trait = content
		}
		modifier = {
			factor = 2.0
			is_smart_trigger = yes
		}
		modifier = {
			factor = 2.0
			trait = proud
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = detached_priest
				trait = martial_cleric
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 2.0
			trait = mystic
		}
		modifier = {
			factor = 1.5
			trait = wroth
		}
		modifier = {
			factor = 3.0
			#government = magocratic_feudal_government
			realm = {
				OR = {
					has_law = succ_magic_elective
					has_law = succ_magic_dynastic
					has_law = succ_magic_warlock
				}
			}
		}
		modifier = {
			factor = 3.0
			OR = {
				is_member_of_any_zhent_like_society_trigger = yes
				society_member_of = the_satanists
			}
		}
	}
	success = {
		hidden_tooltip = {
			OR = {
				AND = {
					has_character_flag = tier1
					trait = trained_warlock
				}
				AND = {
					has_character_flag = tier2
					trait = journeyman_warlock
				}
				AND = {
					has_character_flag = tier3
					trait = expert_warlock
				}
				AND = {
					has_character_flag = tier4
					trait = master_warlock
				}
				AND = {
					has_character_flag = tier5
					trait = renowned_warlock
				}
				AND = {
					has_character_flag = tier6
					trait = legendary_warlock
				}
			}
		}
		custom_tooltip = {
			text = GAIN_CLASS_LEVEL
		}
	}
	effect = {
		prestige = 50
		add_character_modifier = { name = class_cd years = 3 }
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6
	}
	abort = {
		trait = incapable
	}
	abort_effect = {
		prestige = -10
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6		
	}
	creation_effect = {
		if = {
			limit = { z_warlock = no }
			add_trait = warlock
		}
		trigger_switch = {
			on_trigger = trait
			warlock = { set_character_flag = tier1 }
			trained_warlock = { set_character_flag = tier2 }
			journeyman_warlock = { set_character_flag = tier3 }
			expert_warlock = { set_character_flag = tier4 }
			master_warlock = { set_character_flag = tier5 }
			renowned_warlock = { set_character_flag = tier6 }
		}
		character_event = { id = frxp.1 }
	}
}

obj_cls_sorcerer = {
	type = character

	allow = {
		is_sorcerer_class_allowed = yes
	}
	chance = {
		factor = 40
		modifier = {
			factor = 2
			z_has_class = no
		}
		modifier = {
			factor = 0.01
			NOT = { z_sorcerer = yes }
			z_has_class = yes
		}
		modifier = {
			factor = 0
			trait = stressed
		}
		modifier = {
			factor = 0.25
			trait = depressed
		}
		modifier = {
			factor = 0.5
			trait = slothful
		}
		modifier = {
			factor = 0.5
			trait = humble
		}
		modifier = {
			factor = 2.0
			trait = diligent
		}
		modifier = {
			factor = 3.0
			trait = ambitious
		}
		modifier = {
			factor = 0.3
			trait = content
		}
		modifier = {
			factor = 2.0
			is_smart_trigger = yes
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = detached_priest
				trait = martial_cleric
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 2.0
			trait = mystic
		}
		modifier = {
			factor = 1.5
			trait = patient
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = creature_kobold
				trait = creature_dragonborn
			}
		}
		modifier = {
			factor = 3.0
			#government = magocratic_feudal_government
			realm = {
				OR = {
					has_law = succ_magic_elective
					has_law = succ_magic_dynastic
				}
			}
		}
		modifier = {
			factor = 3.0
			is_member_of_any_arcane_society_trigger = yes
		}
	}
	success = {
		hidden_tooltip = {
			OR = {
				AND = {
					has_character_flag = tier1
					trait = trained_sorcerer
				}
				AND = {
					has_character_flag = tier2
					trait = journeyman_sorcerer
				}
				AND = {
					has_character_flag = tier3
					trait = expert_sorcerer
				}
				AND = {
					has_character_flag = tier4
					trait = master_sorcerer
				}
				AND = {
					has_character_flag = tier5
					trait = renowned_sorcerer
				}
				AND = {
					has_character_flag = tier6
					trait = legendary_sorcerer
				}
			}
		}
		custom_tooltip = {
			text = GAIN_CLASS_LEVEL
		}
	}
	effect = {
		prestige = 50
		add_character_modifier = { name = class_cd years = 3 }
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6
	}
	abort = {
		trait = incapable
	}
	abort_effect = {
		prestige = -10
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6		
	}
	creation_effect = {
		if = {
			limit = { z_sorcerer = no }
			add_trait = sorcerer
			character_event = { id = sorcinit.1 }
		}
		trigger_switch = {
			on_trigger = trait
			sorcerer = { set_character_flag = tier1 }
			trained_sorcerer = { set_character_flag = tier2 }
			journeyman_sorcerer = { set_character_flag = tier3 }
			expert_sorcerer = { set_character_flag = tier4 }
			master_sorcerer = { set_character_flag = tier5 }
			renowned_sorcerer = { set_character_flag = tier6 }
		}
		character_event = { id = frxp.1 }
	}
}

obj_cls_monk = {
	type = character

	allow = {
		is_monk_class_allowed = yes
	}
	chance = {
		factor = 40
		modifier = {
			factor = 2
			z_has_class = no
		}
		modifier = {
			factor = 0.01
			NOT = { z_monk = yes }
			z_has_class = yes
		}
		modifier = {
			factor = 3.0
			culture = githzerai
		}
		modifier = {
			factor = 0
			trait = stressed
		}
		modifier = {
			factor = 0.25
			trait = depressed
		}
		modifier = {
			factor = 2.0
			trait = diligent
		}
		modifier = {
			factor = 0.2
			trait = slothful
		}
		modifier = {
			factor = 3.0
			trait = patient
		}
		modifier = {
			factor = 2.0
			trait = humble
		}
		modifier = {
			factor = 2.0
			trait = temperate
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = sturdy
				is_strong_trigger = yes
			}
		}
		modifier = {
			factor = 2.5
			trait = zealous
		}
		modifier = {
			factor = 0.1
			trait = cynical
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = detached_priest
				trait = martial_cleric
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 2.0
			trait = theologian
		}
		modifier = {
			factor = 2.0
			trait = mystic
		}
		modifier = {
			factor = 0.5
			trait = hedonist
		}
		modifier = {
			factor = 0.5
			trait = gluttonous
		}
		modifier = {
			factor = 0.2
			trait = drunkard
		}
		modifier = {
			factor = 0.1
			OR = {
				trait = one_handed
				trait = one_legged
				trait = grounded
				trait = mangled
				trait = maimed
			}
		}
		modifier = {
			factor = 2.0
			OR = {
				government = divine_feudal_government
				government = theocratic_feudal_government
				government = theocracy_government
				realm = {
					OR = {
						has_law = succ_divine_elective
						has_law = succ_divine_dynastic
					}
				}
			}
		}
		modifier = {
			factor = 3.0
			government = nomadic_tribal_government
		}
		modifier = {
			factor = 3.0
			realm = {
				has_law = succ_divine_monk
			}
		}
		modifier = {
			factor = 3.0
			is_member_of_any_monastic_order_trigger = yes
		}		
		modifier = {
			factor = 1.5
			OR = {
				culture_group = taan_group
				culture_group = shou_group
				culture_group = celestial_sea_group
				culture_group = malatran_group
				culture_group = old_zakharan_group
			}
		}
	}
	success = {
		hidden_tooltip = {
			OR = {
				AND = {
					has_character_flag = tier1
					trait = trained_monk
				}
				AND = {
					has_character_flag = tier2
					trait = journeyman_monk
				}
				AND = {
					has_character_flag = tier3
					trait = expert_monk
				}
				AND = {
					has_character_flag = tier4
					trait = master_monk
				}
				AND = {
					has_character_flag = tier5
					trait = renowned_monk
				}
				AND = {
					has_character_flag = tier6
					trait = legendary_monk
				}
			}
		}
		custom_tooltip = {
			text = GAIN_CLASS_LEVEL
		}
	}
	effect = {
		prestige = 50
		add_character_modifier = { name = class_cd years = 3 }
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6
	}
	abort = {
		trait = incapable
	}
	abort_effect = {
		prestige = -10
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6		
	}
	creation_effect = {
		if = {
			limit = { z_monk = no }
			add_trait = class_monk
		}
		trigger_switch = {
			on_trigger = trait
			class_monk = { set_character_flag = tier1 }
			trained_monk = { set_character_flag = tier2 }
			journeyman_monk = { set_character_flag = tier3 }
			expert_monk = { set_character_flag = tier4 }
			master_monk = { set_character_flag = tier5 }
			renowned_monk = { set_character_flag = tier6 }
		}
		character_event = { id = frxp.1 }
	}
}

obj_cls_psion = {
	type = character

	allow = {
		is_psion_class_allowed = yes
	}
	chance = {
		factor = 40
		modifier = {
			factor = 2
			z_has_class = no
		}
		modifier = {
			factor = 0.01
			NOT = { z_psion = yes }
			z_has_class = yes
		}
		modifier = {
			factor = 0
			trait = stressed
		}
		modifier = {
			factor = 0.25
			trait = depressed
		}
		modifier = {
			factor = 0.5
			trait = slothful
		}
		modifier = {
			factor = 0.5
			trait = humble
		}
		modifier = {
			factor = 2.0
			trait = diligent
		}
		modifier = {
			factor = 3.0
			trait = ambitious
		}
		modifier = {
			factor = 0.3
			trait = content
		}
		modifier = {
			factor = 2.0
			is_smart_trigger = yes
		}
		modifier = {
			factor = 2.0
			trait = proud
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = detached_priest
				trait = martial_cleric
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 2.0
			trait = mystic
		}
		modifier = {
			factor = 1.5
			trait = wroth
		}
		modifier = {
			factor = 1.5
			culture_group = chondathan_group
		}
	}
	success = {
		hidden_tooltip = {
			OR = {
				AND = {
					has_character_flag = tier1
					trait = trained_psion
				}
				AND = {
					has_character_flag = tier2
					trait = journeyman_psion
				}
				AND = {
					has_character_flag = tier3
					trait = expert_psion
				}
				AND = {
					has_character_flag = tier4
					trait = master_psion
				}
				AND = {
					has_character_flag = tier5
					trait = renowned_psion
				}
				AND = {
					has_character_flag = tier6
					trait = legendary_psion
				}
			}
		}
		custom_tooltip = {
			text = GAIN_CLASS_LEVEL
		}
	}
	effect = {
		prestige = 50
		add_character_modifier = { name = class_cd years = 3 }
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6
	}
	abort = {
		trait = incapable
	}
	abort_effect = {
		prestige = -10
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6		
	}
	creation_effect = {
		if = {
			limit = { z_psion = no }
			add_trait = psion
		}
		trigger_switch = {
			on_trigger = trait
			psion = { set_character_flag = tier1 }
			trained_psion = { set_character_flag = tier2 }
			journeyman_psion = { set_character_flag = tier3 }
			expert_psion = { set_character_flag = tier4 }
			master_psion = { set_character_flag = tier5 }
			renowned_psion = { set_character_flag = tier6 }
		}
		character_event = { id = frxp.1 }
	}
}

obj_cls_paladin = {
	type = character

	allow = {
		is_paladin_class_allowed = yes
	}
	chance = {
		factor = 40
		modifier = {
			factor = 2
			z_has_class = no
		}
		modifier = {
			factor = 0.01
			NOT = { z_paladin = yes }
			z_has_class = yes
		}
		modifier = {
			factor = 0
			trait = stressed
		}
		modifier = {
			factor = 0.25
			trait = depressed
		}
		modifier = {
			factor = 2.0
			trait = diligent
		}
		modifier = {
			factor = 0.2
			trait = slothful
		}
		modifier = {
			factor = 3.0
			trait = patient
		}
		modifier = {
			factor = 2.0
			trait = wroth
		}
		modifier = {
			factor = 2.0
			trait = duelist
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = sturdy
				is_strong_trigger = yes
			}
		}
		modifier = {
			factor = 2.5
			trait = zealous
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = misguided_warrior
				trait = tough_soldier
				trait = skilled_tactician
				trait = brilliant_strategist
				trait = detached_priest
				trait = martial_cleric
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 2.0
			trait = theologian
		}
		modifier = {
			factor = 0.5
			trait = gluttonous
		}
		modifier = {
			factor = 0.2
			trait = drunkard
		}
		modifier = {
			factor = 0.1
			OR = {
				trait = one_handed
				trait = one_legged
				trait = grounded
				trait = mangled
				trait = maimed
			}
		}
		modifier = {
			factor = 2.0
			OR = {
				government = divine_feudal_government
				government = theocracy_government
			}
		}
		modifier = {
			factor = 3.0
			is_member_of_any_knight_order_trigger = yes
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = creature_angel
				trait = creature_aasimar
			}
		}
	}
	success = {
		hidden_tooltip = {
			OR = {
				AND = {
					has_character_flag = tier1
					trait = trained_paladin
				}
				AND = {
					has_character_flag = tier2
					trait = journeyman_paladin
				}
				AND = {
					has_character_flag = tier3
					trait = expert_paladin
				}
				AND = {
					has_character_flag = tier4
					trait = master_paladin
				}
				AND = {
					has_character_flag = tier5
					trait = renowned_paladin
				}
				AND = {
					has_character_flag = tier6
					trait = legendary_paladin
				}
			}
		}
		custom_tooltip = {
			text = GAIN_CLASS_LEVEL
		}
	}
	effect = {
		prestige = 50
		add_character_modifier = { name = class_cd years = 3 }
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6
	}
	abort = {
		trait = incapable
	}
	abort_effect = {
		prestige = -10
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6		
	}
	creation_effect = {
		if = {
			limit = { z_paladin = no }
			add_trait = paladin
		}
		trigger_switch = {
			on_trigger = trait
			paladin = { set_character_flag = tier1 }
			trained_paladin = { set_character_flag = tier2 }
			journeyman_paladin = { set_character_flag = tier3 }
			expert_paladin = { set_character_flag = tier4 }
			master_paladin = { set_character_flag = tier5 }
			renowned_paladin = { set_character_flag = tier6 }
		}
		character_event = { id = frxp.1 }
	}
}

obj_cls_cleric = {
	type = character

	allow = {
		is_cleric_class_allowed = yes
	}
	chance = {
		factor = 40
		modifier = {
			factor = 2
			z_has_class = no
		}
		modifier = {
			factor = 0.01
			NOT = { z_cleric = yes }
			z_has_class = yes
		}
		modifier = {
			factor = 0
			trait = stressed
		}
		modifier = {
			factor = 0.25
			trait = depressed
		}
		modifier = {
			factor = 4.0
			trait = zealous
		}
		modifier = {
			factor = 3.0
			OR = {
				trait = detached_priest
				trait = martial_cleric
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 3.0
			trait = theologian
		}
		modifier = {
			factor = 2.0
			trait = mystic
		}
		modifier = {
			factor = 2.0
			OR = {
				government = divine_feudal_government
				government = theocratic_feudal_government
				government = theocracy_government
			}
		}
		modifier = {
			factor = 2.0
			realm = {
				OR = {
					has_law = succ_divine_elective
					has_law = succ_divine_dynastic
				}
			}
		}
		modifier = {
			factor = 3.0
			realm = {
				has_law = succ_divine_cleric
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				is_member_of_any_knight_order_trigger = yes
				is_member_of_any_monastic_order_trigger = yes
			}
		}		
	}
	success = {
		hidden_tooltip = {
			OR = {
				AND = {
					has_character_flag = tier1
					trait = trained_cleric
				}
				AND = {
					has_character_flag = tier2
					trait = journeyman_cleric
				}
				AND = {
					has_character_flag = tier3
					trait = expert_cleric
				}
				AND = {
					has_character_flag = tier4
					trait = master_cleric
				}
				AND = {
					has_character_flag = tier5
					trait = renowned_cleric
				}
				AND = {
					has_character_flag = tier6
					trait = legendary_cleric
				}
			}
		}
		custom_tooltip = {
			text = GAIN_CLASS_LEVEL
		}
	}
	effect = {
		prestige = 50
		add_character_modifier = { name = class_cd years = 3 }
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6
	}
	abort = {
		trait = incapable
	}
	abort_effect = {
		prestige = -10
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6
	}
	creation_effect = {
		if = {
			limit = { z_cleric = no }
			add_trait = cleric
			#character_event = { id = clerinit.1 }
		}
		trigger_switch = {
			on_trigger = trait
			cleric = { set_character_flag = tier1 }
			trained_cleric = { set_character_flag = tier2 }
			journeyman_cleric = { set_character_flag = tier3 }
			expert_cleric = { set_character_flag = tier4 }
			master_cleric = { set_character_flag = tier5 }
			renowned_cleric = { set_character_flag = tier6 }
		}
		character_event = { id = frxp.1 }
	}
}

obj_cls_druid = {
	type = character

	allow = {
		is_druid_class_allowed = yes
	}
	chance = {
		factor = 40
		modifier = {
			factor = 2
			z_has_class = no
		}
		modifier = {
			factor = 0.01
			NOT = { z_druid = yes }
			z_has_class = yes
		}
		modifier = {
			factor = 0
			trait = stressed
		}
		modifier = {
			factor = 0.25
			trait = depressed
		}
		modifier = {
			factor = 4.0
			trait = zealous
		}
		modifier = {
			factor = 3.0
			OR = {
				trait = detached_priest
				trait = martial_cleric
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 2.0
			trait = gardener
		}
		modifier = {
			factor = 2.0
			trait = theologian
		}
		modifier = {
			factor = 2.0
			trait = mystic
		}
		modifier = {
			factor = 2.0
			OR = {
				government = divine_feudal_government
				government = theocratic_feudal_government
				government = theocracy_government
			}
		}
		modifier = {
			factor = 2.0
			realm = {
				OR = {
					has_law = succ_divine_elective
					has_law = succ_divine_dynastic
				}
			}
		}
		modifier = {
			factor = 3.0
			realm = {
				has_law = succ_divine_druid
			}
		}
		modifier = {
			factor = 3.0
			is_member_of_any_druid_society_trigger = yes
		}
		modifier = {
			factor = 1.5
			OR = {
				culture_group = gnome_group
				culture_group = sylvan_elf_group
			}
		}
	}
	success = {
		hidden_tooltip = {
			OR = {
				AND = {
					has_character_flag = tier1
					trait = trained_druid
				}
				AND = {
					has_character_flag = tier2
					trait = journeyman_druid
				}
				AND = {
					has_character_flag = tier3
					trait = expert_druid
				}
				AND = {
					has_character_flag = tier4
					trait = master_druid
				}
				AND = {
					has_character_flag = tier5
					trait = renowned_druid
				}
				AND = {
					has_character_flag = tier6
					trait = legendary_druid
				}
			}
		}
		custom_tooltip = {
			text = GAIN_CLASS_LEVEL
		}
	}
	effect = {
		prestige = 50
		add_character_modifier = { name = class_cd years = 3 }
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6
	}
	abort = {
		trait = incapable
	}
	abort_effect = {
		prestige = -10
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6		
	}
	creation_effect = {
		if = {
			limit = { z_druid = no }
			add_trait = druid
			#character_event = { id = druidinit.1 }
		}
		trigger_switch = {
			on_trigger = trait
			druid = { set_character_flag = tier1 }
			trained_druid = { set_character_flag = tier2 }
			journeyman_druid = { set_character_flag = tier3 }
			expert_druid = { set_character_flag = tier4 }
			master_druid = { set_character_flag = tier5 }
			renowned_druid = { set_character_flag = tier6 }
		}
		character_event = { id = frxp.1 }
	}
}

obj_cls_fighter = {
	type = character

	allow = {
		is_fighter_class_allowed = yes
	}
	chance = {
		factor = 40
		modifier = {
			factor = 2
			z_has_class = no
		}
		modifier = {
			factor = 0.01
			NOT = { z_fighter = yes }
			z_has_class = yes
		}
		modifier = {
			factor = 0
			trait = stressed
		}
		modifier = {
			factor = 0.25
			trait = depressed
		}
		modifier = {
			factor = 2.0
			trait = diligent
		}
		modifier = {
			factor = 0.2
			trait = slothful
		}
		modifier = {
			factor = 3.0
			trait = brave
		}
		modifier = {
			factor = 2.0
			trait = wroth
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = sturdy
				is_strong_trigger = yes
			}
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = misguided_warrior
				trait = tough_soldier
				trait = skilled_tactician
				trait = brilliant_strategist
			}
		}
		modifier = {
			factor = 2.0
			trait = duelist
		}
		modifier = {
			factor = 2.0
			trait = strategist
		}
		modifier = {
			factor = 0.1
			OR = {
				trait = one_handed
				trait = one_legged
				trait = grounded
				trait = mangled
				trait = maimed
			}
		}
		modifier = {
			factor = 4.0
			government = nomadic_tribal_government
		}
		modifier = {
			factor = 1.5
			is_member_of_any_knight_order_trigger = yes
		}
		modifier = {
			factor = 3.0
			is_member_of_any_warrior_lodge_trigger = yes
		}		
	}
	success = {
		hidden_tooltip = {
			OR = {
				AND = {
					has_character_flag = tier1
					trait = trained_fighter
				}
				AND = {
					has_character_flag = tier2
					trait = journeyman_fighter
				}
				AND = {
					has_character_flag = tier3
					trait = expert_fighter
				}
				AND = {
					has_character_flag = tier4
					trait = master_fighter
				}
				AND = {
					has_character_flag = tier5
					trait = renowned_fighter
				}
				AND = {
					has_character_flag = tier6
					trait = legendary_fighter
				}
			}
		}
		custom_tooltip = {
			text = GAIN_CLASS_LEVEL
		}
	}
	effect = {
		prestige = 50
		add_character_modifier = { name = class_cd years = 3 }
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6
	}
	abort = {
		trait = incapable
	}
	abort_effect = {
		prestige = -10
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6		
	}
	creation_effect = {
		if = {
			limit = { z_fighter = no }
			add_trait = fighter
		}
		trigger_switch = {
			on_trigger = trait
			fighter = { set_character_flag = tier1 }
			trained_fighter = { set_character_flag = tier2 }
			journeyman_fighter = { set_character_flag = tier3 }
			expert_fighter = { set_character_flag = tier4 }
			master_fighter = { set_character_flag = tier5 }
			renowned_fighter = { set_character_flag = tier6 }
		}
		character_event = { id = frxp.1 }
	}
}

obj_cls_barbarian = {
	type = character

	allow = {
		is_barbarian_class_allowed = yes
	}
	chance = {
		factor = 40
		modifier = {
			factor = 2
			z_has_class = no
		}
		modifier = {
			factor = 0.01
			NOT = { z_barbarian = yes }
			z_has_class = yes
		}
		modifier = {
			factor = 0
			trait = stressed
		}
		modifier = {
			factor = 0.25
			trait = depressed
		}
		modifier = {
			factor = 2.0
			trait = diligent
		}
		modifier = {
			factor = 0.2
			trait = slothful
		}
		modifier = {
			factor = 3.0
			trait = brave
		}
		modifier = {
			factor = 3.0
			trait = wroth
		}
		modifier = {
			factor = 3.0
			trait = berserker
		}
		modifier = {
			factor = 2.0
			trait = stubborn
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = sturdy
				is_strong_trigger = yes
			}
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = misguided_warrior
				trait = tough_soldier
				trait = skilled_tactician
				trait = brilliant_strategist
			}
		}
		modifier = {
			factor = 2.0
			trait = duelist
		}
		modifier = {
			factor = 2.0
			trait = hunter
		}
		modifier = {
			factor = 0.1
			OR = {
				trait = one_handed
				trait = one_legged
				trait = grounded
				trait = mangled
				trait = maimed
			}
		}
		modifier = {
			factor = 4.0
			government = nomadic_tribal_government
		}
		modifier = {
			factor = 0.25
			is_tribal = no
		}
		modifier = {
			factor = 2.0
			is_member_of_any_warrior_lodge_trigger = yes
		}
	}
	success = {
		hidden_tooltip = {
			OR = {
				AND = {
					has_character_flag = tier1
					trait = trained_barbarian
				}
				AND = {
					has_character_flag = tier2
					trait = journeyman_barbarian
				}
				AND = {
					has_character_flag = tier3
					trait = expert_barbarian
				}
				AND = {
					has_character_flag = tier4
					trait = master_barbarian
				}
				AND = {
					has_character_flag = tier5
					trait = renowned_barbarian
				}
				AND = {
					has_character_flag = tier6
					trait = legendary_barbarian
				}
			}
		}
		custom_tooltip = {
			text = GAIN_CLASS_LEVEL
		}
	}
	effect = {
		prestige = 50
		add_character_modifier = { name = class_cd years = 3 }
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6
	}
	abort = {
		trait = incapable
	}
	abort_effect = {
		prestige = -10
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6		
	}
	creation_effect = {
		if = {
			limit = { z_barbarian = no }
			add_trait = barbarian
		}
		trigger_switch = {
			on_trigger = trait
			barbarian = { set_character_flag = tier1 }
			trained_barbarian = { set_character_flag = tier2 }
			journeyman_barbarian = { set_character_flag = tier3 }
			expert_barbarian = { set_character_flag = tier4 }
			master_barbarian = { set_character_flag = tier5 }
			renowned_barbarian = { set_character_flag = tier6 }
		}
		character_event = { id = frxp.1 }
	}
}

obj_cls_ranger = {
	type = character

	allow = {
		is_ranger_class_allowed = yes
	}
	chance = {
		factor = 40
		modifier = {
			factor = 2
			z_has_class = no
		}
		modifier = {
			factor = 0.01
			NOT = { z_ranger = yes }
			z_has_class = yes
		}
		modifier = {
			factor = 0
			trait = stressed
		}
		modifier = {
			factor = 0.25
			trait = depressed
		}
		modifier = {
			factor = 2.0
			trait = diligent
		}
		modifier = {
			factor = 0.2
			trait = slothful
		}
		modifier = {
			factor = 3.0
			trait = brave
		}
		modifier = {
			factor = 2.0
			trait = temperate
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = sturdy
				is_strong_trigger = yes
			}
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = misguided_warrior
				trait = tough_soldier
				trait = skilled_tactician
				trait = brilliant_strategist
			}
		}
		modifier = {
			factor = 2.0
			trait = duelist
		}
		modifier = {
			factor = 2.0
			trait = hunter
		}
		modifier = {
			factor = 2.0
			trait = gardener
		}
		modifier = {
			factor = 3.0
			realm = {
				has_law = succ_divine_druid
			}
		}
		modifier = {
			factor = 0.1
			OR = {
				trait = one_handed
				trait = one_legged
				trait = grounded
				trait = mangled
				trait = maimed
			}
		}
		modifier = {
			factor = 4.0
			government = nomadic_tribal_government
		}
		modifier = {
			factor = 1.5
			is_member_of_any_warrior_lodge_trigger = yes
		}		
	}
	success = {
		hidden_tooltip = {
			OR = {
				AND = {
					has_character_flag = tier1
					trait = trained_ranger
				}
				AND = {
					has_character_flag = tier2
					trait = journeyman_ranger
				}
				AND = {
					has_character_flag = tier3
					trait = expert_ranger
				}
				AND = {
					has_character_flag = tier4
					trait = master_ranger
				}
				AND = {
					has_character_flag = tier5
					trait = renowned_ranger
				}
				AND = {
					has_character_flag = tier6
					trait = legendary_ranger
				}
			}
		}
		custom_tooltip = {
			text = GAIN_CLASS_LEVEL
		}
	}
	effect = {
		prestige = 50
		add_character_modifier = { name = class_cd years = 3 }
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6
	}
	abort = {
		trait = incapable
	}
	abort_effect = {
		prestige = -10
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6		
	}
	creation_effect = {
		if = {
			limit = { z_ranger = no }
			add_trait = ranger
		}
		trigger_switch = {
			on_trigger = trait
			ranger = { set_character_flag = tier1 }
			trained_ranger = { set_character_flag = tier2 }
			journeyman_ranger = { set_character_flag = tier3 }
			expert_ranger = { set_character_flag = tier4 }
			master_ranger = { set_character_flag = tier5 }
			renowned_ranger = { set_character_flag = tier6 }
		}
		character_event = { id = frxp.1 }
	}
}

obj_cls_bard = {
	type = character

	allow = {
		is_bard_class_allowed = yes
	}
	chance = {
		factor = 40
		modifier = {
			factor = 2
			z_has_class = no
		}
		modifier = {
			factor = 0.01
			NOT = { z_bard = yes }
			z_has_class = yes
		}
		modifier = {
			factor = 0
			trait = stressed
		}
		modifier = {
			factor = 0.25
			trait = depressed
		}
		modifier = {
			factor = 0.5
			trait = slothful
		}
		modifier = {
			factor = 2.0
			trait = diligent
		}
		modifier = {
			factor = 0.25
			trait = shy
		}
		modifier = {
			factor = 0.2
			trait = disfigured
		}
		modifier = {
			factor = 2.0
			is_smart_non_congenital_trigger = yes
		}
		modifier = {
			factor = 3.0
			trait = socializer
		}
		modifier = {
			factor = 3.0
			trait = gregarious
		}
		modifier = {
			factor = 2.5
			OR = {
				trait = naive_appeaser
				trait = underhanded_rogue
				trait = charismatic_negotiator
				trait = grey_eminence
				trait = amateurish_plotter
				trait = flamboyant_schemer
				trait = intricate_webweaver
				trait = elusive_shadow
			}
		}
		modifier = {
			factor = 0.1
			trait = possessed
		}
		modifier = {
			factor = 3.0
			society_member_of = harpers
		}
	}
	success = {
		hidden_tooltip = {
			OR = {
				AND = {
					has_character_flag = tier1
					trait = trained_bard
				}
				AND = {
					has_character_flag = tier2
					trait = journeyman_bard
				}
				AND = {
					has_character_flag = tier3
					trait = expert_bard
				}
				AND = {
					has_character_flag = tier4
					trait = master_bard
				}
				AND = {
					has_character_flag = tier5
					trait = renowned_bard
				}
				AND = {
					has_character_flag = tier6
					trait = legendary_bard
				}
			}
		}
		custom_tooltip = {
			text = GAIN_CLASS_LEVEL
		}
	}
	effect = {
		prestige = 50
		add_character_modifier = { name = class_cd years = 3 }
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6
	}
	abort = {
		trait = incapable
	}
	abort_effect = {
		prestige = -10
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6		
	}
	creation_effect = {
		if = {
			limit = { z_bard = no }
			add_trait = bard
		}
		trigger_switch = {
			on_trigger = trait
			bard = { set_character_flag = tier1 }
			trained_bard = { set_character_flag = tier2 }
			journeyman_bard = { set_character_flag = tier3 }
			expert_bard = { set_character_flag = tier4 }
			master_bard = { set_character_flag = tier5 }
			renowned_bard = { set_character_flag = tier6 }
		}
		character_event = { id = frxp.1 }
	}
}

obj_cls_rogue = {
	type = character

	allow = {
		is_rogue_class_allowed = yes
	}
	chance = {
		factor = 40
		modifier = {
			factor = 2
			z_has_class = no
		}
		modifier = {
			factor = 0.01
			NOT = { z_rogue = yes }
			z_has_class = yes
		}
		modifier = {
			factor = 0
			trait = stressed
		}
		modifier = {
			factor = 0.25
			trait = depressed
		}
		modifier = {
			factor = 2.0
			trait = diligent
		}
		modifier = {
			factor = 0.2
			trait = trusting
		}
		modifier = {
			factor = 0.8
			trait = content
		}
		modifier = {
			factor = 0.6
			trait = just
		}
		modifier = {
			factor = 2.0
			trait = ambitious
		}
		modifier = {
			factor = 2.0
			trait = paranoid
		}
		modifier = {
			factor = 3.0
			trait = deceitful
		}
		modifier = {
			factor = 2.0
			trait = arbitrary
		}
		modifier = {
			factor = 3.0
			OR = {
				trait = amateurish_plotter
				trait = flamboyant_schemer
				trait = intricate_webweaver
				trait = elusive_shadow
			}
		}
		modifier = {
			factor = 3.0
			trait = schemer
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = seducer
				trait = seductress
			}
		}
		modifier = {
			factor = 1.5
			trait = impaler
		}
		modifier = {
			factor = 2.0
			is_smart_non_congenital_trigger = yes
		}
		modifier = {
			factor = 3.0
			OR = {
				is_member_of_any_thieves_guild_trigger = yes
				is_member_of_any_zhent_like_society_trigger = yes
			}
		}
		mult_modifier = {
			factor = 3.0
			OR = {
				any_liege = {
					any_demesne_title = {
						is_rogue_title_trigger = yes
					}
				}

				any_demesne_title = {
					is_rogue_title_trigger = yes
				}
			}
		}
		mult_modifier = {
			factor = 2.0

			real_tier = BARON
			capital_holding = { holding_type = city }
		}
	}
	success = {
		hidden_tooltip = {
			OR = {
				AND = {
					has_character_flag = tier1
					trait = trained_rogue
				}
				AND = {
					has_character_flag = tier2
					trait = journeyman_rogue
				}
				AND = {
					has_character_flag = tier3
					trait = expert_rogue
				}
				AND = {
					has_character_flag = tier4
					trait = master_rogue
				}
				AND = {
					has_character_flag = tier5
					trait = renowned_rogue
				}
				AND = {
					has_character_flag = tier6
					trait = legendary_rogue
				}
			}
		}
		custom_tooltip = {
			text = GAIN_CLASS_LEVEL
		}
	}
	effect = {
		prestige = 50
		add_character_modifier = { name = class_cd years = 3 }
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6
	}
	abort = {
		trait = incapable
	}
	abort_effect = {
		prestige = -10
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6		
	}
	creation_effect = {
		if = {
			limit = { z_rogue = no }
			add_trait = rogue
		}
		trigger_switch = {
			on_trigger = trait
			rogue = { set_character_flag = tier1 }
			trained_rogue = { set_character_flag = tier2 }
			journeyman_rogue = { set_character_flag = tier3 }
			expert_rogue = { set_character_flag = tier4 }
			master_rogue = { set_character_flag = tier5 }
			renowned_rogue = { set_character_flag = tier6 }
		}
		character_event = { id = frxp.1 }
	}
}

obj_cls_shadow = {
	type = character

	allow = {
		is_shadow_class_allowed = yes
	}
	chance = {
		factor = 40
		modifier = {
			factor = 2
			z_has_class = no
		}
		modifier = {
			factor = 0
			trait = stressed
		}
		modifier = {
			factor = 0.25
			trait = depressed
		}
		modifier = {
			factor = 2.0
			trait = diligent
		}
		modifier = {
			factor = 0.2
			trait = trusting
		}
		modifier = {
			factor = 0.8
			trait = content
		}
		modifier = {
			factor = 0.6
			trait = just
		}
		modifier = {
			factor = 2.0
			trait = ambitious
		}
		modifier = {
			factor = 2.0
			trait = paranoid
		}
		modifier = {
			factor = 3.0
			trait = deceitful
		}
		modifier = {
			factor = 2.0
			trait = arbitrary
		}
		modifier = {
			factor = 3.0
			OR = {
				trait = amateurish_plotter
				trait = flamboyant_schemer
				trait = intricate_webweaver
				trait = elusive_shadow
			}
		}
		modifier = {
			factor = 3.0
			trait = schemer
		}
		modifier = {
			factor = 2.0
			OR = {
				trait = seducer
				trait = seductress
			}
		}
		modifier = {
			factor = 1.5
			trait = impaler
		}
		modifier = {
			factor = 2.0
			is_smart_non_congenital_trigger = yes
		}
		modifier = {
			factor = 0.01
			NOT = { z_shadow = yes }
			z_has_class = yes
		}
		modifier = {
			factor = 2.0
			OR = {
				is_member_of_any_zhent_like_society_trigger = yes
				is_member_of_any_thieves_guild_trigger = yes
				is_member_of_any_alliance_society_trigger = yes
				is_member_of_any_harper_like_society_trigger = yes
			}
		}
		mult_modifier = {
			factor = 3.0
			OR = {
				any_liege = {
					any_demesne_title = {
						is_rogue_title_trigger = yes
					}
				}

				any_demesne_title = {
					is_rogue_title_trigger = yes
				}
			}
		}
	}
	success = {
		hidden_tooltip = {
			OR = {
				AND = {
					has_character_flag = tier1
					trait = trained_shadow
				}
				AND = {
					has_character_flag = tier2
					trait = journeyman_shadow
				}
				AND = {
					has_character_flag = tier3
					trait = expert_shadow
				}
				AND = {
					has_character_flag = tier4
					trait = master_shadow
				}
				AND = {
					has_character_flag = tier5
					trait = renowned_shadow
				}
				AND = {
					has_character_flag = tier6
					trait = legendary_shadow
				}
			}
		}
		custom_tooltip = {
			text = GAIN_CLASS_LEVEL
		}
	}
	effect = {
		prestige = 50
		add_character_modifier = { name = class_cd years = 3 }
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6
	}
	abort = {
		trait = incapable
	}
	abort_effect = {
		prestige = -10
		clr_character_flag = tier1
		clr_character_flag = tier2
		clr_character_flag = tier3
		clr_character_flag = tier4
		clr_character_flag = tier5
		clr_character_flag = tier6		
	}
	creation_effect = {
		if = {
			limit = { z_shadow = no }
			add_trait = shadow
		}
		trigger_switch = {
			on_trigger = trait
			shadow = { set_character_flag = tier1 }
			trained_shadow = { set_character_flag = tier2 }
			journeyman_shadow = { set_character_flag = tier3 }
			expert_shadow = { set_character_flag = tier4 }
			master_shadow = { set_character_flag = tier5 }
			renowned_shadow = { set_character_flag = tier6 }
		}
		character_event = { id = frxp.1 }
	}
}

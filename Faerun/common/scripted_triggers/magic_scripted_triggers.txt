not_casting = { # This is to disable non-spell decisions for players only
	OR = {
		ai = yes
		NOT = { 
			has_character_flag = wiz_spellbook_open 
			has_character_flag = cle_spellbook_open 
		}
	}
}

has_bad_spell_effect = {
	OR = {
		has_character_modifier = disrupt_undead_mod
		has_character_modifier = glowing_purple_skin
		has_character_modifier = burn_path_mod
		has_character_modifier = phantasmal_killer_mod
		has_character_modifier = bestow_curse_mod
		trait = spell_slow_trait
	}
}

wiz_knows_all_spells = {
	OR = {
		AND = {
			OR = {
				has_character_modifier = wiz_abjuration
				has_character_modifier = wiz_transmutation
			}
			has_character_flag = knows_spell_mordekainens_faithful_hound
			has_character_flag = knows_spell_find_familiar
			has_character_flag = knows_spell_summon_lesser_demons
			has_character_flag = knows_spell_conjure_elementals
			has_character_flag = knows_spell_greater_planar_binding
			has_character_flag = knows_spell_incendiary_cloud
			has_character_flag = knows_spell_detect_thoughts
			has_character_flag = knows_spell_comprehend_languages
			has_character_flag = knows_spell_forget_past
			has_character_flag = knows_spell_probe_thoughts
			has_character_flag = knows_spell_legend_lore
			has_character_flag = knows_spell_anticipation
			has_character_flag = knows_spell_charm_person
			has_character_flag = knows_spell_rage
			has_character_flag = knows_spell_crown_of_madness
			has_character_flag = knows_spell_cathalas_compulsion
			has_character_flag = knows_spell_mordekainens_involuntary_wizardry
			has_character_flag = knows_spell_dominate_person
			has_character_flag = knows_spell_fireball
			has_character_flag = knows_spell_magic_missile
			has_character_flag = knows_spell_lightning_bolt
			has_character_flag = knows_spell_wall_of_stone
			has_character_flag = knows_spell_chain_lightning
			has_character_flag = knows_spell_maddening_darkness
			has_character_flag = knows_spell_phantom_steed
			has_character_flag = knows_spell_alustriels_banner
			has_character_flag = knows_spell_phantasmal_force
			has_character_flag = knows_spell_phantasmal_killer
			has_character_flag = knows_spell_weird
			has_character_flag = knows_spell_mental_prison
			has_character_flag = knows_spell_animate_dead
			has_character_flag = knows_spell_false_life
			has_character_flag = knows_spell_bestow_curse
			has_character_flag = knows_spell_create_undead
			has_character_flag = knows_spell_blight
			has_character_flag = knows_spell_clone
		}
		AND = {
			OR = {
				has_character_modifier = wiz_conjuration
				has_character_modifier = wiz_divination
			}
			has_character_flag = knows_spell_alustriels_mantle
			has_character_flag = knows_spell_nezrams_amethyst_aura
			has_character_flag = knows_spell_remove_disease
			has_character_flag = knows_spell_spell_mantle
			has_character_flag = knows_spell_planar_binding
			has_character_flag = knows_spell_burn_path
			has_character_flag = knows_spell_slow
			has_character_flag = knows_spell_longstrider
			has_character_flag = knows_spell_fabricate
			has_character_flag = knows_spell_create_homunculus
			has_character_flag = knows_spell_tensers_transformation
			has_character_flag = knows_spell_disintegrate
			has_character_flag = knows_spell_charm_person
			has_character_flag = knows_spell_rage
			has_character_flag = knows_spell_crown_of_madness
			has_character_flag = knows_spell_cathalas_compulsion
			has_character_flag = knows_spell_mordekainens_involuntary_wizardry
			has_character_flag = knows_spell_dominate_person
			has_character_flag = knows_spell_fireball
			has_character_flag = knows_spell_magic_missile
			has_character_flag = knows_spell_lightning_bolt
			has_character_flag = knows_spell_wall_of_stone
			has_character_flag = knows_spell_chain_lightning
			has_character_flag = knows_spell_maddening_darkness
			has_character_flag = knows_spell_phantom_steed
			has_character_flag = knows_spell_alustriels_banner
			has_character_flag = knows_spell_phantasmal_force
			has_character_flag = knows_spell_phantasmal_killer
			has_character_flag = knows_spell_weird
			has_character_flag = knows_spell_mental_prison
			has_character_flag = knows_spell_animate_dead
			has_character_flag = knows_spell_false_life
			has_character_flag = knows_spell_bestow_curse
			has_character_flag = knows_spell_create_undead
			has_character_flag = knows_spell_blight
			has_character_flag = knows_spell_clone
		}
		AND = {
			OR = {
				has_character_modifier = wiz_enchantment
				has_character_modifier = wiz_evocation
			}
			has_character_flag = knows_spell_alustriels_mantle
			has_character_flag = knows_spell_nezrams_amethyst_aura
			has_character_flag = knows_spell_remove_disease
			has_character_flag = knows_spell_spell_mantle
			has_character_flag = knows_spell_planar_binding
			has_character_flag = knows_spell_burn_path
			has_character_flag = knows_spell_slow
			has_character_flag = knows_spell_longstrider
			has_character_flag = knows_spell_fabricate
			has_character_flag = knows_spell_create_homunculus
			has_character_flag = knows_spell_tensers_transformation
			has_character_flag = knows_spell_disintegrate
			has_character_flag = knows_spell_mordekainens_faithful_hound
			has_character_flag = knows_spell_find_familiar
			has_character_flag = knows_spell_summon_lesser_demons
			has_character_flag = knows_spell_conjure_elementals
			has_character_flag = knows_spell_greater_planar_binding
			has_character_flag = knows_spell_incendiary_cloud
			has_character_flag = knows_spell_detect_thoughts
			has_character_flag = knows_spell_comprehend_languages
			has_character_flag = knows_spell_forget_past
			has_character_flag = knows_spell_probe_thoughts
			has_character_flag = knows_spell_legend_lore
			has_character_flag = knows_spell_anticipation
			has_character_flag = knows_spell_phantom_steed
			has_character_flag = knows_spell_alustriels_banner
			has_character_flag = knows_spell_phantasmal_force
			has_character_flag = knows_spell_phantasmal_killer
			has_character_flag = knows_spell_weird
			has_character_flag = knows_spell_mental_prison
			has_character_flag = knows_spell_animate_dead
			has_character_flag = knows_spell_false_life
			has_character_flag = knows_spell_bestow_curse
			has_character_flag = knows_spell_create_undead
			has_character_flag = knows_spell_blight
			has_character_flag = knows_spell_clone
		}
		AND = {
			OR = {
				has_character_modifier = wiz_illusion
				has_character_modifier = wiz_necromancy
			}
			has_character_flag = knows_spell_alustriels_mantle
			has_character_flag = knows_spell_nezrams_amethyst_aura
			has_character_flag = knows_spell_remove_disease
			has_character_flag = knows_spell_spell_mantle
			has_character_flag = knows_spell_planar_binding
			has_character_flag = knows_spell_burn_path
			has_character_flag = knows_spell_slow
			has_character_flag = knows_spell_longstrider
			has_character_flag = knows_spell_fabricate
			has_character_flag = knows_spell_create_homunculus
			has_character_flag = knows_spell_tensers_transformation
			has_character_flag = knows_spell_disintegrate
			has_character_flag = knows_spell_mordekainens_faithful_hound
			has_character_flag = knows_spell_find_familiar
			has_character_flag = knows_spell_summon_lesser_demons
			has_character_flag = knows_spell_conjure_elementals
			has_character_flag = knows_spell_greater_planar_binding
			has_character_flag = knows_spell_incendiary_cloud
			has_character_flag = knows_spell_detect_thoughts
			has_character_flag = knows_spell_comprehend_languages
			has_character_flag = knows_spell_forget_past
			has_character_flag = knows_spell_probe_thoughts
			has_character_flag = knows_spell_legend_lore
			has_character_flag = knows_spell_anticipation
			has_character_flag = knows_spell_charm_person
			has_character_flag = knows_spell_rage
			has_character_flag = knows_spell_crown_of_madness
			has_character_flag = knows_spell_cathalas_compulsion
			has_character_flag = knows_spell_mordekainens_involuntary_wizardry
			has_character_flag = knows_spell_dominate_person
			has_character_flag = knows_spell_fireball
			has_character_flag = knows_spell_magic_missile
			has_character_flag = knows_spell_lightning_bolt
			has_character_flag = knows_spell_wall_of_stone
			has_character_flag = knows_spell_chain_lightning
			has_character_flag = knows_spell_maddening_darkness
		}
		AND = {
			has_character_modifier = wiz_wild
			has_character_flag = knows_spell_alustriels_mantle
			has_character_flag = knows_spell_nezrams_amethyst_aura
			has_character_flag = knows_spell_remove_disease
			has_character_flag = knows_spell_spell_mantle
			has_character_flag = knows_spell_planar_binding
			has_character_flag = knows_spell_burn_path
			has_character_flag = knows_spell_slow
			has_character_flag = knows_spell_longstrider
			has_character_flag = knows_spell_fabricate
			has_character_flag = knows_spell_create_homunculus
			has_character_flag = knows_spell_tensers_transformation
			has_character_flag = knows_spell_disintegrate
			has_character_flag = knows_spell_mordekainens_faithful_hound
			has_character_flag = knows_spell_find_familiar
			has_character_flag = knows_spell_summon_lesser_demons
			has_character_flag = knows_spell_greater_planar_binding
			has_character_flag = knows_spell_incendiary_cloud
			has_character_flag = knows_spell_detect_thoughts
			has_character_flag = knows_spell_comprehend_languages
			has_character_flag = knows_spell_forget_past
			has_character_flag = knows_spell_probe_thoughts
			has_character_flag = knows_spell_legend_lore
			has_character_flag = knows_spell_anticipation
			has_character_flag = knows_spell_charm_person
			has_character_flag = knows_spell_rage
			has_character_flag = knows_spell_crown_of_madness
			has_character_flag = knows_spell_cathalas_compulsion
			has_character_flag = knows_spell_dominate_person
			has_character_flag = knows_spell_magic_missile
			has_character_flag = knows_spell_lightning_bolt
			has_character_flag = knows_spell_wall_of_stone
			has_character_flag = knows_spell_chain_lightning
			has_character_flag = knows_spell_maddening_darkness
			has_character_flag = knows_spell_phantom_steed
			has_character_flag = knows_spell_alustriels_banner
			has_character_flag = knows_spell_phantasmal_force
			has_character_flag = knows_spell_phantasmal_killer
			has_character_flag = knows_spell_weird
			has_character_flag = knows_spell_mental_prison
			has_character_flag = knows_spell_animate_dead
			has_character_flag = knows_spell_false_life
			has_character_flag = knows_spell_bestow_curse
			has_character_flag = knows_spell_create_undead
			has_character_flag = knows_spell_blight
			has_character_flag = knows_spell_clone
		}
	}
}
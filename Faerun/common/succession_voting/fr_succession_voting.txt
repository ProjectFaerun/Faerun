wychlaran_vote = {
	elector_vote_strength = {
		days = 1
		additive_modifier = {
			value = 5
			z_arcane_caster = yes
			is_female = yes
		}
	}
	elector_selection = {
		days = -1 		#If below 0, ROOT is not valid to be an Elector.
		additive_modifier = { # The current ruler can always vote
			value = 2
			FROMFROM = {
				holder_scope = {
					character = ROOT
				}
			}
		}
		additive_modifier = { # Everyone under the title who is arcane caster can vote
			value = 2
			#z_arcane_caster = yes
			religion = rasallesian
			is_female = yes
			any_liege = {
				FROMFROM = {
					holder_scope = {
						character = PREVPREV
					}
				}
			}
		}
		additive_modifier = { #Current ruler's heir is always a candidate and elector if possible
			value = 2
			player_heir = {
				character = FROM
				NOT = { character = ROOT }
			}
			FROMFROM = {
				holder_scope = {
					character = PREVPREV
				}
			}
		}
	}
	candidate_vote_score = {
		days = 0
		additive_modifier = {
			value = 15
			FROM = { trait = creature_human }
		}
		additive_modifier = {
			value = 10
			FROM = {
				OR = {
					trait = creature_half_elf
					trait = creature_half_dwarf
					trait = creature_half_orc
					trait = creature_half_ogre
					trait = creature_genasi
					trait = creature_tiefling
					trait = creature_aasimar
					trait = creature_hagspawn
				}
			}
		}
		additive_modifier = {
			value = 5
			FROM = { martial = 5 }
		}
		additive_modifier = {
			value = 5
			FROM = { martial = 10 }
		}
		additive_modifier = {
			value = 5
			FROM = { martial = 15 }
		}
		additive_modifier = {
			value = 5
			FROM = { martial = 20 }
		}
		additive_modifier = {
			value = 5
			FROM = { martial = 25 }
		}
		additive_modifier = {
			value = 10
			FROM = { trait = misguided_warrior }
		}
		additive_modifier = {
			value = 15
			FROM = { trait = tough_soldier }
		}
		additive_modifier = {
			value = 25
			FROM = { trait = skilled_tactician }
		}
		additive_modifier = {
			value = 35
			FROM = { trait = brilliant_strategist }
		}
		additive_modifier = {
			value = 15
			FROM = { is_strong_trigger = yes }
		}
		additive_modifier = {
			value = 15
			FROM = { is_member_of_any_warrior_lodge_trigger = yes }
		}
		additive_modifier = {
			value = 10
			FROM = { has_any_warrior_lodge_training_trait_trigger = yes }
		}
		additive_modifier = {
			value = 15
			FROM = { has_current_warrior_lodge_leader_trait_trigger = yes }
		}
		additive_modifier = {
			value = -30
			FROM = { is_weak_trigger = yes }
		}
		additive_modifier = {
			value = -10
			FROM = { is_maimed_trigger = yes }
		}
		additive_modifier = {
			value = -15
			FROM = { has_minor_disability_trigger = yes }
		}
		additive_modifier = {
			value = -20
			FROM = { has_medium_disability_trigger = yes }
		}
		additive_modifier = {
			value = -30
			FROM = { has_severe_disability_trigger = yes }
		}
		additive_modifier = {
			value = -20
			FROM = { has_mental_disorder_trigger = yes }
		}
		additive_modifier = {
			value = -10
			FROM = { has_negative_congenital_trigger = yes }
		}
		additive_modifier = {
			value = -20
			FROM = {
			OR = {
				character_disease_trigger = yes
				has_disease_trigger = yes
				has_symptom_trigger = yes
				has_minor_disease_trigger = yes
			}
			}
		}
		additive_modifier = {
			value = -10
			FROM = { has_injury_trigger = yes }
		}
		additive_modifier = {
			value = -20
			FROM = {
			trait = creature_human
			is_senior_age_trigger = yes
			}
		}
		additive_modifier = {
			value = 10
			FROM = { has_minor_title_relating_to_martial_trigger = yes }
		}
		additive_modifier = {
			value = 5
			FROM = { has_scarred_trait_trigger = yes }
		}
		additive_modifier = {
			value = 20
			FROM = { has_any_leadership_trait_trigger = yes }
		}
		additive_modifier = {
			value = 10
			FROM = { z_basic_martial = yes }
		}
		additive_modifier = {
			value = 15
			FROM = { z_trained_martial = yes }
		}
		additive_modifier = {
			value = 20
			FROM = { z_journeyman_martial = yes }
		}
		additive_modifier = {
			value = 25
			FROM = { z_expert_martial = yes }
		}
		additive_modifier = {
			value = 30
			FROM = { z_master_martial = yes }
		}
		additive_modifier = {
			value = 35
			FROM = { z_renowned_martial = yes }
		}
		additive_modifier = {
			value = 40
			FROM = { z_legendary_martial = yes }
		}
		additive_modifier = {
			value = 10
			FROM = { trait = duelist }
		}
		additive_modifier = {
			value = 10
			FROM = { trait = hunter }
		}
		additive_modifier = {
			value = 10
			FROM = { trait = strategist }
		}
		additive_modifier = {
			value = 10
			FROM = { trait = diligent }
		}
		additive_modifier = {
			value = -10
			FROM = { trait = slothful }
		}
		additive_modifier = {
			value = 10
			FROM = { trait = wroth }
		}
		additive_modifier = {
			value = -10
			FROM = { trait = ambitious }
		}
		additive_modifier = {
			value = -10
			FROM = { trait = arbitrary }
		}
		additive_modifier = {
			value = 20
			FROM = { trait = brave }
		}
		additive_modifier = {
			value = 10
			FROM = { trait = content }
		}
		additive_modifier = {
			value = -30
			FROM = { trait = craven }
		}
		additive_modifier = {
			value = -10
			FROM = { trait = cynical }
		}
		additive_modifier = {
			value = -10
			FROM = { trait = deceitful }
		}
		additive_modifier = {
			value = 10
			FROM = { trait = zealous }
		}
		additive_modifier = {
			value = 25
			FROM = { trait = berserker }
		}
		additive_modifier = {
			value = -20
			FROM = { is_any_kinslayer_trigger = yes }
		}
		additive_modifier = {
			value = 10
			FROM = { trait = adventurer }
		}
		additive_modifier = {
			value = -10
			FROM = { trait = cannibal_trait }
		}
		additive_modifier = {
			value = -10
			FROM = { trait = travelling }
		}
		additive_modifier = {
			value = -10
			FROM = { trait = in_hiding }
		}
		additive_modifier = {
			value = -30
			FROM = { is_inaccessible_or_incapable_trigger = yes }
		}
	}
	candidate_trigger = {
		NOT = { character = FROM } #Not the current ruler.
		FROM = {
			is_female = no
			is_adult = yes
			religion = rasallesian
		}
		FROM = { #Either the candidate is in the realm, or is landless, or the title is independent, or the realm of the title does NOT have protected inheritance.
			OR = {
				any_liege = {
					character = ROOT
				}
				is_ruler = no
				ROOT_FROMFROM = { holder_scope = { independent = yes } }
				NOR = {
					ROOT_FROMFROM = { has_law = out_of_realm_inheritance_law_1 }
					ROOT_FROMFROM = { has_law = crown_authority_3 }
					ROOT_FROMFROM = { has_law = crown_authority_4 }
				}
			}
		}
		OR = {
			FROM = { any_claim = { title = ROOT_FROMFROM } }
			ROOT = {
				is_close_relative = FROM
				OR = {
					dynasty = FROM
					FROM = { is_landed = yes higher_real_tier_than = BARON }
				}
			}
			AND = {
				OR = {
					FROM = { higher_real_tier_than = COUNT } #Or Duke-tier...
					AND = {
						ROOT = {
							lower_real_tier_than = KING
							higher_real_tier_than = COUNT
						}
						FROM = { higher_real_tier_than = BARON } #...Or Count-tier under a Duchy...
					}
					AND = {
						ROOT = {
							lower_real_tier_than = DUKE
						}
						FROM = { is_landed = yes is_ruler = yes } #...Or Baron-tier under a County.
					}
				}
				FROM = {
					OR = { #Either defacto direct vassal, or independent ruler who is dejure vassal.
						vassal_of = ROOT
						AND = {
						 	any_dejure_liege = { title = ROOT }
							independent = yes
						}
					}
				}
			}
		}
		FROM = {
			OR = { #Candidate should not be a landless Courtier that is about to inherit a Theocracy or Republic
				AND = {
					is_ruler = yes
					is_landed = yes
					is_republic = no
					is_merchant_republic = no
					is_theocracy = no
				}
				NOR = {
					any_heir_title = {
						is_republic = yes
					}
					any_heir_title = {
						is_merchant_republic = yes
					}
					any_heir_title = {
						is_theocracy = yes
					}
				}
			}
			OR = { #If the title controls the religion, candidates must be of the same religion.
				ROOT = {
					NOT = {
						controls_religion = yes
					}
				}
				religion = ROOT
			}
			NOR = {
				is_theocracy = yes
				is_republic = yes
				is_merchant_republic = yes
			}
			has_inheritance_blocker = no
		}
	}
}

yikaria_vote = {
	elector_selection = {
		max_amount = 9
		days = -5
		additive_modifier = {
			value = 700
			is_voter = yes
		}
		additive_modifier = {
			value = 600
			is_landed = yes
		}
		additive_modifier = {
			value = -1000
			NOR = {
				FROMFROM = {
					holder_scope = {
						is_vassal_or_below = ROOT
					}
				}
			}
			OR = {
				prisoner = yes
				is_incapable = yes
				NOT = { culture = yikarian }
				NOT = { religion = faceless_god }
				NOT = { trait = creature_yikarian }
			}
		}
	}
	elector_vote_strength = {
		days = 1
	}
	candidate_vote_score = {
		days = 0
		additive_modifier = {
			value = 100
			FROM = {
				trait = creature_yikarian
				culture = yikarian
				religion = faceless_god
			}
		}
		additive_modifier = {
			value = 5
			FROM = { learning = 5 }
		}
		additive_modifier = {
			value = 5
			FROM = { learning = 10 }
		}
		additive_modifier = {
			value = 5
			FROM = { learning = 15 }
		}
		additive_modifier = {
			value = 5
			FROM = { learning = 20 }
		}
		additive_modifier = {
			value = 5
			FROM = { learning = 25 }
		}
		additive_modifier = {
			value = 10
			FROM = { trait = detached_priest }
		}
		additive_modifier = {
			value = 15
			FROM = { trait = martial_cleric }
		}
		additive_modifier = {
			value = 25
			FROM = { trait = scholarly_theologian }
		}
		additive_modifier = {
			value = 35
			FROM = { trait = mastermind_theologian }
		}
		additive_modifier = {
			value = 15
			FROM = { is_smart_trigger = yes }
		}
		additive_modifier = {
			value = -30
			FROM = { is_dumb_trigger = yes }
		}
		additive_modifier = {
			value = -30
			FROM = { is_weak_trigger = yes }
		}
		additive_modifier = {
			value = -10
			 FROM = { is_maimed_trigger = yes }
		}
		additive_modifier = {
			value = -15
			FROM = { has_minor_disability_trigger = yes }
		}
		additive_modifier = {
			value = -20
			FROM = { has_medium_disability_trigger = yes }
		}
		additive_modifier = {
			value = -30
			FROM = { has_severe_disability_trigger = yes }
		}
		additive_modifier = {
			value = -20
			FROM = { has_mental_disorder_trigger = yes }
		}
		additive_modifier = {
			value = -10
			FROM = { has_negative_congenital_trigger = yes }
		}
		additive_modifier = {
			value = -20
			FROM = {
			OR = {
				character_disease_trigger = yes
				has_disease_trigger = yes
				has_symptom_trigger = yes
				has_minor_disease_trigger = yes
			}
			}
		}
		additive_modifier = {
			value = -10
			FROM = { has_injury_trigger = yes }
		}
		additive_modifier = {
			value = -60
			FROM = {
			trait = creature_yikarian
			is_senior_age_trigger = yes
			}
		}
		# additive_modifier = { # commented out because this trigger does not exist
			# value = 10
			# FROM = { has_minor_title_relating_to_learning_trigger = yes }
		# }

		additive_modifier = {
			value = 10
			FROM = { z_basic_divine = yes }
		}
		additive_modifier = {
			value = 15
			FROM = { z_trained_divine = yes }
		}
		additive_modifier = {
			value = 20
			FROM = { z_journeyman_divine = yes }
		}
		additive_modifier = {
			value = 25
			FROM = { z_expert_divine = yes }
		}
		additive_modifier = {
			value = 30
			FROM = { z_master_divine = yes }
		}
		additive_modifier = {
			value = 35
			FROM = { z_renowned_divine = yes }
		}
		additive_modifier = {
			value = 40
			FROM = { z_legendary_divine = yes }
		}
		additive_modifier = {
			value = 10
			FROM = { trait = scholar }
		}
		additive_modifier = {
			value = 10
			FROM = { trait = mystic }
		}
		additive_modifier = {
			value = 10
			FROM = { trait = theologian }
		}
		additive_modifier = {
			value = -50
			FROM = { trait = cynical }
		}
		additive_modifier = {
			value = 10
			FROM = { trait = brave }
		}
		additive_modifier = {
			value = 10
			FROM = { trait = ambitious }
		}
		additive_modifier = {
			value = -20
			FROM = { trait = craven }
		}
		additive_modifier = {
			value = 50
			FROM = { trait = zealous }
		}
		additive_modifier = {
			value = -10
			FROM = { trait = travelling }
		}
		additive_modifier = {
			value = -10
			FROM = { trait = in_hiding }
		}
		additive_modifier = {
			value = -30
			FROM = { is_inaccessible_or_incapable_trigger = yes }
		}
	}
	candidate_trigger = {
		FROM = {
			is_female = no
			is_adult = yes
			culture = yikarian
			religion = faceless_god
			is_ruler = no
			NOT = { age = 50 }
		}
		FROMFROM = {
			holder_scope = {
				is_vassal_or_below = FROM
			}
		}
	}
}

magic_dynastic = {
	elector_vote_strength = {
		days = 1
	}

	elector_selection = {
		days = -1 		#If below 0, ROOT is not valid to be an Elector.
		additive_modifier = { # The current ruler can always vote
			value = 2
			FROMFROM = {
				holder_scope = {
					character = ROOT
				}
			}
		}
		additive_modifier = { # Everyone under the title can vote
			value = 2
			any_liege = {
				FROMFROM = {
					holder_scope = {
						character = PREVPREV
					}
				}
			}
		}
		additive_modifier = { #Current ruler's heir is always a candidate and elector if possible
			value = 2
			player_heir = {
				character = FROM
				NOT = { character = ROOT }
			}
			FROMFROM = {
				holder_scope = {
					character = PREVPREV
				}
			}
		}
	}

	candidate_vote_score = {
		days = 0
		
		### Elector voting himself ###
		elector_self_feudal_vote = yes

		### Candidate ###

		## Heir
		elector_heir_vote = yes

		## All candidates

		# Sexism
		elector_candidate_gender_vote = yes

		# Ageism
		elector_candidate_age_vote = yes
		elector_candidate_age_children_vote = yes

		# Culturism
		elector_candidate_culture_vote = yes

		# Barbarism
		elector_candidate_barbarism_vote = yes

		# Nepotism
		elector_candidate_nepotism_vote = yes

		# Prestige
		elector_candidate_prestige_vote = yes

		# Piety
		elector_candidate_piety_vote = yes

		# Education and lifestyle
		elector_candidate_education_lifestyle_vote = yes

		# Claims
		elector_candidate_claims_vote = yes

		additive_modifier = { #Knowledge is power...
			value = 10
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 8
			NOT = { learning = 10 }
		}
		additive_modifier = { #Knowledge is power...
			value = 15
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 10
			NOT = { learning = 12 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 20
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 12
			NOT = { learning = 14 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 25
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 14
			NOT = { learning = 16 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 30
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 16
			NOT = { learning = 18 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 35
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 18
			NOT = { learning = 20 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 40
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 20
			NOT = { learning = 25 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 50
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 25
			NOT = { learning = 30 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 65
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 30
			# No cultural bias on this one
		}

		#traits that matter for this succession
		additive_modifier = {
			value = 10
			localisation_key = tooltip_feudal_elector_vote_arcane
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				z_basic_arcane = yes
			}
		}
		additive_modifier = {
			value = 20
			localisation_key = tooltip_feudal_elector_vote_arcane
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				z_trained_arcane = yes
			}
		}
		additive_modifier = {
			value = 30
			localisation_key = tooltip_feudal_elector_vote_arcane
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				z_journeyman_arcane = yes
			}
		}
		additive_modifier = {
			value = 40
			localisation_key = tooltip_feudal_elector_vote_arcane
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				z_expert_arcane = yes
			}
		}
		additive_modifier = {
			value = 50
			localisation_key = tooltip_feudal_elector_vote_great_arcane
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				z_master_arcane = yes
			}
		}
		additive_modifier = {
			value = 60
			localisation_key = tooltip_feudal_elector_vote_great_arcane
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				z_renowned_arcane = yes
			}
		}
		additive_modifier = {
			value = 70
			localisation_key = tooltip_feudal_elector_vote_great_arcane
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				z_legendary_arcane = yes
			}
		}
		additive_modifier = {
			value = 10
			localisation_key = tooltip_feudal_elector_vote_legendary
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				z_legendary_class = yes
			}
		}
		additive_modifier = {
			value = -15
			localisation_key = tooltip_feudal_elector_vote_immortal_magic
			NOT = { character = FROM } #Do not judge yourself.
			immortal = no
			FROM = {
				immortal = yes
			}
		}
		additive_modifier = {
			value = 5
			localisation_key = tooltip_feudal_elector_vote_immortal_magic_immortal
			NOT = { character = FROM } #Do not judge yourself.
			immortal = yes
			FROM = {
				immortal = yes
			}
		}
		additive_modifier = {
			value = -50
			localisation_key = tooltip_feudal_elector_vote_incapable
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = incapable
			}
		}
		additive_modifier = {
			value = -30
			localisation_key = tooltip_feudal_elector_vote_infirm
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = infirm
			}
		}
		additive_modifier = {
			value = -20
			localisation_key = tooltip_feudal_elector_vote_has_disease
			FROM = {
				has_disease = yes
			}
		}
		additive_modifier = { #Shunned for being unproved courtier in the shadow of the ruler.
			value = -10
			localisation_key = tooltip_feudal_elector_vote_spoiled_courtier
			FROM = { character = ROOT_FROMFROMFROM }
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				NOR = {
					is_ruler = yes
					has_job_title = job_marshal
					has_job_title = job_chancellor
					has_job_title = job_treasurer
					has_job_title = job_spiritual
					has_job_title = job_spymaster
				}
				OR = {
					trait = decadent
					trait = slothful
					trait = hedonist
					trait = is_fat
					trait = shy
				}
			}
		}
		
		# Ruler traits
		elector_ruler_traits_vote = yes

		# Candidate opinion
		elector_candidate_opinion_vote = yes

		# Ruler opinion
		elector_ruler_opinion_vote = yes
	}

	candidate_trigger = {
		NOT = { character = FROM } #Not the current ruler.
		FROM = {
			dynasty = ROOT

			trigger_if = {
				limit = { ROOT_FROMFROM = { is_society_landed_title_trigger = yes } }

				ROOT_FROMFROM = {
					OR = {
						is_society_title_matching_society_of_PREV_trigger = yes

						# if a character can be a potential recruit in the society, they can be voted for if other conditions allow it (claim or being a close relative of the ruler)
						persistent_event_target:society_persist = {
							ROOT_FROM = {
								can_join_society = PREV
							}
						}
					}
				}
			}
			trigger_else_if = {
				limit = { ROOT_FROMFROM = { is_arcane_title_trigger = yes } }

				z_arcane_caster = yes
			}

			OR = {
				any_liege = {
					character = ROOT
				}
				is_ruler = no
				ROOT_FROMFROM = { holder_scope = { independent = yes } }
				NOR = {
					ROOT_FROMFROM = { has_law = out_of_realm_inheritance_law_1 }
					ROOT_FROMFROM = { has_law = crown_authority_3 }
					ROOT_FROMFROM = { has_law = crown_authority_4 }
				}
			}
		}
		OR = {
			FROM = { any_claim = { title = ROOT_FROMFROM } }
			ROOT = {
				is_close_relative = FROM
				OR = {
					dynasty = FROM
					FROM = { is_landed = yes higher_real_tier_than = BARON }
				}
			}
			AND = {
				OR = {
					FROM = { higher_real_tier_than = COUNT } #Or Duke-tier...
					AND = {
						ROOT = {
							lower_real_tier_than = KING
							higher_real_tier_than = COUNT
						}
						FROM = { higher_real_tier_than = BARON } #...Or Count-tier under a Duchy...
					}
					AND = {
						ROOT = {
							lower_real_tier_than = DUKE
						}
						FROM = { is_landed = yes is_ruler = yes } #...Or Baron-tier under a County.
					}
				}
				FROM = {
					OR = { #Either defacto direct vassal, or independent ruler who is dejure vassal.
						vassal_of = ROOT
						AND = {
						 	any_dejure_liege = { title = ROOT }
							independent = yes
						}
					}
				}
			}
		}
		FROM = {
			OR = { #Candidate should not be a landless Courtier that is about to inherit a Theocracy or Republic
				AND = {
					is_ruler = yes
					is_landed = yes
					is_republic = no
					is_merchant_republic = no
					is_theocracy = no
				}
				NOR = {
					any_heir_title = {
						is_republic = yes
					}
					any_heir_title = {
						is_merchant_republic = yes
					}
					any_heir_title = {
						is_theocracy = yes
					}
				}
			}
			OR = { #If the title controls the religion, candidates must be of the same religion.
				ROOT = {
					NOT = {
						controls_religion = yes
					}
				}
				religion = ROOT
			}
			NOR = {
				is_theocracy = yes
				is_republic = yes
				is_merchant_republic = yes
			}
			has_inheritance_blocker = no
		}
	}
}

wizard_elective = {

	elector_vote_strength = {
		days = 1
		additive_modifier = {
			value = 1
			OR = {
				trait = wizard
				trait = trained_wizard
			}
		}
		additive_modifier = {
			value = 2
			OR = {
				trait = journeyman_wizard
				trait = expert_wizard
			}
		}
		additive_modifier = {
			value = 3
			trait = master_wizard
		}
		additive_modifier = {
			value = 4
			trait = renowned_wizard
		}
		additive_modifier = {
			value = 5
			trait = legendary_wizard
		}
	}

	elector_selection = {
		days = -1 		#If below 0, ROOT is not valid to be an Elector.
		additive_modifier = { # The current ruler can always vote
			value = 2
			FROMFROM = {
				holder_scope = {
					character = ROOT
				}
			}
		}
		additive_modifier = { # Everyone under the title who is arcane caster can vote
			value = 2
			z_arcane_caster = yes
			any_liege = {
				FROMFROM = {
					holder_scope = {
						character = PREVPREV
					}
				}
			}
		}
		additive_modifier = { #Current ruler's heir is always a candidate and elector if possible
			value = 2
			player_heir = {
				character = FROM
				NOT = { character = ROOT }
			}
			FROMFROM = {
				holder_scope = {
					character = PREVPREV
				}
			}
		}
	}
	candidate_vote_score = {
		days = 0
		
		### Elector voting himself ###
		elector_self_feudal_vote = yes

		### Candidate ###

		## Heir
		elector_heir_vote = yes

		## All candidates

		# Sexism
		elector_candidate_gender_vote = yes

		# Ageism
		elector_candidate_age_vote = yes
		elector_candidate_age_children_vote = yes

		# Culturism
		elector_candidate_culture_vote = yes

		# Barbarism
		elector_candidate_barbarism_vote = yes

		# Nepotism
		elector_candidate_nepotism_vote = yes

		# Prestige
		elector_candidate_prestige_vote = yes

		# Piety
		elector_candidate_piety_vote = yes

		# Education and lifestyle
		elector_candidate_education_lifestyle_vote = yes

		# Claims
		elector_candidate_claims_vote = yes
		
		additive_modifier = { #Candidate not of the correct school
            value = -200
            localisation_key = tooltip_feudal_elector_vote_wrong_school
            NOT = { character = FROM }
            FROM = {
                NOT = { trait = wiz_abjuration }
            }
            FROMFROM = {
                OR = {
                    title = d_abjuration
                    title = d_abjuration_exile
                }
            }
        }
		
		additive_modifier = { #Candidate not of the correct school
            value = -200
            localisation_key = tooltip_feudal_elector_vote_wrong_school
            NOT = { character = FROM }
            FROM = {
                NOT = { trait = wiz_divination }
            }
            FROMFROM = {
                OR = {
                    title = d_divination
                    title = d_divination_exile
                }
            }
        }
		
		additive_modifier = { #Candidate not of the correct school
            value = -200
            localisation_key = tooltip_feudal_elector_vote_wrong_school
            NOT = { character = FROM }
            FROM = {
                NOT = { trait = wiz_conjuration }
            }
            FROMFROM = {
                OR = {
                    title = d_conjuration
                    title = d_conjuration_exile
                }
            }
        }
		
		additive_modifier = { #Candidate not of the correct school
            value = -200
            localisation_key = tooltip_feudal_elector_vote_wrong_school
            NOT = { character = FROM }
            FROM = {
                NOT = { trait = wiz_enchantment }
            }
            FROMFROM = {
                OR = {
                    title = d_enchantment
                    title = d_enchantment_exile
                }
            }
        }
		
		additive_modifier = { #Candidate not of the correct school
            value = -200
            localisation_key = tooltip_feudal_elector_vote_wrong_school
            NOT = { character = FROM }
            FROM = {
                NOT = { trait = wiz_evocation }
            }
            FROMFROM = {
                OR = {
                    title = d_evocation
                    title = d_evocation_exile
                }
            }
        }
		
		additive_modifier = { #Candidate not of the correct school
            value = -200
            localisation_key = tooltip_feudal_elector_vote_wrong_school
            NOT = { character = FROM }
            FROM = {
                NOT = { trait = wiz_illusion }
            }
            FROMFROM = {
                OR = {
                    title = d_illusion
                    title = d_illusion_exile
                }
            }
        }
		
		additive_modifier = { #Candidate not of the correct school
            value = -200
            localisation_key = tooltip_feudal_elector_vote_wrong_school
            NOT = { character = FROM }
            FROM = {
                NOT = { trait = wiz_necromancy }
            }
            FROMFROM = {
                OR = {
                    title = d_necromancy
                    title = d_necromancy_exile
                }
            }
        }
		
		additive_modifier = { #Candidate not of the correct school
            value = -200
            localisation_key = tooltip_feudal_elector_vote_wrong_school
            NOT = { character = FROM }
            FROM = {
                NOT = { trait = wiz_transmutation }
            }
            FROMFROM = {
                OR = {
                    title = d_transmutation
                    title = d_transmutation_exile
                }
            }
        }
		
		additive_modifier = { #Candidate not of the correct school
            value = -200
            localisation_key = tooltip_feudal_elector_vote_information
            NOT = { character = FROM }
            FROM = {
                NOT = { intrigue = 12 }
            }
            FROMFROM = {
                title = d_information
            }
        }
		
		additive_modifier = { #Candidate doesn't know arcane magic
			value = -200
			localisation_key = tooltip_feudal_elector_vote_knows_no_art
			NOT = { character = FROM }
			FROM = {
				z_arcane_caster = no
			}
		}
		additive_modifier = {
			value = 5
			localisation_key = tooltip_feudal_elector_vote_arcane
			NOT = { character = FROM }
			FROM = {
				z_wizard = no
				OR = {
					z_warlock = yes
					z_sorcerer = yes
					z_bard = yes
				}
			}
		}
		additive_modifier = {
			value = 5
			localisation_key = tooltip_feudal_elector_vote_wizard
			NOT = { character = FROM }
			FROM = {
				trait = wizard
			}
		}
		additive_modifier = {
			value = 10
			localisation_key = tooltip_feudal_elector_vote_wizard
			NOT = { character = FROM }
			FROM = {
				trait = trained_wizard
			}
		}
		additive_modifier = {
			value = 15
			localisation_key = tooltip_feudal_elector_vote_wizard
			NOT = { character = FROM }
			FROM = {
				trait = journeyman_wizard
			}
		}
		additive_modifier = {
			value = 20
			localisation_key = tooltip_feudal_elector_vote_great_wizard
			NOT = { character = FROM }
			FROM = {
				trait = expert_wizard
			}
		}
		additive_modifier = {
			value = 25
			localisation_key = tooltip_feudal_elector_vote_great_wizard
			NOT = { character = FROM }
			FROM = {
				trait = master_wizard
			}
		}
		additive_modifier = {
			value = 30
			localisation_key = tooltip_feudal_elector_vote_great_wizard
			NOT = { character = FROM }
			FROM = {
				trait = renowned_wizard
			}
		}
		additive_modifier = {
			value = 40
			localisation_key = tooltip_feudal_elector_vote_great_wizard
			NOT = { character = FROM }
			FROM = {
				trait = legendary_wizard
			}
		}

		additive_modifier = { #Knowledge is power...
			value = 10
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 8
			NOT = { learning = 10 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 15
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 10
			NOT = { learning = 12 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 20
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 12
			NOT = { learning = 14 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 25
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 14
			NOT = { learning = 16 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 30
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 16
			NOT = { learning = 18 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 35
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 18
			NOT = { learning = 20 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 40
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 20
			NOT = { learning = 25 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 50
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 25
			NOT = { learning = 30 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 65
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 30
			# No cultural bias on this one
		}
		additive_modifier = {
			value = -50
			localisation_key = tooltip_feudal_elector_vote_incapable
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = incapable
			}
		}
		additive_modifier = {
			value = -30
			localisation_key = tooltip_feudal_elector_vote_infirm
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = infirm
			}
		}
		additive_modifier = {
			value = -15
			localisation_key = tooltip_feudal_elector_vote_has_disease
			FROM = {
				has_disease = yes
			}
		}

		additive_modifier = { #Shunned for being unproved courtier in the shadow of the ruler.
			value = -10
			localisation_key = tooltip_feudal_elector_vote_spoiled_courtier
			FROM = { character = ROOT_FROMFROMFROM }
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				NOR = {
					is_ruler = yes
					has_job_title = job_marshal
					has_job_title = job_chancellor
					has_job_title = job_treasurer
					has_job_title = job_spiritual
					has_job_title = job_spymaster
				}
				OR = {
					trait = decadent
					trait = slothful
					trait = hedonist
					trait = is_fat
					trait = shy
				}
			}
		}
		
		# Ruler traits
		elector_ruler_traits_vote = yes

		# Candidate opinion
		elector_candidate_opinion_vote = yes

		# Ruler opinion
		elector_ruler_opinion_vote = yes
	}

	#ROOT = Current Title holder, FROM = Candidate, FROMFROM = Title, FROMFROMFROM = Null
	candidate_trigger = {
		NOT = { character = FROM } #Not the current ruler.
		FROM = {
			trigger_if = {
				limit = { ROOT_FROMFROM = { is_society_landed_title_trigger = yes } }

				ROOT_FROMFROM = {
					OR = {
						is_society_title_matching_society_of_PREV_trigger = yes

						# if a character can be a potential recruit in the society, they can be voted for if other conditions allow it (claim or being a close relative of the ruler)
						persistent_event_target:society_persist = {
							ROOT_FROM = {
								can_join_society = PREV
							}
						}
					}
				}
			}
			trigger_else_if = {
				limit = { ROOT_FROMFROM = { is_arcane_title_trigger = yes } }

				z_arcane_caster = yes
			}

			OR = {
				any_liege = {
					character = ROOT
				}
				is_ruler = no
				ROOT_FROMFROM = { holder_scope = { independent = yes } }
				NOR = {
					ROOT_FROMFROM = { has_law = out_of_realm_inheritance_law_1 }
					ROOT_FROMFROM = { has_law = crown_authority_3 }
					ROOT_FROMFROM = { has_law = crown_authority_4 }
				}
			}
		}
		OR = {
			FROM = { any_claim = { title = ROOT_FROMFROM } }
			ROOT = {
				is_close_relative = FROM
				OR = {
					dynasty = FROM
					FROM = { is_landed = yes higher_real_tier_than = BARON }
				}
			}
			FROM = {
				OR = { #Either defacto direct vassal, or independent ruler who is dejure vassal.
					vassal_of = ROOT
					AND = {
						independent = yes
						any_dejure_liege = { title = ROOT }
					}
				}
			}

			# if the title is society title, any members of the society is an eligible candidate
			trigger_if = { 
				limit = { FROMFROM = { is_society_landed_title_trigger = yes } }

				FROM = {
					ROOT_FROMFROM = {
						is_society_title_matching_society_of_PREV_trigger = yes
					}
				}
			}
		}
		FROM = {
			OR = { #Candidate should not be a landless Courtier that is about to inherit a Theocracy or Republic
				AND = {
					is_ruler = yes
					is_landed = yes
					is_republic = no
					is_merchant_republic = no
					is_theocracy = no
				}
				NOR = {
					any_heir_title = {
						is_republic = yes
					}
					any_heir_title = {
						is_merchant_republic = yes
					}
					any_heir_title = {
						is_theocracy = yes
					}
				}
			}
			OR = { #If the title controls the religion, candidates must be of the same religion.
				ROOT = {
					NOT = {
						controls_religion = yes
					}
				}
				religion = ROOT
			}
			NOR = {
				is_theocracy = yes
				is_republic = yes
				is_merchant_republic = yes
			}
			has_inheritance_blocker = no
		}
	}
}

warlock_elective = {

	elector_vote_strength = {
		days = 1
		additive_modifier = {
			value = 1
			OR = {
				trait = warlock
				trait = trained_warlock
			}
		}
		additive_modifier = {
			value = 2
			OR = {
				trait = journeyman_warlock
				trait = expert_warlock
			}
		}
		additive_modifier = {
			value = 3
			trait = master_warlock
		}
		additive_modifier = {
			value = 4
			trait = renowned_warlock
		}
		additive_modifier = {
			value = 5
			trait = legendary_warlock
		}
	}

	elector_selection = {
		days = -1 		#If below 0, ROOT is not valid to be an Elector.
		additive_modifier = { # The current ruler can always vote
			value = 2
			FROMFROM = {
				holder_scope = {
					character = ROOT
				}
			}
		}
		additive_modifier = { # Everyone under the title who is arcane caster can vote
			value = 2
			z_arcane_caster = yes
			any_liege = {
				FROMFROM = {
					holder_scope = {
						character = PREVPREV
					}
				}
			}
		}
		additive_modifier = { #Current ruler's heir is always a candidate and elector if possible
			value = 2
			player_heir = {
				character = FROM
				NOT = { character = ROOT }
			}
			FROMFROM = {
				holder_scope = {
					character = PREVPREV
				}
			}
		}
	}
	candidate_vote_score = {
		days = 0
		
		### Elector voting himself ###
		elector_self_feudal_vote = yes

		### Candidate ###

		## Heir
		elector_heir_vote = yes

		## All candidates

		# Sexism
		elector_candidate_gender_vote = yes

		# Ageism
		elector_candidate_age_vote = yes
		elector_candidate_age_children_vote = yes

		# Culturism
		elector_candidate_culture_vote = yes

		# Barbarism
		elector_candidate_barbarism_vote = yes

		# Nepotism
		elector_candidate_nepotism_vote = yes

		# Prestige
		elector_candidate_prestige_vote = yes

		# Piety
		elector_candidate_piety_vote = yes

		# Education and lifestyle
		elector_candidate_education_lifestyle_vote = yes

		# Claims
		elector_candidate_claims_vote = yes
		
		additive_modifier = { #Candidate doesn't know arcane magic
			value = -200
			localisation_key = tooltip_feudal_elector_vote_knows_no_art
			NOT = { character = FROM }
			FROM = {
				z_arcane_caster = no
			}
		}
		additive_modifier = {
			value = 5
			localisation_key = tooltip_feudal_elector_vote_arcane
			NOT = { character = FROM }
			FROM = {
				z_warlock = no
				OR = {
					z_wizard = yes
					z_sorcerer = yes
					z_bard = yes
				}
			}
		}
		additive_modifier = {
			value = 5
			localisation_key = tooltip_feudal_elector_vote_warlock
			NOT = { character = FROM }
			FROM = {
				trait = warlock
			}
		}
		additive_modifier = {
			value = 10
			localisation_key = tooltip_feudal_elector_vote_warlock
			NOT = { character = FROM }
			FROM = {
				trait = trained_warlock
			}
		}
		additive_modifier = {
			value = 15
			localisation_key = tooltip_feudal_elector_vote_warlock
			NOT = { character = FROM }
			FROM = {
				trait = journeyman_warlock
			}
		}
		additive_modifier = {
			value = 20
			localisation_key = tooltip_feudal_elector_vote_warlock
			NOT = { character = FROM }
			FROM = {
				trait = expert_warlock
			}
		}
		additive_modifier = {
			value = 25
			localisation_key = tooltip_feudal_elector_vote_great_warlock
			NOT = { character = FROM }
			FROM = {
				trait = master_warlock
			}
		}
		additive_modifier = {
			value = 30
			localisation_key = tooltip_feudal_elector_vote_great_warlock
			NOT = { character = FROM }
			FROM = {
				trait = renowned_warlock
			}
		}
		additive_modifier = {
			value = 40
			localisation_key = tooltip_feudal_elector_vote_great_warlock
			NOT = { character = FROM }
			FROM = {
				trait = legendary_warlock
			}
		}

		additive_modifier = { #Knowledge is power...
			value = 10
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 8
			NOT = { learning = 10 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 15
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 10
			NOT = { learning = 12 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 20
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 12
			NOT = { learning = 14 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 25
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 14
			NOT = { learning = 16 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 30
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 16
			NOT = { learning = 18 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 35
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 18
			NOT = { learning = 20 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 40
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 20
			NOT = { learning = 25 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 50
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 25
			NOT = { learning = 30 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 65
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 30
			# No cultural bias on this one
		}
		additive_modifier = {
			value = -50
			localisation_key = tooltip_feudal_elector_vote_incapable
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = incapable
			}
		}
		additive_modifier = {
			value = -30
			localisation_key = tooltip_feudal_elector_vote_infirm
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = infirm
			}
		}
		additive_modifier = {
			value = -15
			localisation_key = tooltip_feudal_elector_vote_has_disease
			FROM = {
				has_disease = yes
			}
		}

		additive_modifier = { #Shunned for being unproved courtier in the shadow of the ruler.
			value = -10
			localisation_key = tooltip_feudal_elector_vote_spoiled_courtier
			FROM = { character = ROOT_FROMFROMFROM }
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				NOR = {
					is_ruler = yes
					has_job_title = job_marshal
					has_job_title = job_chancellor
					has_job_title = job_treasurer
					has_job_title = job_spiritual
					has_job_title = job_spymaster
				}
				OR = {
					trait = decadent
					trait = slothful
					trait = hedonist
					trait = is_fat
					trait = shy
				}
			}
		}
		
		# Ruler traits
		elector_ruler_traits_vote = yes

		# Candidate opinion
		elector_candidate_opinion_vote = yes

		# Ruler opinion
		elector_ruler_opinion_vote = yes
	}

	#ROOT = Current Title holder, FROM = Candidate, FROMFROM = Title, FROMFROMFROM = Null
	candidate_trigger = {
		NOT = { character = FROM } #Not the current ruler.
		FROM = {
			trigger_if = {
				limit = { ROOT_FROMFROM = { is_society_landed_title_trigger = yes } }

				ROOT_FROMFROM = {
					OR = {
						is_society_title_matching_society_of_PREV_trigger = yes

						# if a character can be a potential recruit in the society, they can be voted for if other conditions allow it (claim or being a close relative of the ruler)
						persistent_event_target:society_persist = {
							ROOT_FROM = {
								can_join_society = PREV
							}
						}
					}
				}
			}
			trigger_else_if = {
				limit = { ROOT_FROMFROM = { is_arcane_title_trigger = yes } }

				z_arcane_caster = yes
			}

			OR = {
				any_liege = {
					character = ROOT
				}
				is_ruler = no
				ROOT_FROMFROM = { holder_scope = { independent = yes } }
				NOR = {
					ROOT_FROMFROM = { has_law = out_of_realm_inheritance_law_1 }
					ROOT_FROMFROM = { has_law = crown_authority_3 }
					ROOT_FROMFROM = { has_law = crown_authority_4 }
				}
			}
		}
		OR = {
			FROM = { any_claim = { title = ROOT_FROMFROM } }
			ROOT = {
				is_close_relative = FROM
				OR = {
					dynasty = FROM
					FROM = { is_landed = yes higher_real_tier_than = BARON }
				}
			}
			FROM = {
				OR = { #Either defacto direct vassal, or independent ruler who is dejure vassal.
					vassal_of = ROOT
					AND = {
						independent = yes
						any_dejure_liege = { title = ROOT }
					}
				}
			}

			# if the title is society title, any members of the society is an eligible candidate
			trigger_if = { 
				limit = { FROMFROM = { is_society_landed_title_trigger = yes } }

				FROM = {
					ROOT_FROMFROM = {
						is_society_title_matching_society_of_PREV_trigger = yes
					}
				}
			}
		}
		FROM = {
			OR = { #Candidate should not be a landless Courtier that is about to inherit a Theocracy or Republic
				AND = {
					is_ruler = yes
					is_landed = yes
					is_republic = no
					is_merchant_republic = no
					is_theocracy = no
				}
				NOR = {
					any_heir_title = {
						is_republic = yes
					}
					any_heir_title = {
						is_merchant_republic = yes
					}
					any_heir_title = {
						is_theocracy = yes
					}
				}
			}
			OR = { #If the title controls the religion, candidates must be of the same religion.
				ROOT = {
					NOT = {
						controls_religion = yes
					}
				}
				religion = ROOT
			}
			NOR = {
				is_theocracy = yes
				is_republic = yes
				is_merchant_republic = yes
			}
			has_inheritance_blocker = no
		}
	}
}

divine_dynastic = {
	elector_vote_strength = {
		days = 1
		additive_modifier = {
			value = 1
			localisation_key = tooltip_divine_vote_strength_cleric
			OR = {
				z_cleric = yes
				z_paladin = yes
				z_druid = yes
				z_monk = yes
			}
		}
	}

	elector_selection = {
		days = -5
		additive_modifier = { # The current ruler can always vote
			value = 10
			FROMFROM = {
				holder_scope = {
					character = ROOT
				}
			}
		}
		additive_modifier = { # Everyone under the title can vote if same religion
			value = 10
			is_vassal_or_below_of = FROMFROM
			religion = FROMFROM
		}
		additive_modifier = { #Current ruler's heir is always a candidate and elector if possible
			value = 10
			player_heir = {
				religion = FROMFROM
				character = FROM
				NOT = { character = ROOT }
			}
			FROMFROM = {
				holder_scope = {
					character = PREVPREV
				}
			}
		}
	}

	candidate_vote_score = {
		days = 0
		
		### Elector voting himself ###
		elector_self_feudal_vote = yes

		### Candidate ###

		## Heir
		elector_heir_vote = yes

		## All candidates

		# Sexism
		elector_candidate_gender_vote = yes

		# Ageism
		elector_candidate_age_vote = yes
		elector_candidate_age_children_vote = yes

		# Culturism
		elector_candidate_culture_vote = yes

		# Barbarism
		elector_candidate_barbarism_vote = yes

		# Nepotism
		elector_candidate_nepotism_vote = yes

		# Prestige
		elector_candidate_prestige_vote = yes

		# Piety
		elector_candidate_piety_vote = yes

		#All the Traits
		additive_modifier = {
			value = 10
			localisation_key = tooltip_feudal_elector_vote_divine
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				z_basic_divine = yes
			}
		}
		additive_modifier = {
			value = 15
			localisation_key = tooltip_feudal_elector_vote_divine
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				z_trained_divine = yes
			}
		}
		additive_modifier = {
			value = 20
			localisation_key = tooltip_feudal_elector_vote_divine
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				z_journeyman_divine = yes
			}
		}
		additive_modifier = {
			value = 25
			localisation_key = tooltip_feudal_elector_vote_divine
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				z_expert_divine = yes
			}
		}
		additive_modifier = {
			value = 30
			localisation_key = tooltip_feudal_elector_vote_great_divine
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				z_master_divine = yes
			}
		}
		additive_modifier = {
			value = 35
			localisation_key = tooltip_feudal_elector_vote_great_divine
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				z_renowned_divine = yes
			}
		}
		additive_modifier = {
			value = 40
			localisation_key = tooltip_feudal_elector_vote_great_divine
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				z_legendary_divine = yes
			}
		}

		#Traits that show divine favour
		additive_modifier = {
			value = 15
			localisation_key = tooltip_feudal_elector_vote_bhaalspawn
			NOT = { character = FROM } #Do not judge yourself.
			religion = dead_three
			FROM = {
				trait = bhaalspawn
			}
		}
		additive_modifier = {
			value = -30
			localisation_key = tooltip_feudal_elector_vote_bhaalspawn
			NOT = { character = FROM } #Do not judge yourself.
			NOT = { religion = dead_three }
			FROM = {
				trait = bhaalspawn
			}
		}
		additive_modifier = {
			value = 35
			localisation_key = tooltip_feudal_elector_vote_chosen_mystra
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				evilcat_is_chosen = yes
			}
		}
		additive_modifier = {
			value = 60
			localisation_key = tooltip_feudal_elector_vote_chosen_mystra
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = avatar
			}
		}
		#And the rest
		additive_modifier = {
			value = 10
			localisation_key = tooltip_feudal_elector_vote_legendary
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				z_legendary_class = yes
			}
		}
		additive_modifier = {
			value = -15
			localisation_key = tooltip_feudal_elector_vote_immortal_magic
			NOT = { character = FROM } #Do not judge yourself.
			immortal = no
			FROM = {
				immortal = yes
			}
		}
		additive_modifier = {
			value = 5
			localisation_key = tooltip_feudal_elector_vote_immortal_magic_immortal
			NOT = { character = FROM } #Do not judge yourself.
			immortal = yes
			FROM = {
				immortal = yes
			}
		}
		additive_modifier = {
			value = -50
			localisation_key = tooltip_feudal_elector_vote_incapable
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = incapable
			}
		}
		additive_modifier = {
			value = -30
			localisation_key = tooltip_feudal_elector_vote_infirm
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = infirm
			}
		}
		additive_modifier = {
			value = -15
			localisation_key = tooltip_feudal_elector_vote_has_disease
			FROM = {
				has_disease = yes
			}
		}
		additive_modifier = { #Shunned for being unproved courtier in the shadow of the ruler.
			value = -10
			localisation_key = tooltip_feudal_elector_vote_spoiled_courtier
			FROM = { character = ROOT_FROMFROMFROM }
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				NOR = {
					is_ruler = yes
					has_job_title = job_marshal
					has_job_title = job_chancellor
					has_job_title = job_treasurer
					has_job_title = job_spiritual
					has_job_title = job_spymaster
				}
				OR = {
					trait = decadent
					trait = slothful
					trait = hedonist
					trait = is_fat
					trait = shy
				}
			}
		}
		
		# Ruler traits
		elector_ruler_traits_vote = yes

		# Candidate opinion
		elector_candidate_opinion_vote = yes

		# Ruler opinion
		elector_ruler_opinion_vote = yes
	}

	candidate_trigger = {
		NOT = { character = FROM } #Not the current ruler.
		FROM = {
			dynasty = ROOT
		}
		FROM = { #Either the candidate is in the realm, or is landless, or the title is independent, or the realm of the title does NOT have protected inheritance.
			religion = ROOT
			OR = {
				any_liege = {
					character = ROOT
				}
				is_ruler = no
				ROOT_FROMFROM = { holder_scope = { independent = yes } }
				NOR = {
					ROOT_FROMFROM = { has_law = out_of_realm_inheritance_law_1 }
					ROOT_FROMFROM = { has_law = crown_authority_3 }
					ROOT_FROMFROM = { has_law = crown_authority_4 }
				}
			}
		}
		OR = {
			FROM = { any_claim = { title = ROOT_FROMFROM } }
			ROOT = {
				is_close_relative = FROM
				OR = {
					dynasty = FROM
					FROM = { is_landed = yes higher_real_tier_than = BARON }
				}
			}
			#AND = {
				# OR = {
					# FROM = { higher_real_tier_than = COUNT } #Or Duke-tier...
					# AND = {
						# ROOT = {
							# lower_real_tier_than = KING
							# higher_real_tier_than = COUNT
						# }
						# FROM = { higher_real_tier_than = BARON } #...Or Count-tier under a Duchy...
					# }
					# AND = {
						# ROOT = {
							# lower_real_tier_than = DUKE
						# }
						# FROM = { is_landed = yes is_ruler = yes } #...Or Baron-tier under a County.
					# }
				# }
				FROM = {
					OR = { #Either defacto direct vassal, or independent ruler who is dejure vassal.
						vassal_of = ROOT
						AND = {
							independent = yes
							any_dejure_liege = { title = ROOT }
						}
					}
				}
			#}
		}
		FROM = {
			OR = { #Candidate should not be a landless Courtier that is about to inherit a Theocracy or Republic
				AND = {
					is_ruler = yes
					is_landed = yes
					is_republic = no
					is_merchant_republic = no
					is_theocracy = no
				}
				NOR = {
					any_heir_title = {
						is_republic = yes
					}
					any_heir_title = {
						is_merchant_republic = yes
					}
					any_heir_title = {
						is_theocracy = yes
					}
				}
			}
			#OR = { #If the title controls the religion, candidates must be of the same religion.
			#	ROOT = {
			#		NOT = {
			#			controls_religion = yes
			#		}
			#	}
			#	religion = ROOT
			#}
			NOR = {
				is_theocracy = yes
#				is_republic = yes
				is_merchant_republic = yes
			}
			has_inheritance_blocker = no
		}
	}
}

cleric_elective = {

	elector_vote_strength = {
		days = 1
		additive_modifier = {
			value = 1
			OR = {
				trait = cleric
				trait = trained_cleric
			}
		}
		additive_modifier = {
			value = 2
			OR = {
				trait = journeyman_cleric
				trait = expert_cleric
			}
		}
		additive_modifier = {
			value = 3
			trait = master_cleric
		}
		additive_modifier = {
			value = 4
			trait = renowned_cleric
		}
		additive_modifier = {
			value = 5
			trait = legendary_cleric
		}
	}

	elector_selection = {
		days = -5 		#If below 0, ROOT is not valid to be an Elector.
		additive_modifier = { # The current ruler can always vote
			value = 10
			FROMFROM = {
				holder_scope = {
					character = ROOT
				}
			}
		}
		additive_modifier = { # Everyone under the title can vote if same religion
			value = 10
			z_divine_caster = yes
			is_vassal_or_below_of = FROMFROM
			religion = FROMFROM
		}
		additive_modifier = { #Current ruler's heir is always a candidate and elector if possible
			value = 10
			player_heir = {
				religion = FROMFROM
				character = FROM
				NOT = { character = ROOT }
			}
			FROMFROM = {
				holder_scope = {
					character = PREVPREV
				}
			}
		}
	}
	candidate_vote_score = {
		days = 0
		
		### Elector voting himself ###
		elector_self_feudal_vote = yes

		### Candidate ###

		## Heir
		elector_heir_vote = yes

		## All candidates

		# Sexism
		elector_candidate_gender_vote = yes

		# Ageism
		elector_candidate_age_vote = yes
		elector_candidate_age_children_vote = yes

		# Culturism
		elector_candidate_culture_vote = yes

		# Barbarism
		elector_candidate_barbarism_vote = yes

		# Nepotism
		elector_candidate_nepotism_vote = yes

		# Prestige
		elector_candidate_prestige_vote = yes

		# Piety
		elector_candidate_piety_vote = yes

		# Education and lifestyle
		elector_candidate_education_lifestyle_vote = yes

		# Claims
		elector_candidate_claims_vote = yes
        
		additive_modifier = { #Candidate doesn't know arcane magic
			value = -200
			localisation_key = tooltip_feudal_elector_vote_knows_no_divine
			NOT = { character = FROM }
			FROM = {
				z_divine_caster = no
			}
		}
		additive_modifier = {
			value = 5
			localisation_key = tooltip_feudal_elector_vote_divine
			NOT = { character = FROM }
			FROM = {
				z_cleric = no
				OR = {
					z_paladin = yes
					z_druid = yes
					z_ranger = yes
					z_monk = yes
				}
			}
		}
		additive_modifier = {
			value = 5
			localisation_key = tooltip_feudal_elector_vote_cleric
			NOT = { character = FROM }
			FROM = {
				trait = cleric
			}
		}
		additive_modifier = {
			value = 10
			localisation_key = tooltip_feudal_elector_vote_cleric
			NOT = { character = FROM }
			FROM = {
				trait = trained_cleric
			}
		}
		additive_modifier = {
			value = 15
			localisation_key = tooltip_feudal_elector_vote_cleric
			NOT = { character = FROM }
			FROM = {
				trait = journeyman_cleric
			}
		}
		additive_modifier = {
			value = 20
			localisation_key = tooltip_feudal_elector_vote_cleric
			NOT = { character = FROM }
			FROM = {
				trait = expert_cleric
			}
		}
		additive_modifier = {
			value = 25
			localisation_key = tooltip_feudal_elector_vote_great_cleric
			NOT = { character = FROM }
			FROM = {
				trait = master_cleric
			}
		}
		additive_modifier = {
			value = 30
			localisation_key = tooltip_feudal_elector_vote_great_cleric
			NOT = { character = FROM }
			FROM = {
				trait = renowned_cleric
			}
		}
		additive_modifier = {
			value = 40
			localisation_key = tooltip_feudal_elector_vote_great_cleric
			NOT = { character = FROM }
			FROM = {
				trait = legendary_cleric
			}
		}
		additive_modifier = {
			value = 15
			localisation_key = tooltip_feudal_elector_vote_bhaalspawn
			NOT = { character = FROM } #Do not judge yourself.
			religion = dead_three
			FROM = {
				trait = bhaalspawn
			}
		}
		additive_modifier = {
			value = -30
			localisation_key = tooltip_feudal_elector_vote_bhaalspawn
			NOT = { character = FROM } #Do not judge yourself.
			NOT = { religion = dead_three }
			FROM = {
				trait = bhaalspawn
			}
		}
		additive_modifier = {
			value = 35
			localisation_key = tooltip_feudal_elector_vote_chosen_mystra
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				evilcat_is_chosen = yes
			}
		}
		additive_modifier = {
			value = 60
			localisation_key = tooltip_feudal_elector_vote_chosen_mystra
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = avatar
			}
		}

		additive_modifier = { #Knowledge is power...
			value = 10
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 8
			NOT = { learning = 10 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 15
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 10
			NOT = { learning = 12 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 20
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 12
			NOT = { learning = 14 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 25
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 14
			NOT = { learning = 16 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 30
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 16
			NOT = { learning = 18 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 35
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 18
			NOT = { learning = 20 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 40
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 20
			NOT = { learning = 25 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 50
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 25
			NOT = { learning = 30 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 65
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 30
			# No cultural bias on this one
		}
		additive_modifier = {
			value = -50
			localisation_key = tooltip_feudal_elector_vote_incapable
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = incapable
			}
		}
		additive_modifier = {
			value = -30
			localisation_key = tooltip_feudal_elector_vote_infirm
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = infirm
			}
		}
		additive_modifier = {
			value = -15
			localisation_key = tooltip_feudal_elector_vote_has_disease
			FROM = {
				has_disease = yes
			}
		}

		additive_modifier = { #Shunned for being unproved courtier in the shadow of the ruler.
			value = -10
			localisation_key = tooltip_feudal_elector_vote_spoiled_courtier
			FROM = { character = ROOT_FROMFROMFROM }
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				NOR = {
					is_ruler = yes
					has_job_title = job_marshal
					has_job_title = job_chancellor
					has_job_title = job_treasurer
					has_job_title = job_spiritual
					has_job_title = job_spymaster
				}
				OR = {
					trait = decadent
					trait = slothful
					trait = hedonist
					trait = is_fat
					trait = shy
				}
			}
		}
		
		# Ruler traits
		elector_ruler_traits_vote = yes

		# Candidate opinion
		elector_candidate_opinion_vote = yes

		# Ruler opinion
		elector_ruler_opinion_vote = yes
	}

	#ROOT = Current Title holder, FROM = Candidate, FROMFROM = Title, FROMFROMFROM = Null
	candidate_trigger = {
		NOT = { character = FROM } #Not the current ruler.
		FROM = { #Either the candidate is in the realm, or is landless, or the title is independent, or the realm of the title does NOT have protected inheritance.
			religion = ROOT
			OR = {
				any_liege = {
					character = ROOT
				}
				is_ruler = no
				ROOT_FROMFROM = { holder_scope = { independent = yes } }
				NOR = {
					ROOT_FROMFROM = { has_law = out_of_realm_inheritance_law_1 }
					ROOT_FROMFROM = { has_law = crown_authority_3 }
					ROOT_FROMFROM = { has_law = crown_authority_4 }
				}
			}
		}
		OR = {
			FROM = { any_claim = { title = ROOT_FROMFROM } }
			ROOT = {
				is_close_relative = FROM
				OR = {
					dynasty = FROM
					FROM = { is_landed = yes higher_real_tier_than = BARON }
				}
			}
			#AND = {
				# OR = {
					# FROM = { higher_real_tier_than = COUNT } #Or Duke-tier...
					# AND = {
						# ROOT = {
							# lower_real_tier_than = KING
							# higher_real_tier_than = COUNT
						# }
						# FROM = { higher_real_tier_than = BARON } #...Or Count-tier under a Duchy...
					# }
					# AND = {
						# ROOT = {
							# lower_real_tier_than = DUKE
						# }
						# FROM = { is_landed = yes is_ruler = yes } #...Or Baron-tier under a County.
					# }
				# }
				FROM = {
					OR = { #Either defacto direct vassal, or independent ruler who is dejure vassal.
						vassal_of = ROOT
						AND = {
							independent = yes
							any_dejure_liege = { title = ROOT }
						}
					}
				}
			#}
		}
		FROM = {
			OR = { #Candidate should not be a landless Courtier that is about to inherit a Theocracy or Republic
				AND = {
					is_ruler = yes
					is_landed = yes
					is_republic = no
					is_merchant_republic = no
					is_theocracy = no
				}
				NOR = {
					any_heir_title = {
						is_republic = yes
					}
					any_heir_title = {
						is_merchant_republic = yes
					}
					any_heir_title = {
						is_theocracy = yes
					}
				}
			}
			#OR = { #If the title controls the religion, candidates must be of the same religion.
			#	ROOT = {
			#		NOT = {
			#			controls_religion = yes
			#		}
			#	}
			#	religion = ROOT
			#}
			NOR = {
				is_theocracy = yes
#				is_republic = yes
				is_merchant_republic = yes
			}
			has_inheritance_blocker = no
		}
	}
}

monk_elective = {

	elector_vote_strength = {
		days = 1
		additive_modifier = {
			value = 1
			OR = {
				trait = class_monk
				trait = trained_monk
			}
		}
		additive_modifier = {
			value = 2
			OR = {
				trait = journeyman_monk
				trait = expert_monk
			}
		}
		additive_modifier = {
			value = 3
			trait = master_monk
		}
		additive_modifier = {
			value = 4
			trait = renowned_monk
		}
		additive_modifier = {
			value = 5
			trait = legendary_monk
		}
	}

	elector_selection = {
		days = -5 		#If below 0, ROOT is not valid to be an Elector.
		additive_modifier = { # The current ruler can always vote
			value = 10
			FROMFROM = {
				holder_scope = {
					character = ROOT
				}
			}
		}
		additive_modifier = { # Everyone under the title can vote if same religion
			value = 10
			z_divine_caster = yes
			is_vassal_or_below_of = FROMFROM
			religion = FROMFROM
		}
		additive_modifier = { #Current ruler's heir is always a candidate and elector if possible
			value = 10
			player_heir = {
				religion = FROMFROM
				character = FROM
				NOT = { character = ROOT }
			}
			FROMFROM = {
				holder_scope = {
					character = PREVPREV
				}
			}
		}
	}
	candidate_vote_score = {
		days = 0
		
		### Elector voting himself ###
		elector_self_feudal_vote = yes

		### Candidate ###

		## Heir
		elector_heir_vote = yes

		## All candidates

		# Sexism
		elector_candidate_gender_vote = yes

		# Ageism
		elector_candidate_age_vote = yes
		elector_candidate_age_children_vote = yes

		# Culturism
		elector_candidate_culture_vote = yes

		# Barbarism
		elector_candidate_barbarism_vote = yes

		# Nepotism
		elector_candidate_nepotism_vote = yes

		# Prestige
		elector_candidate_prestige_vote = yes

		# Piety
		elector_candidate_piety_vote = yes

		# Education and lifestyle
		elector_candidate_education_lifestyle_vote = yes

		# Claims
		elector_candidate_claims_vote = yes
        
		additive_modifier = { #Candidate doesn't know arcane magic
			value = -200
			localisation_key = tooltip_feudal_elector_vote_knows_no_divine
			NOT = { character = FROM }
			FROM = {
				z_divine_caster = no
			}
		}
		additive_modifier = {
			value = 5
			localisation_key = tooltip_feudal_elector_vote_divine
			NOT = { character = FROM }
			FROM = {
				z_monk = no
				OR = {
					z_paladin = yes
					z_druid = yes
					z_ranger = yes
					z_cleric = yes
				}
			}
		}
		additive_modifier = {
			value = 5
			localisation_key = tooltip_feudal_elector_vote_monk
			NOT = { character = FROM }
			FROM = {
				trait = class_monk
			}
		}
		additive_modifier = {
			value = 10
			localisation_key = tooltip_feudal_elector_vote_monk
			NOT = { character = FROM }
			FROM = {
				trait = trained_monk
			}
		}
		additive_modifier = {
			value = 15
			localisation_key = tooltip_feudal_elector_vote_monk
			NOT = { character = FROM }
			FROM = {
				trait = journeyman_monk
			}
		}
		additive_modifier = {
			value = 20
			localisation_key = tooltip_feudal_elector_vote_monk
			NOT = { character = FROM }
			FROM = {
				trait = expert_monk
			}
		}
		additive_modifier = {
			value = 25
			localisation_key = tooltip_feudal_elector_vote_great_monk
			NOT = { character = FROM }
			FROM = {
				trait = master_monk
			}
		}
		additive_modifier = {
			value = 30
			localisation_key = tooltip_feudal_elector_vote_great_monk
			NOT = { character = FROM }
			FROM = {
				trait = renowned_monk
			}
		}
		additive_modifier = {
			value = 40
			localisation_key = tooltip_feudal_elector_vote_great_monk
			NOT = { character = FROM }
			FROM = {
				trait = legendary_monk
			}
		}
		additive_modifier = {
			value = 15
			localisation_key = tooltip_feudal_elector_vote_bhaalspawn
			NOT = { character = FROM } #Do not judge yourself.
			religion = dead_three
			FROM = {
				trait = bhaalspawn
			}
		}
		additive_modifier = {
			value = -30
			localisation_key = tooltip_feudal_elector_vote_bhaalspawn
			NOT = { character = FROM } #Do not judge yourself.
			NOT = { religion = dead_three }
			FROM = {
				trait = bhaalspawn
			}
		}
		additive_modifier = {
			value = 35
			localisation_key = tooltip_feudal_elector_vote_chosen_mystra
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				evilcat_is_chosen = yes
			}
		}
		additive_modifier = {
			value = 60
			localisation_key = tooltip_feudal_elector_vote_chosen_mystra
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = avatar
			}
		}

		additive_modifier = { #Knowledge is power...
			value = 10
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 8
			NOT = { learning = 10 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 15
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 10
			NOT = { learning = 12 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 20
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 12
			NOT = { learning = 14 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 25
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 14
			NOT = { learning = 16 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 30
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 16
			NOT = { learning = 18 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 35
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 18
			NOT = { learning = 20 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 40
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 20
			NOT = { learning = 25 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 50
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 25
			NOT = { learning = 30 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 65
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 30
			# No cultural bias on this one
		}
		additive_modifier = {
			value = -50
			localisation_key = tooltip_feudal_elector_vote_incapable
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = incapable
			}
		}
		additive_modifier = {
			value = -30
			localisation_key = tooltip_feudal_elector_vote_infirm
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = infirm
			}
		}
		additive_modifier = {
			value = -15
			localisation_key = tooltip_feudal_elector_vote_has_disease
			FROM = {
				has_disease = yes
			}
		}

		additive_modifier = { #Shunned for being unproved courtier in the shadow of the ruler.
			value = -10
			localisation_key = tooltip_feudal_elector_vote_spoiled_courtier
			FROM = { character = ROOT_FROMFROMFROM }
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				NOR = {
					is_ruler = yes
					has_job_title = job_marshal
					has_job_title = job_chancellor
					has_job_title = job_treasurer
					has_job_title = job_spiritual
					has_job_title = job_spymaster
				}
				OR = {
					trait = decadent
					trait = slothful
					trait = hedonist
					trait = is_fat
					trait = shy
				}
			}
		}
		
		# Ruler traits
		elector_ruler_traits_vote = yes

		# Candidate opinion
		elector_candidate_opinion_vote = yes

		# Ruler opinion
		elector_ruler_opinion_vote = yes
	}

	#ROOT = Current Title holder, FROM = Candidate, FROMFROM = Title, FROMFROMFROM = Null
	candidate_trigger = {
		NOT = { character = FROM } #Not the current ruler.
		FROM = { #Either the candidate is in the realm, or is landless, or the title is independent, or the realm of the title does NOT have protected inheritance.
			religion = ROOT
			OR = {
				any_liege = {
					character = ROOT
				}
				is_ruler = no
				ROOT_FROMFROM = { holder_scope = { independent = yes } }
				NOR = {
					ROOT_FROMFROM = { has_law = out_of_realm_inheritance_law_1 }
					ROOT_FROMFROM = { has_law = crown_authority_3 }
					ROOT_FROMFROM = { has_law = crown_authority_4 }
				}
			}
		}
		OR = {
			FROM = { any_claim = { title = ROOT_FROMFROM } }
			ROOT = {
				is_close_relative = FROM
				OR = {
					dynasty = FROM
					FROM = { is_landed = yes higher_real_tier_than = BARON }
				}
			}
			#AND = {
				# OR = {
					# FROM = { higher_real_tier_than = COUNT } #Or Duke-tier...
					# AND = {
						# ROOT = {
							# lower_real_tier_than = KING
							# higher_real_tier_than = COUNT
						# }
						# FROM = { higher_real_tier_than = BARON } #...Or Count-tier under a Duchy...
					# }
					# AND = {
						# ROOT = {
							# lower_real_tier_than = DUKE
						# }
						# FROM = { is_landed = yes is_ruler = yes } #...Or Baron-tier under a County.
					# }
				# }
				FROM = {
					OR = { #Either defacto direct vassal, or independent ruler who is dejure vassal.
						vassal_of = ROOT
						AND = {
							independent = yes
							any_dejure_liege = { title = ROOT }
						}
					}
				}
			#}
		}
		FROM = {
			OR = { #Candidate should not be a landless Courtier that is about to inherit a Theocracy or Republic
				AND = {
					is_ruler = yes
					is_landed = yes
					is_republic = no
					is_merchant_republic = no
					is_theocracy = no
				}
				NOR = {
					any_heir_title = {
						is_republic = yes
					}
					any_heir_title = {
						is_merchant_republic = yes
					}
					any_heir_title = {
						is_theocracy = yes
					}
				}
			}
			#OR = { #If the title controls the religion, candidates must be of the same religion.
			#	ROOT = {
			#		NOT = {
			#			controls_religion = yes
			#		}
			#	}
			#	religion = ROOT
			#}
			NOR = {
				is_theocracy = yes
#				is_republic = yes
				is_merchant_republic = yes
			}
			has_inheritance_blocker = no
		}
	}
}

druid_elective = {

	elector_vote_strength = {
		days = 1
		additive_modifier = {
			value = 1
			OR = {
				trait = druid
				trait = trained_druid
			}
		}
		additive_modifier = {
			value = 2
			OR = {
				trait = journeyman_druid
				trait = expert_druid
			}
		}
		additive_modifier = {
			value = 3
			trait = master_druid
		}
		additive_modifier = {
			value = 4
			trait = renowned_druid
		}
		additive_modifier = {
			value = 5
			trait = legendary_druid
		}
	}

	elector_selection = {
		days = -5 		#If below 0, ROOT is not valid to be an Elector.
		additive_modifier = { # The current ruler can always vote
			value = 10
			FROMFROM = {
				holder_scope = {
					character = ROOT
				}
			}
		}
		additive_modifier = { # Everyone under the title can vote if same religion
			value = 10
			z_divine_caster = yes
			is_vassal_or_below_of = FROMFROM
			religion = FROMFROM
		}
		additive_modifier = { #Current ruler's heir is always a candidate and elector if possible
			value = 10
			player_heir = {
				religion = FROMFROM
				character = FROM
				NOT = { character = ROOT }
			}
			FROMFROM = {
				holder_scope = {
					character = PREVPREV
				}
			}
		}
	}
	candidate_vote_score = {
		days = 0
		
		### Elector voting himself ###
		elector_self_feudal_vote = yes

		### Candidate ###

		## Heir
		elector_heir_vote = yes

		## All candidates

		# Sexism
		elector_candidate_gender_vote = yes

		# Ageism
		elector_candidate_age_vote = yes
		elector_candidate_age_children_vote = yes

		# Culturism
		elector_candidate_culture_vote = yes

		# Barbarism
		elector_candidate_barbarism_vote = yes

		# Nepotism
		elector_candidate_nepotism_vote = yes

		# Prestige
		elector_candidate_prestige_vote = yes

		# Piety
		elector_candidate_piety_vote = yes

		# Education and lifestyle
		elector_candidate_education_lifestyle_vote = yes

		# Claims
		elector_candidate_claims_vote = yes
        
		additive_modifier = { #Candidate doesn't know arcane magic
			value = -200
			localisation_key = tooltip_feudal_elector_vote_knows_no_divine
			NOT = { character = FROM }
			FROM = {
				z_divine_caster = no
			}
		}
		additive_modifier = {
			value = 5
			localisation_key = tooltip_feudal_elector_vote_divine
			NOT = { character = FROM }
			FROM = {
				z_druid = no
				OR = {
					z_paladin = yes
					z_cleric = yes
					z_ranger = yes
					z_monk = yes
				}
			}
		}
		additive_modifier = {
			value = 5
			localisation_key = tooltip_feudal_elector_vote_druid
			NOT = { character = FROM }
			FROM = {
				trait = druid
			}
		}
		additive_modifier = {
			value = 10
			localisation_key = tooltip_feudal_elector_vote_druid
			NOT = { character = FROM }
			FROM = {
				trait = trained_druid
			}
		}
		additive_modifier = {
			value = 15
			localisation_key = tooltip_feudal_elector_vote_druid
			NOT = { character = FROM }
			FROM = {
				trait = journeyman_druid
			}
		}
		additive_modifier = {
			value = 20
			localisation_key = tooltip_feudal_elector_vote_druid
			NOT = { character = FROM }
			FROM = {
				trait = expert_druid
			}
		}
		additive_modifier = {
			value = 25
			localisation_key = tooltip_feudal_elector_vote_great_druid
			NOT = { character = FROM }
			FROM = {
				trait = master_druid
			}
		}
		additive_modifier = {
			value = 30
			localisation_key = tooltip_feudal_elector_vote_great_druid
			NOT = { character = FROM }
			FROM = {
				trait = renowned_druid
			}
		}
		additive_modifier = {
			value = 40
			localisation_key = tooltip_feudal_elector_vote_great_druid
			NOT = { character = FROM }
			FROM = {
				trait = legendary_druid
			}
		}
		additive_modifier = {
			value = 15
			localisation_key = tooltip_feudal_elector_vote_bhaalspawn
			NOT = { character = FROM } #Do not judge yourself.
			religion = dead_three
			FROM = {
				trait = bhaalspawn
			}
		}
		additive_modifier = {
			value = -30
			localisation_key = tooltip_feudal_elector_vote_bhaalspawn
			NOT = { character = FROM } #Do not judge yourself.
			NOT = { religion = dead_three }
			FROM = {
				trait = bhaalspawn
			}
		}
		additive_modifier = {
			value = 35
			localisation_key = tooltip_feudal_elector_vote_chosen_mystra
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				evilcat_is_chosen = yes
			}
		}
		additive_modifier = {
			value = 60
			localisation_key = tooltip_feudal_elector_vote_chosen_mystra
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = avatar
			}
		}

		additive_modifier = { #Knowledge is power...
			value = 10
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 8
			NOT = { learning = 10 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 15
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 10
			NOT = { learning = 12 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 20
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 12
			NOT = { learning = 14 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 25
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 14
			NOT = { learning = 16 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 30
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 16
			NOT = { learning = 18 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 35
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 18
			NOT = { learning = 20 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 40
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 20
			NOT = { learning = 25 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 50
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 25
			NOT = { learning = 30 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 65
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 30
			# No cultural bias on this one
		}
		additive_modifier = {
			value = -50
			localisation_key = tooltip_feudal_elector_vote_incapable
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = incapable
			}
		}
		additive_modifier = {
			value = -30
			localisation_key = tooltip_feudal_elector_vote_infirm
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = infirm
			}
		}
		additive_modifier = {
			value = -15
			localisation_key = tooltip_feudal_elector_vote_has_disease
			FROM = {
				has_disease = yes
			}
		}

		additive_modifier = { #Shunned for being unproved courtier in the shadow of the ruler.
			value = -10
			localisation_key = tooltip_feudal_elector_vote_spoiled_courtier
			FROM = { character = ROOT_FROMFROMFROM }
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				NOR = {
					is_ruler = yes
					has_job_title = job_marshal
					has_job_title = job_chancellor
					has_job_title = job_treasurer
					has_job_title = job_spiritual
					has_job_title = job_spymaster
				}
				OR = {
					trait = decadent
					trait = slothful
					trait = hedonist
					trait = is_fat
					trait = shy
				}
			}
		}
		
		# Ruler traits
		elector_ruler_traits_vote = yes

		# Candidate opinion
		elector_candidate_opinion_vote = yes

		# Ruler opinion
		elector_ruler_opinion_vote = yes
	}

	#ROOT = Current Title holder, FROM = Candidate, FROMFROM = Title, FROMFROMFROM = Null
	candidate_trigger = {
		NOT = { character = FROM } #Not the current ruler.
		FROM = {
			trigger_if = {
				limit = { ROOT_FROMFROM = { is_society_landed_title_trigger = yes } }

				ROOT_FROMFROM = {
					OR = {
						is_society_title_matching_society_of_PREV_trigger = yes

						# if a character can be a potential recruit in the society, they can be voted for if other conditions allow it (claim or being a close relative of the ruler)
						persistent_event_target:society_persist = {
							ROOT_FROM = {
								can_join_society = PREV
							}
						}
					}
				}
			}
			trigger_else_if = {
				limit = { ROOT_FROMFROM = { is_druidic_title_trigger = yes } }

				z_druid = yes
			}

			OR = {
				any_liege = {
					character = ROOT
				}
				is_ruler = no
				ROOT_FROMFROM = { holder_scope = { independent = yes } }
				NOR = {
					ROOT_FROMFROM = { has_law = out_of_realm_inheritance_law_1 }
					ROOT_FROMFROM = { has_law = crown_authority_3 }
					ROOT_FROMFROM = { has_law = crown_authority_4 }
				}
			}
		}
		OR = {
			FROM = { any_claim = { title = ROOT_FROMFROM } }
			ROOT = {
				is_close_relative = FROM
				OR = {
					dynasty = FROM
					FROM = { is_landed = yes higher_real_tier_than = BARON }
				}
			}
			FROM = {
				OR = { #Either defacto direct vassal, or independent ruler who is dejure vassal.
					vassal_of = ROOT
					AND = {
						independent = yes
						any_dejure_liege = { title = ROOT }
					}
				}
			}

			# if the title is society title, any members of the society is an eligible candidate
			trigger_if = { 
				limit = { FROMFROM = { is_society_landed_title_trigger = yes } }

				FROM = {
					ROOT_FROMFROM = {
						is_society_title_matching_society_of_PREV_trigger = yes
					}
				}
			}
		}
		FROM = {
			OR = { #Candidate should not be a landless Courtier that is about to inherit a Theocracy or Republic
				AND = {
					is_ruler = yes
					is_landed = yes
					is_republic = no
					is_merchant_republic = no
					is_theocracy = no
				}
				NOR = {
					any_heir_title = {
						is_republic = yes
					}
					any_heir_title = {
						is_merchant_republic = yes
					}
					any_heir_title = {
						is_theocracy = yes
					}
				}
			}
			NOR = {
				is_theocracy = yes
				is_merchant_republic = yes
			}
			has_inheritance_blocker = no
		}
	}
}

nomadic_elective = {
	elector_selection = {
		days = -5
		additive_modifier = { #Ruler is always an Elector.
			value = 30
			FROMFROM = {
				holder_scope = { character = ROOT }
			}
			government = nomadic_tribal_government # an attempt to curb succession weirdness
		}
		additive_modifier = { #Then the Councilors.
			value = 10
			vassal_of = FROMFROM
			OR = {
				has_job_title = job_chancellor
				has_job_title = job_marshal
				has_job_title = job_treasurer
				has_job_title = job_spymaster
				has_job_title = job_spiritual
				has_minor_title = title_councilmember_king #Generic advisors
				has_minor_title = title_councilmember_emperor
			}
		}
		additive_modifier = { #Then the Vassals
			value = 10
			vassal_of = FROMFROM
			higher_tier_than = BARON
		}
	}
	elector_vote_strength = {
		days = 1
		additive_modifier = { #The ruler's word is worth more
			value = 100
			localisation_key = tooltip_imperial_vote_strength_emperor_influence
			FROMFROM = {
				holder_scope = { character = ROOT }
			}
		}
		additive_modifier = { #The ruler should be able bodied
			value = -50
			localisation_key = tooltip_imperial_vote_strength_emperor_deformed
			FROMFROM = {
				holder_scope = { character = ROOT }
			}
			is_adult = yes
			OR = {
				trait = disfigured
				trait = blinded
				AND = {
                    trait = dwarf
                    NOT = {
                        trait = creature_dwarf
                        trait = creature_gnome
                        trait = creature_halfling
                        trait = creature_goblin
                    }
				}
				trait = eunuch
				trait = mangled
				trait = one_handed
				trait = one_legged
				trait = severely_injured
				trait = clubfooted
				trait = harelip
				trait = inbred
				trait = hunchback
				is_weak_trigger = yes

			}
		}
		additive_modifier = { #Children are not leaders.
			value = -125
			localisation_key = tooltip_imperial_vote_strength_emperor_child
			FROMFROM = {
				holder_scope = { character = ROOT }
			}
			NOT = { is_adult = yes }
		}


		# The Electors: General modifiers
		additive_modifier = { # Prestigious people hold more sway
			value = 5
			localisation_key = tooltip_imperial_vote_strength_elector_prestige

			vassal_of = FROMFROM
			prestige >= 100
			prestige < 300
		}

		additive_modifier = {
			value = 10
			localisation_key = tooltip_imperial_vote_strength_elector_prestige

			vassal_of = FROMFROM
			prestige >= 300
			prestige < 700
		}

		additive_modifier = {
			value = 15
			localisation_key = tooltip_imperial_vote_strength_elector_prestige

			vassal_of = FROMFROM
			prestige >= 700
			prestige < 1000
		}

		additive_modifier = {
			value = 20
			localisation_key = tooltip_imperial_vote_strength_elector_prestige

			vassal_of = FROMFROM
			prestige >= 1000
			prestige < 1500
		}

		additive_modifier = {
			value = 25
			localisation_key = tooltip_imperial_vote_strength_elector_prestige

			vassal_of = FROMFROM
			prestige >= 1500
			prestige < 2000
		}

		additive_modifier = {
			value = 30
			localisation_key = tooltip_imperial_vote_strength_elector_prestige

			vassal_of = FROMFROM
			prestige >= 2000
			prestige < 5000
		}

		additive_modifier = {
			value = 40
			localisation_key = tooltip_imperial_vote_strength_elector_prestige

			vassal_of = FROMFROM
			prestige >= 5000
		}

		# Powerful people can pull strings
		additive_modifier = {
			value = 5
			localisation_key = tooltip_imperial_vote_strength_elector_tier

			vassal_of = FROMFROM
			real_tier = COUNT
		}

		additive_modifier = {
			value = 10
			localisation_key = tooltip_imperial_vote_strength_elector_high_tier

			vassal_of = FROMFROM
			real_tier = DUKE
		}

		additive_modifier = {
			value = 15
			localisation_key = tooltip_imperial_vote_strength_elector_high_tier

			vassal_of = FROMFROM
			real_tier = KING
		}
		additive_modifier = { #Powerful people can pull strings.
			value = 15
			localisation_key = tooltip_imperial_vote_strength_elector_high_tier
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			relative_power_to_liege >= 0.7
		}
		# Martial increases a commander's influence
		additive_modifier = {
			value = 10
			localisation_key = tooltip_imperial_vote_strength_commander_martial

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			martial >= 8
			martial < 10
		}

		additive_modifier = {
			value = 15
			localisation_key = tooltip_imperial_vote_strength_commander_martial

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			martial >= 10
			martial < 12
		}

		additive_modifier = {
			value = 20
			localisation_key = tooltip_imperial_vote_strength_commander_martial

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			martial >= 12
			martial < 14
		}

		additive_modifier = {
			value = 25
			localisation_key = tooltip_imperial_vote_strength_commander_martial

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			martial >= 14
			martial < 16
		}

		additive_modifier = {
			value = 30
			localisation_key = tooltip_imperial_vote_strength_commander_martial

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			martial >= 16
			martial < 18
		}

		additive_modifier = {
			value = 35
			localisation_key = tooltip_imperial_vote_strength_commander_martial

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			martial >= 18
			martial < 20
		}

		additive_modifier = {
			value = 40
			localisation_key = tooltip_imperial_vote_strength_commander_martial

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			martial >= 20
			martial < 25
		}

		additive_modifier = {
			value = 50
			localisation_key = tooltip_imperial_vote_strength_commander_martial

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			martial >= 25
			martial < 30
		}

		additive_modifier = {
			value = 65
			localisation_key = tooltip_imperial_vote_strength_commander_martial

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			martial >= 30
		}

		################################################################################

		# Diplomacy increases the Chancellor's influence
		additive_modifier = {
			value = 10
			localisation_key = tooltip_imperial_vote_strength_chancellor_diplomacy

			has_job_title = job_chancellor
			diplomacy >= 8
			diplomacy < 10
		}

		additive_modifier = { #Diplomacy increases the Chancellor's influence
			value = 15
			localisation_key = tooltip_imperial_vote_strength_chancellor_diplomacy

			has_job_title = job_chancellor
			diplomacy >= 10
			diplomacy < 12
		}

		additive_modifier = { #Diplomacy increases the Chancellor's influence.
			value = 20
			localisation_key = tooltip_imperial_vote_strength_chancellor_diplomacy

			has_job_title = job_chancellor
			diplomacy >= 12
			diplomacy < 14
		}

		additive_modifier = { #Diplomacy increases the Chancellor's influence.
			value = 25
			localisation_key = tooltip_imperial_vote_strength_chancellor_diplomacy

			has_job_title = job_chancellor
			diplomacy >= 14
			diplomacy < 16
		}

		additive_modifier = { #Diplomacy increases the Chancellor's influence.
			value = 30
			localisation_key = tooltip_imperial_vote_strength_chancellor_diplomacy

			has_job_title = job_chancellor
			diplomacy >= 16
			diplomacy < 18
		}

		additive_modifier = { #Diplomacy increases the Chancellor's influence.
			value = 35
			localisation_key = tooltip_imperial_vote_strength_chancellor_diplomacy

			has_job_title = job_chancellor
			diplomacy >= 18
			diplomacy < 20
		}

		additive_modifier = { #Diplomacy increases the Chancellor's influence.
			value = 40
			localisation_key = tooltip_imperial_vote_strength_chancellor_diplomacy

			has_job_title = job_chancellor
			diplomacy >= 20
			diplomacy < 25
		}

		additive_modifier = { #Diplomacy increases the Chancellor's influence.
			value = 50
			localisation_key = tooltip_imperial_vote_strength_chancellor_diplomacy

			has_job_title = job_chancellor
			diplomacy >= 25
			diplomacy < 30
		}

		additive_modifier = { #Diplomacy increases the Chancellor's influence.
			value = 65
			localisation_key = tooltip_imperial_vote_strength_chancellor_diplomacy

			has_job_title = job_chancellor
			diplomacy >= 30
		}

		################################################################################

		# Stewardship increases the Steward's influence
		additive_modifier = {
			value = 10
			localisation_key = tooltip_imperial_vote_strength_steward_stewardship

			has_job_title = job_treasurer
			stewardship >= 8
			stewardship < 10
		}

		additive_modifier = {
			value = 15
			localisation_key = tooltip_imperial_vote_strength_steward_stewardship

			has_job_title = job_treasurer
			stewardship >= 10
			stewardship < 12
		}

		additive_modifier = {
			value = 20
			localisation_key = tooltip_imperial_vote_strength_steward_stewardship

			has_job_title = job_treasurer
			stewardship >= 12
			stewardship < 14
		}

		additive_modifier = {
			value = 25
			localisation_key = tooltip_imperial_vote_strength_steward_stewardship

			has_job_title = job_treasurer
			stewardship >= 14
			stewardship < 16
		}

		additive_modifier = {
			value = 30
			localisation_key = tooltip_imperial_vote_strength_steward_stewardship

			has_job_title = job_treasurer
			stewardship >= 16
			stewardship < 18
		}

		additive_modifier = {
			value = 35
			localisation_key = tooltip_imperial_vote_strength_steward_stewardship

			has_job_title = job_treasurer
			stewardship >= 18
			stewardship < 20
		}

		additive_modifier = {
			value = 40
			localisation_key = tooltip_imperial_vote_strength_steward_stewardship

			has_job_title = job_treasurer
			stewardship >= 20
			stewardship < 25
		}

		additive_modifier = {
			value = 50
			localisation_key = tooltip_imperial_vote_strength_steward_stewardship

			has_job_title = job_treasurer
			stewardship >= 25
			stewardship < 30
		}

		additive_modifier = {
			value = 65
			localisation_key = tooltip_imperial_vote_strength_steward_stewardship

			has_job_title = job_treasurer
			stewardship >= 30
		}

		################################################################################

		# Intrigue increases the Spymaster's influence
		additive_modifier = {
			value = 10
			localisation_key = tooltip_imperial_vote_strength_spymaster_intrigue

			has_job_title = job_spymaster
			intrigue >= 8
			intrigue < 10
		}

		additive_modifier = {
			value = 15
			localisation_key = tooltip_imperial_vote_strength_spymaster_intrigue

			has_job_title = job_spymaster
			intrigue >= 10
			intrigue < 12
		}

		additive_modifier = {
			value = 20
			localisation_key = tooltip_imperial_vote_strength_spymaster_intrigue

			has_job_title = job_spymaster
			intrigue >= 12
			intrigue < 14
		}

		additive_modifier = {
			value = 25
			localisation_key = tooltip_imperial_vote_strength_spymaster_intrigue

			has_job_title = job_spymaster
			intrigue >= 14
			intrigue < 16
		}

		additive_modifier = {
			value = 30
			localisation_key = tooltip_imperial_vote_strength_spymaster_intrigue

			has_job_title = job_spymaster
			intrigue >= 16
			intrigue < 18
		}

		additive_modifier = {
			value = 35
			localisation_key = tooltip_imperial_vote_strength_spymaster_intrigue

			has_job_title = job_spymaster
			intrigue >= 18
			intrigue < 20
		}

		additive_modifier = {
			value = 40
			localisation_key = tooltip_imperial_vote_strength_spymaster_intrigue

			has_job_title = job_spymaster
			intrigue >= 20
			intrigue < 25
		}

		additive_modifier = {
			value = 50
			localisation_key = tooltip_imperial_vote_strength_spymaster_intrigue

			has_job_title = job_spymaster
			intrigue >= 25
			intrigue < 30
		}

		additive_modifier = {
			value = 65
			localisation_key = tooltip_imperial_vote_strength_spymaster_intrigue

			has_job_title = job_spymaster
			intrigue >= 30
		}

		################################################################################

		# Learning increases the Chaplain's influence
		additive_modifier = {
			value = 10
			localisation_key = tooltip_imperial_vote_strength_chaplain_learning

			has_job_title = job_spiritual
			learning >= 8
			learning < 10
		}

		additive_modifier = {
			value = 15
			localisation_key = tooltip_imperial_vote_strength_chaplain_learning

			has_job_title = job_spiritual
			learning >= 10
			learning < 12
		}

		additive_modifier = {
			value = 20
			localisation_key = tooltip_imperial_vote_strength_chaplain_learning

			has_job_title = job_spiritual
			learning >= 12
			learning < 14
		}

		additive_modifier = {
			value = 25
			localisation_key = tooltip_imperial_vote_strength_chaplain_learning

			has_job_title = job_spiritual
			learning >= 14
			learning < 16
		}

		additive_modifier = {
			value = 30
			localisation_key = tooltip_imperial_vote_strength_chaplain_learning

			has_job_title = job_spiritual
			learning >= 16
			learning < 18
		}

		additive_modifier = {
			value = 35
			localisation_key = tooltip_imperial_vote_strength_chaplain_learning

			has_job_title = job_spiritual
			learning >= 18
			learning < 20
		}

		additive_modifier = {
			value = 40
			localisation_key = tooltip_imperial_vote_strength_chaplain_learning

			has_job_title = job_spiritual
			learning >= 20
			learning < 25
		}

		additive_modifier = {
			value = 50
			localisation_key = tooltip_imperial_vote_strength_chaplain_learning

			has_job_title = job_spiritual
			learning >= 25
			learning < 30
		}

		additive_modifier = {
			value = 65
			localisation_key = tooltip_imperial_vote_strength_chaplain_learning

			has_job_title = job_spiritual
			learning >= 30
		}
		# Chaplain is also the head of the ruling religion
		additive_modifier = {
			value = 15
			localisation_key = tooltip_imperial_vote_strength_chaplain_patriarch

			has_job_title = job_spiritual
			controls_religion = yes

			FROMFROM = {
				holder_scope = {
					religion = ROOT
				}
			}
		}

		# Spouse Bonus
		additive_modifier = {
			value = 30
			localisation_key = tooltip_imperial_vote_strength_spouse

			FROMFROM = {
				holder_scope = {
					is_married = ROOT
				}
			}
		}
		additive_modifier = { #Strength matters for all
			value = 10
			localisation_key = tooltip_nomadic_vote_martial_sway
			OR = {
                FROMFROM = {
                    holder_scope = { character = ROOT }
                }
                AND = {
                    vassal_of = FROMFROM
                    NOT = {
                        FROMFROM = {
                            holder_scope = { character = ROOT }
                        }
                    }
                }
			}
			martial = 8
			NOT = { martial = 10 }
		}
		additive_modifier = { #Strength matters for all
			value = 15
			localisation_key = tooltip_nomadic_vote_martial_sway
			OR = {
                FROMFROM = {
                    holder_scope = { character = ROOT }
                }
                AND = {
                    vassal_of = FROMFROM
                    NOT = {
                        FROMFROM = {
                            holder_scope = { character = ROOT }
                        }
                    }
                }
			}
			martial = 10
			NOT = { martial = 12 }
		}
		additive_modifier = { #Strength matters for all
			value = 20
			localisation_key = tooltip_nomadic_vote_martial_sway
			OR = {
                FROMFROM = {
                    holder_scope = { character = ROOT }
                }
                AND = {
                    vassal_of = FROMFROM
                    NOT = {
                        FROMFROM = {
                            holder_scope = { character = ROOT }
                        }
                    }
                }
			}
			martial = 12
			NOT = { martial = 14 }
		}
		additive_modifier = { #Strength matters for all
			value = 25
			localisation_key = tooltip_nomadic_vote_martial_sway
			OR = {
                FROMFROM = {
                    holder_scope = { character = ROOT }
                }
                AND = {
                    vassal_of = FROMFROM
                    NOT = {
                        FROMFROM = {
                            holder_scope = { character = ROOT }
                        }
                    }
                }
			}
			martial = 14
			NOT = { martial = 16 }
		}
		additive_modifier = { #Strength matters for all
			value = 30
			localisation_key = tooltip_nomadic_vote_martial_sway
			OR = {
                FROMFROM = {
                    holder_scope = { character = ROOT }
                }
                AND = {
                    vassal_of = FROMFROM
                    NOT = {
                        FROMFROM = {
                            holder_scope = { character = ROOT }
                        }
                    }
                }
			}
			martial = 16
			NOT = { martial = 18 }
		}
		additive_modifier = { #Strength matters for all
			value = 35
			localisation_key = tooltip_nomadic_vote_martial_sway
			OR = {
                FROMFROM = {
                    holder_scope = { character = ROOT }
                }
                AND = {
                    vassal_of = FROMFROM
                    NOT = {
                        FROMFROM = {
                            holder_scope = { character = ROOT }
                        }
                    }
                }
			}
			martial = 18
			NOT = { martial = 20 }
		}
		additive_modifier = { #Strength matters for all
			value = 40
			localisation_key = tooltip_nomadic_vote_martial_sway
			OR = {
                FROMFROM = {
                    holder_scope = { character = ROOT }
                }
                AND = {
                    vassal_of = FROMFROM
                    NOT = {
                        FROMFROM = {
                            holder_scope = { character = ROOT }
                        }
                    }
                }
			}
			martial = 20
			NOT = { martial = 25 }
		}
		additive_modifier = { #Strength matters for all
			value = 50
			localisation_key = tooltip_nomadic_vote_martial_sway
			OR = {
                FROMFROM = {
                    holder_scope = { character = ROOT }
                }
                AND = {
                    vassal_of = FROMFROM
                    NOT = {
                        FROMFROM = {
                            holder_scope = { character = ROOT }
                        }
                    }
                }
			}
			martial = 25
			NOT = { martial = 30 }
		}
		additive_modifier = { #Strength matters for all
			value = 65
			localisation_key = tooltip_nomadic_vote_martial_sway
			OR = {
                FROMFROM = {
                    holder_scope = { character = ROOT }
                }
                AND = {
                    vassal_of = FROMFROM
                    NOT = {
                        FROMFROM = {
                            holder_scope = { character = ROOT }
                        }
                    }
                }
			}
			martial = 30
		}
	}
	candidate_vote_score = {
		days = 0

		### Elector voting himself ###
		elector_self_feudal_vote = yes

		### Candidate ###

		# Heir
		elector_heir_vote = yes

		## All candidates

		# Sexism
		elector_candidate_gender_vote = yes

		# Ageism
		elector_candidate_age_vote = yes

		# Culturism
		elector_candidate_culture_vote = yes

		# Faithism
		elector_candidate_religion_vote = yes

		# Barbarism
		elector_candidate_barbarism_vote = yes

		# Nepotism
		elector_candidate_nepotism_vote = yes

		# Prestige
		elector_candidate_prestige_vote = yes

		# Education and lifestyle
		elector_candidate_education_lifestyle_vote = yes

		# Claims
		elector_candidate_claims_vote = yes
        
        # Traits
		elector_candidate_traits_vote = yes
		elector_candidate_traits_disfigured_vote = yes
		elector_candidate_traits_excommunication_vote = yes
		elector_candidate_traits_feudal_vote = yes
		elector_candidate_traits_pagan_branch_vote = yes

		# Ruler traits
		elector_ruler_traits_vote = yes

		# Candidate opinion
		elector_candidate_opinion_vote = yes

		# Ruler opinion
		elector_ruler_opinion_vote = yes

		additive_modifier = {
			value = 5
			NOT = { character = FROM } #Do not judge yourself.
			localisation_key = tooltip_nomadic_vote_martial_score
			this_is_warrior_culture_trigger = yes
			FROM = { martial = 5 }
		}
		additive_modifier = {
			value = 5
			NOT = { character = FROM } #Do not judge yourself.
			localisation_key = tooltip_nomadic_vote_martial_score
			this_is_warrior_culture_trigger = yes
			FROM = { martial = 10 }
		}
		additive_modifier = {
			value = 5
			NOT = { character = FROM } #Do not judge yourself.
			localisation_key = tooltip_nomadic_vote_martial_score
			this_is_warrior_culture_trigger = yes
			FROM = { martial = 15 }
		}
		additive_modifier = {
			value = 5
			NOT = { character = FROM } #Do not judge yourself.
			localisation_key = tooltip_nomadic_vote_martial_score
			this_is_warrior_culture_trigger = yes
			FROM = { martial = 20 }
		}
		additive_modifier = {
			value = 5
			NOT = { character = FROM } #Do not judge yourself.
			localisation_key = tooltip_nomadic_vote_martial_score
			this_is_warrior_culture_trigger = yes
			FROM = { martial = 25 }
		}
		additive_modifier = {
			value = 5
			NOT = { character = FROM } #Do not judge yourself.
			localisation_key = tooltip_nomadic_vote_martial_score
			this_is_warrior_culture_trigger = yes
			FROM = { martial = 30 }
		}
		additive_modifier = {
			value = 10
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_martial_score
			FROM = { trait = misguided_warrior }
		}
		additive_modifier = {
			value = 15
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_martial_score
			FROM = { trait = tough_soldier }
		}
		additive_modifier = {
			value = 25
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_martial_score
			FROM = { trait = skilled_tactician }
		}
		additive_modifier = {
			value = 35
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_martial_score
			FROM = { trait = brilliant_strategist }
		}
		additive_modifier = {
			value = 15
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_warrior_lodge
			FROM = { is_member_of_any_warrior_lodge_trigger = yes }
		}
		additive_modifier = {
			value = 10
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_warrior_training
			FROM = { has_any_warrior_lodge_training_trait_trigger = yes }
		}
		additive_modifier = {
			value = 15
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			FROM = { has_current_warrior_lodge_leader_trait_trigger = yes }
		}
		additive_modifier = {
			value = -30
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_feudal_elector_vote_weak
			FROM = { is_weak_trigger = yes }
		}
		additive_modifier = {
			value = -20
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_mental_disorder
			FROM = { has_mental_disorder_trigger = yes }
		}
		additive_modifier = {
			value = -10
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_negative_congenital
			FROM = { has_negative_congenital_trigger = yes }
		}
		additive_modifier = {
			value = 10
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_minor_title_martial
			FROM = { has_minor_title_relating_to_martial_trigger = yes }
		}
		additive_modifier = {
			value = 20
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_leadership_trait
			FROM = { has_any_leadership_trait_trigger = yes }
		}
		additive_modifier = {
			value = 10
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_martial_basic
			FROM = { z_basic_martial = yes }
		}
		additive_modifier = {
			value = 15
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_martial_trained
			FROM = { z_trained_martial = yes }
		}
		additive_modifier = {
			value = 20
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_martial_journeyman
			FROM = { z_journeyman_martial = yes }
		}
		additive_modifier = {
			value = 25
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_martial_expert
			FROM = { z_expert_martial = yes }
		}
		additive_modifier = {
			value = 30
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_martial_master
			FROM = { z_master_martial = yes }
		}
		additive_modifier = {
			value = 35
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_martial_renowned
			FROM = { z_renowned_martial = yes }
		}
		additive_modifier = {
			value = 40
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_martial_legendary
			FROM = { z_legendary_martial = yes }
		}
		additive_modifier = {
			value = 10
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_duelist
			FROM = { trait = duelist }
		}
		additive_modifier = {
			value = 10
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_hunter
			FROM = { trait = hunter }
		}
		additive_modifier = {
			value = 10
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_strategist
			FROM = { trait = strategist }
		}
		additive_modifier = {
			value = 10
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_diligent
			FROM = { trait = diligent }
		}
		additive_modifier = {
			value = -10
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_slothful
			FROM = { trait = slothful }
		}
		additive_modifier = {
			value = 10
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_wroth
			FROM = { trait = wroth }
		}
		additive_modifier = {
			value = 10
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_ambitious
			FROM = { trait = ambitious }
		}
		additive_modifier = {
			value = -10
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_content
			FROM = { trait = content }
		}
		additive_modifier = {
			value = -40
			NOT = { character = FROM } #Do not judge yourself.
			this_is_warrior_culture_trigger = yes
			localisation_key = tooltip_nomadic_vote_craven
			FROM = { trait = craven }
		}
		additive_modifier = {
			value = -10
			NOT = { character = FROM } #Do not judge yourself.
			localisation_key = tooltip_nomadic_vote_cannibal
			FROM = { trait = cannibal_trait }
		}
		additive_modifier = {
			value = -10
			NOT = { character = FROM } #Do not judge yourself.
			localisation_key = tooltip_nomadic_vote_travelling
			FROM = { trait = travelling }
		}
		additive_modifier = {
			value = -10
			NOT = { character = FROM } #Do not judge yourself.
			localisation_key = tooltip_nomadic_vote_in_hiding
			FROM = { trait = in_hiding }
		}
		additive_modifier = {
			value = -30
			NOT = { character = FROM } #Do not judge yourself.
			FROM = { is_inaccessible_or_incapable_trigger = yes }
			localisation_key = tooltip_nomadic_vote_inaccessible_or_incapable
		}
	}
	candidate_trigger = {
		NOT = { character = FROM } #Not the current ruler.
		FROM = { is_adult = yes }
		FROM = { #Either the candidate is in the realm, or is landless, or the title is independent, or the realm of the title does NOT have protected inheritance.
			OR = {
				any_liege = {
					character = ROOT
				}
#				is_ruler = no
				# ROOT_FROMFROM = { holder_scope = { independent = yes } }
				# NOR = {
					# ROOT_FROMFROM = { has_law = out_of_realm_inheritance_law_1 }
					# ROOT_FROMFROM = { has_law = crown_authority_3 }
					# ROOT_FROMFROM = { has_law = crown_authority_4 }
				# }
			}
		}
		OR = {
			# FROM = { vassal_of = ROOT higher_tier_than = BARON } # all significant vassals are eligible
			FROM = { any_claim = { title = ROOT_FROMFROM } }
			ROOT = {
				is_close_relative = FROM
				OR = {
					dynasty = FROM
					FROM = { is_landed = yes higher_real_tier_than = BARON }
				}
			}
			AND = {
				OR = {
					# FROM = { higher_real_tier_than = COUNT } #Or Duke-tier...
					# AND = {
						# ROOT = {
							# lower_real_tier_than = KING
							# higher_real_tier_than = COUNT
						# }
						# FROM = { higher_real_tier_than = BARON } #...Or Count-tier under a Duchy...
					# }
					FROM = { higher_real_tier_than = BARON } # significant vassals are above baron tier
					AND = {
						ROOT = {
							lower_real_tier_than = DUKE
						}
						FROM = { is_landed = yes is_ruler = yes } #...Or Baron-tier under a County.
					}
				}
				FROM = { # all significant vassals are eligible
					vassal_of = ROOT
					# OR = { #Either defacto direct vassal, or independent ruler who is dejure vassal.
						# vassal_of = ROOT
						# AND = {
						 	# any_dejure_liege = { title = ROOT }
							# independent = yes
						# }
					# }
				}
			}
		}
		FROM = {
			OR = { #Candidate should not be a landless Courtier that is about to inherit a Theocracy or Republic
				AND = {
					is_ruler = yes
					is_landed = yes
					is_republic = no
					is_merchant_republic = no
					is_theocracy = no
				}
				NOR = {
					any_heir_title = {
						is_republic = yes
					}
					any_heir_title = {
						is_merchant_republic = yes
					}
					any_heir_title = {
						is_theocracy = yes
					}
				}
			}
			OR = { #If the title controls the religion, candidates must be of the same religion.
				ROOT = {
					NOT = {
						controls_religion = yes
					}
				}
				religion = ROOT
			}
			NOR = {
				is_theocracy = yes
				is_republic = yes
				is_merchant_republic = yes
			}
			has_inheritance_blocker = no
		}
	}
}

magister_vote = {

	elector_vote_strength = {
		days = 1
		additive_modifier = {
			value = 10
			OR = {
				trait = wizard
				trait = trained_wizard
			}
		}
		additive_modifier = {
			value = 15
			OR = {
				trait = journeyman_wizard
				trait = expert_wizard
			}
		}
		additive_modifier = {
			value = 25
			trait = master_wizard
		}
		additive_modifier = {
			value = 30
			trait = renowned_wizard
		}
		additive_modifier = {
			value = 40
			trait = legendary_wizard
		}
	}

	elector_selection = {
		days = -1 		#If below 0, ROOT is not valid to be an Elector.
		additive_modifier = { # all arcane characters can vote
			value = 2
			religion = arcane
		}
	}
	candidate_vote_score = {
		days = 0

		### Elector voting himself ###
		elector_self_feudal_vote = yes

		### Candidate ###

		# Heir
		elector_heir_vote = yes

		## All candidates

		# Sexism
		elector_candidate_gender_vote = yes

		# Ageism
		elector_candidate_age_vote = yes
		elector_candidate_age_children_vote = yes
		
        # Prestige
		elector_candidate_prestige_vote = yes
        
        # Claims
		elector_candidate_claims_vote = yes

		additive_modifier = {
			value = 5
			localisation_key = tooltip_feudal_elector_vote_wizard
			NOT = { character = FROM }
			FROM = {
				trait = wizard
			}
		}
		additive_modifier = {
			value = 10
			localisation_key = tooltip_feudal_elector_vote_wizard
			NOT = { character = FROM }
			FROM = {
				trait = trained_wizard
			}
		}
		additive_modifier = {
			value = 20
			localisation_key = tooltip_feudal_elector_vote_wizard
			NOT = { character = FROM }
			FROM = {
				trait = journeyman_wizard
			}
		}
		additive_modifier = {
			value = 30
			localisation_key = tooltip_feudal_elector_vote_wizard
			NOT = { character = FROM }
			FROM = {
				trait = expert_wizard
			}
		}
		additive_modifier = {
			value = 50
			localisation_key = tooltip_feudal_elector_vote_great_wizard
			NOT = { character = FROM }
			FROM = {
				trait = master_wizard
			}
		}
		additive_modifier = {
			value = 60
			localisation_key = tooltip_feudal_elector_vote_great_wizard
			NOT = { character = FROM }
			FROM = {
				trait = renowned_wizard
			}
		}
		additive_modifier = {
			value = 80
			localisation_key = tooltip_feudal_elector_vote_great_wizard
			NOT = { character = FROM }
			FROM = {
				trait = legendary_wizard
			}
		}

		additive_modifier = { #Knowledge is power...
			value = 10
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 8
			NOT = { learning = 10 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 15
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 10
			NOT = { learning = 12 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 20
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 12
			NOT = { learning = 14 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 25
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 14
			NOT = { learning = 16 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 30
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 16
			NOT = { learning = 18 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 35
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 18
			NOT = { learning = 20 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 40
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 20
			NOT = { learning = 25 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 50
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 25
			NOT = { learning = 30 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 65
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 30
			# No cultural bias on this one
		}
		additive_modifier = {
			value = -50
			localisation_key = tooltip_feudal_elector_vote_incapable
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = incapable
			}
		}
		additive_modifier = {
			value = -30
			localisation_key = tooltip_feudal_elector_vote_infirm
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = infirm
			}
		}
		additive_modifier = {
			value = -15
			localisation_key = tooltip_feudal_elector_vote_has_disease
			FROM = {
				has_disease = yes
			}
		}

		# Ruler traits
		elector_ruler_traits_vote = yes

		# Candidate opinion
		elector_candidate_opinion_vote = yes

		# Ruler opinion
		elector_ruler_opinion_vote = yes
	}

	#ROOT = Current Title holder, FROM = Candidate, FROMFROM = Title, FROMFROMFROM = Null
	candidate_trigger = {
		FROM = {
			NOT = { character = ROOT } #Not the current ruler.
		}
		FROM = {
			z_wizard = yes
			religion = arcane
			NOR = {
				trait = avatar
				evilcat_is_chosen = yes
			}
		}
	}
}

ordning_gavelkind = {
	elector_vote_strength = {
		days = 1
	}

	elector_selection = {
		days = -5

		trigger = {
			# The title must currently exist
			FROMFROM = {
				has_holder = yes
			}
		}

		additive_modifier = {
			value = 10

			FROMFROM = { # Either title is higher than Duke-tier, or must be primary
				OR = {
					higher_real_tier_than = DUKE
					is_primary_holder_title = yes
				}
			}

			vassal_of = FROMFROM
			religion = giant_pantheon # must be Jotun
			# Any vassals of one or two lower tiers than the main title are viable Electors
			trigger_if = {
				limit = { FROMFROM = { real_tier = EMPEROR } }
				higher_real_tier_than = COUNT
			}
			trigger_else_if = {
				limit = { FROMFROM = { real_tier = KING } }
				higher_real_tier_than = BARON
			}
			trigger_else = {
				is_ruler = yes
			}
		}

		additive_modifier = { # Current ruler is always an elector
			value = 10

			FROMFROM = { # Either title is higher than Duke-tier, or must be primary
				holder = ROOT

				OR = {
					higher_real_tier_than = DUKE
					is_primary_holder_title = yes
				}
			}
		}
	}

	# ROOT is current title holder
	# FROM is candidate
	# FROMFROM is title
	# FROMFROMFROM is null
	candidate_trigger = {
		# Title must currently exist
		FROMFROM = {
			has_holder = yes
		}

		FROM = {
			dynasty = ROOT

			# Either the candidate is in the realm, or is landless, or the title is independent, or the realm of the title does NOT have protected inheritance
			OR = {
				same_realm = ROOT
				is_ruler = no

				ROOT_FROMFROM = {
					OR = {
						holder_scope = {
							independent = yes
						}

						NOR = {
							has_law = out_of_realm_inheritance_law_1
							has_law = crown_authority_3
							has_law = crown_authority_4
						}
					}
				}
			}

			# Candidate should not be a landless Courtier who is about to inherit a Theocracy or Republic
			trigger_if = {
				limit = {
					any_heir_title = {
						OR = {
							is_republic = yes
							is_theocracy = yes
						}
					}
				}

				is_landed = yes
				is_republic = no
				is_theocracy = no
			}

			# If the title controls the religion, candidates must be of the same religion
			trigger_if = {
				limit = { ROOT = { controls_religion = yes } }
				religion = ROOT
			}

			is_theocracy = no
			is_republic = no

			NOR = {
				trait = bastard
				character = ROOT # Not the current ruler
			}
			has_inheritance_blocker = no
		}
	}

	candidate_vote_score = {
		days = 0

		### Elector voting himself ###
		elector_self_tribal_vote = yes

		### Candidate ###
		
		#Jotun specials
		additive_modifier = {
			value = -20
			NOT = { religion = giant_pantheon }
		}
		additive_modifier = {
			value = -10
			NOT = { trait = creature_giant }
		}
		additive_modifier = {
			value = 1
			culture_scope = {
				OR = {
					culture = ogre
					culture = ogrima
					culture = merrow
					culture = ogre_magi
					culture = red_oni
				}
			}
		}
		additive_modifier = {
			value = 2
			culture_scope = {
				OR = {
					culture = fomorian
					culture = voadkyn
					culture = verbeeg
					culture = firbolg
				}
			}
		}
		additive_modifier = {
			value = 4
			culture_scope = {
				culture = hill_giant
			}
		}
		additive_modifier = {
			value = 5
			culture_scope = {
				culture = mountain_giant
			}
		}
		additive_modifier = {
			value = 8
			culture_scope = {
				OR = {
					culture = stone_giant
					culture = ash_giant
				}
			}
		}
		additive_modifier = {
			value = 10
			culture_scope = {
				culture = frost_giant
			}
		}
		additive_modifier = {
			value = 13
			culture_scope = {
				culture = fire_giant
			}
		}
		additive_modifier = {
			value = 15
			culture_scope = {
				culture = fog_giant
			}
		}
		additive_modifier = {
			value = 17
			culture_scope = {
				culture = cloud_giant
			}
		}
		additive_modifier = {
			value = 20
			culture_scope = {
				culture = storm_giant
			}
		}
		additive_modifier = {
			value = -10
			OR = {
				culture = hill_giant
				culture = mountain_giant
			}
			trait = temperate
		}
		additive_modifier = {
			value = -10
			OR = {
				culture = hill_giant
				culture = mountain_giant
			}
			trait = is_malnourished
		}
		additive_modifier = {
			value = 10
			OR = {
				culture = hill_giant
				culture = mountain_giant
			}
			trait = gluttonous
		}
		additive_modifier = {
			value = 10
			OR = {
				culture = hill_giant
				culture = mountain_giant
			}
			trait = hedonist
		}
		additive_modifier = {
			value = 10
			OR = {
				culture = hill_giant
				culture = mountain_giant
			}
			trait = drunkard
		}
		additive_modifier = {
			value = 10
			OR = {
				culture = hill_giant
				culture = mountain_giant
			}
			trait = is_fat
		}
		additive_modifier = {
			value = -10
			OR = {
				culture = stone_giant
				culture = ash_giant
			}
			trait = slothful
		}
		additive_modifier = {
			value = 10
			OR = {
				culture = stone_giant
				culture = ash_giant
			}
			trait = architect
		}
		additive_modifier = {
			value = 10
			OR = {
				culture = stone_giant
				culture = ash_giant
			}
			trait = gardener
		}
		additive_modifier = {
			value = 10
			OR = {
				culture = stone_giant
				culture = ash_giant
			}
			trait = poet
		}
		additive_modifier = {
			value = 10
			culture = frost_giant
			is_strong_congenital_trigger = yes
		}
		additive_modifier = {
			value = -10
			culture = frost_giant
			is_weak_congenital_trigger = yes
		}
		additive_modifier = {
			value = 10
			culture = frost_giant
			is_strong_non_congenital_trigger = yes
		}
		additive_modifier = {
			value = 10
			culture = frost_giant
			trait = sturdy
		}
		additive_modifier = {
			value = -10
			culture = frost_giant
			is_weak_non_congenital_trigger = yes
		}
		additive_modifier = {
			value = 10
			culture = frost_giant
			trait = duelist
		}
		additive_modifier = {
			value = 10
			culture = frost_giant
			trait = poet
		}
		additive_modifier = {
			value = 10
			culture = fire_giant
			trait = brave
		}
		additive_modifier = {
			value = -10
			culture = fire_giant
			trait = craven
		}
		additive_modifier = {
			value = 10
			culture = fire_giant
			trait = strategist
		}
		additive_modifier = {
			value = 10
			culture = fire_giant
			trait = duelist
		}
		additive_modifier = {
			value = 10
			OR = {
				culture = fog_giant
				culture = cloud_giant
			}
			has_fair_trait_non_congenital_trigger = yes
		}
		additive_modifier = {
			value = -10
			OR = {
				culture = fog_giant
				culture = cloud_giant
			}
			has_ugly_trait_non_congenital_trigger = yes
		}
		additive_modifier = {
			value = 10
			OR = {
				culture = fog_giant
				culture = cloud_giant
			}
			trait = gamer
		}
		additive_modifier = {
			value = 10
			OR = {
				culture = fog_giant
				culture = cloud_giant
			}
			trait = socializer
		}
		additive_modifier = {
			value = 10
			OR = {
				culture = fog_giant
				culture = cloud_giant
			}
			trait = greedy
		}
		additive_modifier = {
			value = -10
			OR = {
				culture = fog_giant
				culture = cloud_giant
			}
			trait = charitable
		}
		additive_modifier = {
			value = 10
			OR = {
				culture = fog_giant
				culture = cloud_giant
			}
			trait = arbitrary
		}
		additive_modifier = {
			value = 10
			OR = {
				culture = fog_giant
				culture = cloud_giant
			}
			trait = deceitful
		}
		additive_modifier = {
			value = -10
			OR = {
				culture = fog_giant
				culture = cloud_giant
			}
			trait = honest
		}
		additive_modifier = {
			value = 10
			OR = {
				culture = fog_giant
				culture = cloud_giant
			}
			trait = gregarious
		}
		additive_modifier = {
			value = -10
			OR = {
				culture = fog_giant
				culture = cloud_giant
			}
			trait = shy
		}
		additive_modifier = {
			value = 10
			culture = storm_giant
			trait = charitable
		}
		additive_modifier = {
			value = -10
			culture = storm_giant
			trait = greedy
		}
		additive_modifier = {
			value = 10
			culture = storm_giant
			trait = kind
		}
		additive_modifier = {
			value = -10
			culture = storm_giant
			trait = envious
		}
		additive_modifier = {
			value = -10
			culture = storm_giant
			trait = cruel
		}
		additive_modifier = {
			value = 10
			culture = storm_giant
			trait = just
		}
		additive_modifier = {
			value = -10
			culture = storm_giant
			trait = arbitrary
		}
		additive_modifier = {
			value = 10
			culture = storm_giant
			trait = honest
		}
		additive_modifier = {
			value = -10
			culture = storm_giant
			trait = deceitful
		}
		additive_modifier = {
			value = -10
			OR = {
				culture = ogre
				culture = ogrima
				culture = merrow
				culture = ogre_magi
				culture = red_oni
			}
			is_weak_trigger = yes
		}
		additive_modifier = {
			value = 10
			OR = {
				culture = ogre
				culture = ogrima
				culture = merrow
				culture = ogre_magi
				culture = red_oni
			}
			is_strong_trigger = yes
		}
		additive_modifier = {
			value = 10
			OR = {
				culture = ogre
				culture = ogrima
				culture = merrow
				culture = ogre_magi
				culture = red_oni
			}
			trait = wroth
		}
		additive_modifier = {
			value = -10
			OR = {
				culture = ogre
				culture = ogrima
				culture = merrow
				culture = ogre_magi
				culture = red_oni
			}
			trait = kind
		}
		additive_modifier = {
			value = 10
			culture = fomorian
			trait = cruel
		}
		additive_modifier = {
			value = 10
			culture = fomorian
			trait = wroth
		}
		additive_modifier = {
			value = 10
			culture = fomorian
			trait = envious
		}
		additive_modifier = {
			value = -10
			culture = fomorian
			trait = kind
		}
		additive_modifier = {
			value = 10
			culture = firbolg
			trait = brave
		}
		additive_modifier = {
			value = -10
			culture = firbolg
			trait = craven
		}
		additive_modifier = {
			value = 10
			culture = firbolg
			trait = kind
		}
		additive_modifier = {
			value = -10
			culture = firbolg
			trait = cruel
		}
		additive_modifier = {
			value = 10
			culture = firbolg
			trait = gardener
		}
		additive_modifier = {
			value = 10
			culture = verbeeg
			trait = arbitrary
		}
		additive_modifier = {
			value = -10
			culture = verbeeg
			trait = just
		}
		additive_modifier = {
			value = 10
			culture = verbeeg
			trait = deceitful
		}
		additive_modifier = {
			value = -10
			culture = verbeeg
			trait = honest
		}
		additive_modifier = {
			value = 10
			culture = voadkyn
			trait = gardener
		}
		additive_modifier = {
			value = 10
			culture = voadkyn
			trait = proud
		}
		additive_modifier = {
			value = -10
			culture = voadkyn
			trait = humble
		}

		# Heir
		elector_heir_vote = yes

		# Sexism
		elector_candidate_gender_vote = yes

		# Ageism - Elective Gavelkind is more biased towards younger (adult) rulers
		elector_candidate_age_elective_gavelkind_vote = yes

		# Culturism - Elective Gavelkind is a tribalistic succession, therefore malus/bonus on cultural bias are increased
		elector_candidate_culture_bias_strong_vote = yes

		# Faithism - Elective Gavelkind is more about choosing a good Dynastic member, so faith bias is slightly reduced
		elector_candidate_religion_bias_weak_vote = yes

		# Tribalism
		elector_candidate_tribalism_vote = yes

		# Nepotism - All characters are relatives, although some might not be of the same dynasty as the Elector.
		elector_candidate_nepotism_vote = yes

		# Prestige
		elector_candidate_prestige_vote = yes

		# Piety
		elector_candidate_piety_vote = yes

		# Education and lifestyle
		elector_candidate_education_lifestyle_vote = yes

		# Warrior culture prefers warriors - Elective Gavelkind also takes into consideration raw martial/combat rating
		elector_candidate_warrior_vote = yes

		# Claims - More emphasis on claimants for Elective Gavelkind (CleanSlate: doubled values compared to default feudal elective values)
		elector_candidate_claims_bias_strong_vote = yes

		# Traits
		elector_candidate_traits_vote = yes
		elector_candidate_traits_disfigured_vote = yes
		elector_candidate_traits_excommunication_vote = yes
		elector_candidate_traits_tribal_vote = yes
		elector_candidate_traits_pagan_branch_bias_weak_vote = yes

		# Ruler traits
		elector_ruler_traits_vote = yes

		# Candidate opinion
		elector_candidate_opinion_vote = yes

		# Ruler opinion
		elector_ruler_opinion_vote = yes
	}
}
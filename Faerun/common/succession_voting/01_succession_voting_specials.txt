# The entry should be named in the same way that the elective succession law is named to define it's voter's logic.
# Root scope - Voter, the character voting in the election
# From scope - Candidate, Character considered for the title
# FromFrom scope - The title the nomination is for
# FromFromFrom scope - The title owner's candidate
# The voter will vote for the top score candidate calculated from this script.

popular_elective = {

	elector_vote_strength = {
		days = 1
		additive_modifier = {
			value = 1
			localisation_key = tooltip_popular_elector_vote_strength_1_castle
			num_of_demesne_castles = 1
			NOT = { num_of_demesne_castles = 2 }
		}
		additive_modifier = {
			value = 3
			localisation_key = tooltip_popular_elector_vote_strength_2_castles
			num_of_demesne_castles = 2
			NOT = { num_of_demesne_castles = 3 }
		}
		additive_modifier = {
			value = 5
			localisation_key = tooltip_popular_elector_vote_strength_3_castles
			num_of_demesne_castles = 3
			NOT = { num_of_demesne_castles = 4 }
		}
		additive_modifier = {
			value = 7
			localisation_key = tooltip_popular_elector_vote_strength_4_castles
			num_of_demesne_castles = 4
			NOT = { num_of_demesne_castles = 5 }
		}
		additive_modifier = {
			value = 9
			localisation_key = tooltip_popular_elector_vote_strength_5_castles
			num_of_demesne_castles = 5
#			NOT = { num_of_demesne_castles = 6 }
		}
		additive_modifier = {
			value = 4
			localisation_key = tooltip_popular_elector_vote_strength_1_city
			num_of_demesne_cities = 1
			NOT = { num_of_demesne_cities = 2 }
		}
		additive_modifier = {
			value = 9
			localisation_key = tooltip_popular_elector_vote_strength_2_cities
			num_of_demesne_cities = 2
			NOT = { num_of_demesne_cities = 3 }
		}
		additive_modifier = {
			value = 14
			localisation_key = tooltip_popular_elector_vote_strength_3_cities
			num_of_demesne_cities = 3
			NOT = { num_of_demesne_cities = 4 }
		}
		additive_modifier = {
			value = 19
			localisation_key = tooltip_popular_elector_vote_strength_4_cities
			num_of_demesne_cities = 4
			NOT = { num_of_demesne_cities = 5 }
		}
		additive_modifier = {
			value = 24
			localisation_key = tooltip_popular_elector_vote_strength_5_cities
			num_of_demesne_cities = 5
#			NOT = { num_of_demesne_cities = 6 }
		}
		additive_modifier = {
			value = 1
			localisation_key = tooltip_popular_elector_vote_strength_2_temples
			num_of_demesne_temples = 2
			NOT = { num_of_demesne_temples = 3 }
		}
		additive_modifier = {
			value = 2
			localisation_key = tooltip_popular_elector_vote_strength_3_temples
			num_of_demesne_temples = 3
			NOT = { num_of_demesne_temples = 4 }
		}
		additive_modifier = {
			value = 3
			localisation_key = tooltip_popular_elector_vote_strength_4_temples
			num_of_demesne_temples = 4
			NOT = { num_of_demesne_temples = 5 }
		}
		additive_modifier = {
			value = 4
			localisation_key = tooltip_popular_elector_vote_strength_5_temples
			num_of_demesne_temples = 5
#			NOT = { num_of_demesne_temples = 6 }
		}
		additive_modifier = {
			value = 2
			localisation_key = tooltip_popular_elector_vote_strength_1_tribe
			num_of_demesne_tribes = 1
			NOT = { num_of_demesne_tribes = 2 }
		}
		additive_modifier = {
			value = 5
			localisation_key = tooltip_popular_elector_vote_strength_2_tribes
			num_of_demesne_tribes = 2
			NOT = { num_of_demesne_tribes = 3 }
		}
		additive_modifier = {
			value = 8
			localisation_key = tooltip_popular_elector_vote_strength_3_tribes
			num_of_demesne_tribes = 3
			NOT = { num_of_demesne_tribes = 4 }
		}
		additive_modifier = {
			value = 11
			localisation_key = tooltip_popular_elector_vote_strength_4_tribes
			num_of_demesne_tribes = 4
			NOT = { num_of_demesne_tribes = 5 }
		}
		additive_modifier = {
			value = 14
			localisation_key = tooltip_popular_elector_vote_strength_5_tribes
			num_of_demesne_tribes = 5
#			NOT = { num_of_demesne_tribes = 6 }
		}
	}
	elector_selection = {
		days = -1 		#If below 0, ROOT is not valid to be an Elector.
		additive_modifier = { # The current ruler can always vote
			value = 2
			FROMFROM = {
				holder_scope = {
					character = ROOT
				}
			}
		}
		additive_modifier = { # Everyone under the title can vote
			value = 2
			any_liege = {
				FROMFROM = {
					holder_scope = {
						character = PREVPREV
					}
				}
			}
		}
		additive_modifier = { #Current ruler's heir is always a candidate and elector if possible
			value = 2
			player_heir = {
				character = FROM
				NOT = { character = ROOT }
			}
			FROMFROM = {
				holder_scope = {
					character = PREVPREV
				}
			}
		}
	}
	candidate_vote_score = {
		days = 0

		### Elector voting himself ###
		elector_self_feudal_vote = yes

		### Candidate ###

		# Heir
		elector_heir_vote = yes

		## All candidates

		# Sexism
		elector_candidate_gender_vote = yes

		# Ageism
		elector_candidate_age_vote = yes
		elector_candidate_age_children_vote = yes

		# Culturism
		elector_candidate_culture_vote = yes

		# Faithism
		elector_candidate_religion_vote = yes

		# Barbarism
		elector_candidate_barbarism_vote = yes

		# Nepotism
		elector_candidate_nepotism_vote = yes

		# Prestige
		elector_candidate_prestige_vote = yes

		# Education and lifestyle
		elector_candidate_education_lifestyle_vote = yes

		# Claims
		elector_candidate_claims_vote = yes

		# Romans love their orators...
		additive_modifier = {
			value = 10
			localisation_key = tooltip_imperial_vote_strength_roman_diplomacy

			vassal_of = FROMFROM
			diplomacy >= 8
			diplomacy < 10
		}

		additive_modifier = { #Romans love their orations...
			value = 15
			localisation_key = tooltip_imperial_vote_strength_roman_diplomacy

			vassal_of = FROMFROM
			diplomacy >= 10
			diplomacy < 12
		}

		additive_modifier = { #Romans love their orations...
			value = 20
			localisation_key = tooltip_imperial_vote_strength_roman_diplomacy

			vassal_of = FROMFROM
			diplomacy >= 12
			diplomacy < 14
		}

		additive_modifier = { #Romans love their orations...
			value = 25
			localisation_key = tooltip_imperial_vote_strength_roman_diplomacy

			vassal_of = FROMFROM
			diplomacy >= 14
			diplomacy < 16
		}

		additive_modifier = { #Romans love their orations...
			value = 30
			localisation_key = tooltip_imperial_vote_strength_roman_diplomacy

			vassal_of = FROMFROM
			diplomacy >= 16
			diplomacy < 18
		}

		additive_modifier = { #Romans love their orations...
			value = 35
			localisation_key = tooltip_imperial_vote_strength_roman_diplomacy

			vassal_of = FROMFROM
			diplomacy >= 18
			diplomacy < 20
		}

		additive_modifier = { #Romans love their orations...
			value = 40
			localisation_key = tooltip_imperial_vote_strength_roman_diplomacy

			vassal_of = FROMFROM
			diplomacy >= 20
			diplomacy < 25
		}

		additive_modifier = { #Romans love their orations...
			value = 50
			localisation_key = tooltip_imperial_vote_strength_roman_diplomacy

			vassal_of = FROMFROM
			diplomacy >= 25
			diplomacy < 30
		}

		additive_modifier = { #Romans love their orations...
			value = 65
			localisation_key = tooltip_imperial_vote_strength_roman_diplomacy

			vassal_of = FROMFROM
			diplomacy >= 30
		}

		#All the Traits
		additive_modifier = {
			value = 10
			localisation_key = tooltip_feudal_elector_vote_legendary
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				z_legendary_class = yes
			}
		}
		additive_modifier = { #Praised for being Deceitful
			value = 10
			localisation_key = tooltip_feudal_elector_vote_deceitful_positive
			NOT = { character = FROM } #Do not judge yourself.
			OR = {
				is_evil_religion = yes
			}
			FROM = {
				trait = deceitful
			}
		}
		#Ruler is possessed and I'm a warlock, vote for his pick
		additive_modifier = {
			value = 10
			localisation_key = tooltip_feudal_elector_pro_vote_ruler_possessed
			FROM = { character = ROOT_FROMFROMFROM }
			NOT = { character = FROM } #But not if it's me.
			z_warlock = yes
			FROMFROM = {
				holder_scope = {
					trait = possessed
				}
			}
		}

		# Traits
		elector_candidate_traits_vote = yes
		elector_candidate_traits_disfigured_vote = yes
		elector_candidate_traits_excommunication_vote = yes
		elector_candidate_traits_feudal_vote = yes
		elector_candidate_traits_pagan_branch_vote = yes

		# Ruler traits
		elector_ruler_traits_vote = yes

		# Candidate opinion
		elector_candidate_opinion_vote = yes

		# Ruler opinion
		elector_ruler_opinion_vote = yes
	}

	# ROOT is current title holder
	# FROM is candidate
	# FROMFROM is title
	# FROMFROMFROM is null
	candidate_trigger = {
		NOT = { character = FROM } #Not the current ruler.
		FROM = { #Either the candidate is in the realm, or is landless, or the title is independent, or the realm of the title does NOT have protected inheritance.
			OR = {
				any_liege = {
					character = ROOT
				}
				is_ruler = no
				ROOT_FROMFROM = { holder_scope = { independent = yes } }
				NOR = {
					ROOT_FROMFROM = { has_law = out_of_realm_inheritance_law_1 }
					ROOT_FROMFROM = { has_law = crown_authority_3 }
					ROOT_FROMFROM = { has_law = crown_authority_4 }
				}
			}
		}
		OR = {
			FROM = { any_claim = { title = ROOT_FROMFROM } }
			ROOT = {
				is_close_relative = FROM
				OR = {
					dynasty = FROM
					FROM = { is_landed = yes higher_real_tier_than = BARON }
				}
			}
			AND = {
				# OR = {
					# FROM = { higher_real_tier_than = COUNT } #Or Duke-tier...
					# AND = {
						# ROOT = {
							# lower_real_tier_than = KING
							# higher_real_tier_than = COUNT
						# }
						# FROM = { higher_real_tier_than = BARON } #...Or Count-tier under a Duchy...
					# }
					# AND = {
						# ROOT = {
							# lower_real_tier_than = DUKE
						# }
						# FROM = { is_landed = yes is_ruler = yes } #...Or Baron-tier under a County.
					# }
				# }
				FROM = {
					OR = { #Either defacto direct vassal, or independent ruler who is dejure vassal.
						vassal_of = ROOT
						AND = {
							independent = yes
							any_dejure_liege = { title = ROOT }
						}
					}
				}
			}
		}
		FROM = {
			OR = { #Candidate should not be a landless Courtier that is about to inherit a Theocracy or Republic
				AND = {
					is_ruler = yes
					is_landed = yes
					is_republic = no
					is_merchant_republic = no
					is_theocracy = no
				}
				NOR = {
					any_heir_title = {
						is_republic = yes
					}
					any_heir_title = {
						is_merchant_republic = yes
					}
					any_heir_title = {
						is_theocracy = yes
					}
				}
			}
			OR = { #If the title controls the religion, candidates must be of the same religion.
				ROOT = {
					NOT = {
						controls_religion = yes
					}
				}
				religion = ROOT
			}
			NOR = {
				trait = cat
				trait = disinherited
				trait = horse
#				trait = eunuch
				is_ascetic_trigger = yes
				is_theocracy = yes
#				is_republic = yes
#				is_merchant_republic = yes
			}
		}
	}
}

divine_elective = {

	elector_vote_strength = {
		days = 1
		additive_modifier = {
			value = 1
			localisation_key = tooltip_divine_vote_strength_cleric
			OR = {
				z_cleric = yes
				z_paladin = yes
				z_druid = yes
				z_monk = yes
			}
		}
	}

	elector_selection = {
		days = -5 		#If below 0, ROOT is not valid to be an Elector.
		additive_modifier = { # The current ruler can always vote
			value = 10
			FROMFROM = {
				holder_scope = {
					character = ROOT
				}
			}
		}
		additive_modifier = { # Everyone under the title can vote if same religion
			value = 10
			is_vassal_or_below_of = FROMFROM
			religion = FROMFROM
		}
		additive_modifier = { #Current ruler's heir is always a candidate and elector if possible
			value = 10
			player_heir = {
				religion = FROMFROM
				character = FROM
				NOT = { character = ROOT }
			}
			FROMFROM = {
				holder_scope = {
					character = PREVPREV
				}
			}
		}
	}
	candidate_vote_score = {
		days = 0

		### Elector voting himself ###
		elector_self_feudal_vote = yes

		### Candidate ###

		# Heir
		elector_heir_vote = yes

		## All candidates

		# Sexism
		elector_candidate_gender_vote = yes

		# Ageism
		elector_candidate_age_vote = yes
		elector_candidate_age_children_vote = yes

		# Culturism
		elector_candidate_culture_vote = yes

		# Faithism
		elector_candidate_religion_vote = yes

		# Barbarism
		elector_candidate_barbarism_vote = yes

		# Nepotism
		elector_candidate_nepotism_vote = yes

		# Prestige
		elector_candidate_prestige_vote = yes

		# Piety
		elector_candidate_piety_vote = yes

		# Education and lifestyle
		elector_candidate_education_lifestyle_vote = yes

		# Claims
		elector_candidate_claims_vote = yes


		additive_modifier = { #Knowledge is power...
			value = 10
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 8
			NOT = { learning = 10 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 15
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 10
			NOT = { learning = 12 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 20
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 12
			NOT = { learning = 14 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 25
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 14
			NOT = { learning = 16 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 30
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 16
			NOT = { learning = 18 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 35
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 18
			NOT = { learning = 20 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 40
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 20
			NOT = { learning = 25 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 50
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 25
			NOT = { learning = 30 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 65
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 30
			# No cultural bias on this one
		}

		#All the Traits
		additive_modifier = {
			value = 10
			localisation_key = tooltip_feudal_elector_vote_paladin
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = paladin
			}
		}
		additive_modifier = {
			value = 15
			localisation_key = tooltip_feudal_elector_vote_paladin
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = trained_paladin
			}
		}
		additive_modifier = {
			value = 20
			localisation_key = tooltip_feudal_elector_vote_paladin
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = journeyman_paladin
			}
		}
		additive_modifier = {
			value = 25
			localisation_key = tooltip_feudal_elector_vote_paladin
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = expert_paladin
			}
		}
		additive_modifier = {
			value = 30
			localisation_key = tooltip_feudal_elector_vote_great_paladin
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = master_paladin
			}
		}
		additive_modifier = {
			value = 35
			localisation_key = tooltip_feudal_elector_vote_great_paladin
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = renowned_paladin
			}
		}
		additive_modifier = {
			value = 40
			localisation_key = tooltip_feudal_elector_vote_great_paladin
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = legendary_paladin
			}
		}
		additive_modifier = {
			value = 10 # cleric is the most prestigious divine class in this electoral system, so we don't give the full uplift to people who've only dipped into it
			localisation_key = tooltip_feudal_elector_vote_cleric
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = cleric
			}
		}
		additive_modifier = {
			value = 20
			localisation_key = tooltip_feudal_elector_vote_cleric
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = trained_cleric
			}
		}
		additive_modifier = {
			value = 25
			localisation_key = tooltip_feudal_elector_vote_cleric
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = journeyman_cleric
			}
		}
		additive_modifier = {
			value = 30
			localisation_key = tooltip_feudal_elector_vote_cleric
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = expert_cleric
			}
		}
		additive_modifier = {
			value = 35
			localisation_key = tooltip_feudal_elector_vote_great_cleric
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = master_cleric
			}
		}
		additive_modifier = {
			value = 40
			localisation_key = tooltip_feudal_elector_vote_great_cleric
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = renowned_cleric
			}
		}
		additive_modifier = {
			value = 45
			localisation_key = tooltip_feudal_elector_vote_great_cleric
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = legendary_cleric
			}
		}
		#Traits that show divine favour
		additive_modifier = {
			value = 15
			localisation_key = tooltip_feudal_elector_vote_bhaalspawn
			NOT = { character = FROM } #Do not judge yourself.
			religion = dead_three
			FROM = {
				trait = bhaalspawn
			}
		}
		additive_modifier = {
			value = 10
			localisation_key = tooltip_feudal_elector_vote_bhaalspawn
			NOT = { character = FROM } #Do not judge yourself.
			NOT = { religion = dead_three }
			religion_group = evil_human_pantheon_group
			FROM = {
				trait = bhaalspawn
			}
		}
		additive_modifier = {
			value = 5
			localisation_key = tooltip_feudal_elector_vote_bhaalspawn
			NOT = { character = FROM } #Do not judge yourself.
			religion_group = good_human_pantheon_group
			FROM = {
				trait = bhaalspawn
			}
		}
		additive_modifier = {
			value = 10
			localisation_key = tooltip_feudal_elector_vote_chosen_mystra
			NOT = { character = FROM } #Do not judge yourself.
			OR = {
				religion_group = good_human_pantheon_group
				religion_group = evil_human_pantheon_group
			}
			FROM = {
				trait = chosen_mystra
			}
		}
		#And the rest
		additive_modifier = {
			value = 10
			localisation_key = tooltip_feudal_elector_vote_legendary
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				z_legendary_class = yes
			}
		}
		additive_modifier = {
			value = -15
			localisation_key = tooltip_feudal_elector_vote_immortal_magic
			NOT = { character = FROM } #Do not judge yourself.
			immortal = no
			FROM = {
				immortal = yes
			}
		}
		additive_modifier = {
			value = 5
			localisation_key = tooltip_feudal_elector_vote_immortal_magic_immortal
			NOT = { character = FROM } #Do not judge yourself.
			immortal = yes
			FROM = {
				immortal = yes
			}
		}

		# Traits
		elector_candidate_traits_vote = yes
		elector_candidate_traits_disfigured_vote = yes
		elector_candidate_traits_excommunication_vote = yes
		elector_candidate_traits_feudal_vote = yes
		elector_candidate_traits_pagan_branch_vote = yes

		# Ruler traits
		elector_ruler_traits_vote = yes

		# Candidate opinion
		elector_candidate_opinion_vote = yes

		# Ruler opinion
		elector_ruler_opinion_vote = yes
	}

	#ROOT = Current Title holder, FROM = Candidate, FROMFROM = Title, FROMFROMFROM = Null
	candidate_trigger = {
		NOT = { character = FROM } #Not the current ruler.
		FROM = { #Either the candidate is in the realm, or is landless, or the title is independent, or the realm of the title does NOT have protected inheritance.
			religion = ROOT
			OR = {
				any_liege = {
					character = ROOT
				}
				is_ruler = no
				ROOT_FROMFROM = { holder_scope = { independent = yes } }
				NOR = {
					ROOT_FROMFROM = { has_law = out_of_realm_inheritance_law_1 }
					ROOT_FROMFROM = { has_law = crown_authority_3 }
					ROOT_FROMFROM = { has_law = crown_authority_4 }
				}
			}
		}
		OR = {
			FROM = { any_claim = { title = ROOT_FROMFROM } }
			ROOT = {
				is_close_relative = FROM
				OR = {
					dynasty = FROM
					FROM = { is_landed = yes higher_real_tier_than = BARON }
				}
			}
			#AND = {
				# OR = {
					# FROM = { higher_real_tier_than = COUNT } #Or Duke-tier...
					# AND = {
						# ROOT = {
							# lower_real_tier_than = KING
							# higher_real_tier_than = COUNT
						# }
						# FROM = { higher_real_tier_than = BARON } #...Or Count-tier under a Duchy...
					# }
					# AND = {
						# ROOT = {
							# lower_real_tier_than = DUKE
						# }
						# FROM = { is_landed = yes is_ruler = yes } #...Or Baron-tier under a County.
					# }
				# }
				FROM = {
					OR = { #Either defacto direct vassal, or independent ruler who is dejure vassal.
						vassal_of = ROOT
						AND = {
							independent = yes
							any_dejure_liege = { title = ROOT }
						}
					}
				}
			#}
		}
		FROM = {
			OR = { #Candidate should not be a landless Courtier that is about to inherit a Theocracy or Republic
				AND = {
					is_ruler = yes
					is_landed = yes
					is_republic = no
					is_merchant_republic = no
					is_theocracy = no
				}
				NOR = {
					any_heir_title = {
						is_republic = yes
					}
					any_heir_title = {
						is_merchant_republic = yes
					}
					any_heir_title = {
						is_theocracy = yes
					}
				}
			}
			#OR = { #If the title controls the religion, candidates must be of the same religion.
			#	ROOT = {
			#		NOT = {
			#			controls_religion = yes
			#		}
			#	}
			#	religion = ROOT
			#}
			NOR = {
				trait = cat
				trait = disinherited
				trait = horse
#				trait = eunuch
				is_ascetic_trigger = yes
				is_theocracy = yes
#				is_republic = yes
				is_merchant_republic = yes
			}
		}
	}
}

magic_elective = {

	elector_vote_strength = {
		days = 1
	}

	elector_selection = {
		days = -1 		#If below 0, ROOT is not valid to be an Elector.
		additive_modifier = { # The current ruler can always vote
			value = 2
			FROMFROM = {
				holder_scope = {
					character = ROOT
				}
			}
		}
		additive_modifier = { # Everyone under the title who is arcane caster can vote
			value = 2
			z_arcane_caster = yes
			any_liege = {
				FROMFROM = {
					holder_scope = {
						character = PREVPREV
					}
				}
			}
		}
		additive_modifier = { #Current ruler's heir is always a candidate and elector if possible
			value = 2
			player_heir = {
				character = FROM
				NOT = { character = ROOT }
			}
			FROMFROM = {
				holder_scope = {
					character = PREVPREV
				}
			}
		}
	}
	candidate_vote_score = {
		days = 0

		### Elector voting himself ###
		elector_self_feudal_vote = yes

		### Candidate ###

		# Heir
		elector_heir_vote = yes

		## All candidates

		# Sexism
		elector_candidate_gender_vote = yes

		#Ageism
		# No penalties for old candidates in a magocracy - age implies wisdom
		elector_candidate_age_vote = yes
		elector_candidate_age_children_vote = yes

		# Culturism
		elector_candidate_culture_vote = yes

		additive_modifier = { #Candidate doesn't know arcane magic
			value = -200
			localisation_key = tooltip_feudal_elector_vote_knows_no_art
			NOT = { character = FROM }
			FROM = {
				z_arcane_caster = no
			}
		}

		# removed faithism for Magocracies

		additive_modifier = { #Heretic
			value = -50
			localisation_key = tooltip_feudal_elector_vote_heretic
			NOT = { has_religion_feature = religion_cosmopolitan }
			NOT = { is_dogmatic_religion = yes }
			FROM = { is_heresy_of = ROOT }
		}
		additive_modifier = { #Dogmatics will hardly ever pick an infidel.
			value = -100
			localisation_key = tooltip_feudal_elector_vote_heathen_dogmatic
			is_dogmatic_religion = yes
			FROM = { NOT = { religion = ROOT } }
		}

		# Barbarism
		elector_candidate_barbarism_vote = yes

		# Nepotism
		elector_candidate_nepotism_vote = yes

		# Prestige
		elector_candidate_prestige_vote = yes

		#Educational preferences
		elector_candidate_education_lifestyle_vote = yes

		# Claims
		elector_candidate_claims_vote = yes

		additive_modifier = { #Knowledge is power...
			value = 10
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 8
			NOT = { learning = 10 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 15
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 10
			NOT = { learning = 12 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 20
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 12
			NOT = { learning = 14 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 25
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 14
			NOT = { learning = 16 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 30
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 16
			NOT = { learning = 18 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 35
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 18
			NOT = { learning = 20 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 40
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 20
			NOT = { learning = 25 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 50
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 25
			NOT = { learning = 30 }
			# No cultural bias on this one
		}
		additive_modifier = { #Knowledge is power...
			value = 65
			localisation_key = tooltip_feudal_vote_strength_magocracy_learning
			vassal_of = FROMFROM
			NOT = {
				FROMFROM = {
					holder_scope = { character = ROOT }
				}
			}
			learning = 30
			# No cultural bias on this one
		}

		#All the Traits
		#starting with the arcane classes
		additive_modifier = {
			value = 5
			localisation_key = tooltip_feudal_elector_vote_bard
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = bard
			}
		}
		additive_modifier = {
			value = 10
			localisation_key = tooltip_feudal_elector_vote_bard
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = trained_bard
			}
		}
		additive_modifier = {
			value = 15
			localisation_key = tooltip_feudal_elector_vote_bard
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = journeyman_bard
			}
		}
		additive_modifier = {
			value = 20
			localisation_key = tooltip_feudal_elector_vote_bard
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = expert_bard
			}
		}
		additive_modifier = {
			value = 25
			localisation_key = tooltip_feudal_elector_vote_great_bard
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = master_bard
			}
		}
		additive_modifier = {
			value = 30
			localisation_key = tooltip_feudal_elector_vote_great_bard
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = renowned_bard
			}
		}
		additive_modifier = {
			value = 35
			localisation_key = tooltip_feudal_elector_vote_great_bard
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = legendary_bard
			}
		}
		additive_modifier = {
			value = 10
			localisation_key = tooltip_feudal_elector_vote_sorcerer
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = sorcerer
			}
		}
		additive_modifier = {
			value = 20
			localisation_key = tooltip_feudal_elector_vote_sorcerer
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = trained_sorcerer
			}
		}
		additive_modifier = {
			value = 30
			localisation_key = tooltip_feudal_elector_vote_sorcerer
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = journeyman_sorcerer
			}
		}
		additive_modifier = {
			value = 40
			localisation_key = tooltip_feudal_elector_vote_sorcerer
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = expert_sorcerer
			}
		}
		additive_modifier = {
			value = 50
			localisation_key = tooltip_feudal_elector_vote_great_sorcerer
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = master_sorcerer
			}
		}
		additive_modifier = {
			value = 60
			localisation_key = tooltip_feudal_elector_vote_great_sorcerer
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = renowned_sorcerer
			}
		}
		additive_modifier = {
			value = 70
			localisation_key = tooltip_feudal_elector_vote_great_sorcerer
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = legendary_sorcerer
			}
		}
		additive_modifier = {
			value = 10
			localisation_key = tooltip_feudal_elector_vote_warlock
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = warlock
			}
		}
		additive_modifier = {
			value = 20
			localisation_key = tooltip_feudal_elector_vote_warlock
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = trained_warlock
			}
		}
		additive_modifier = {
			value = 30
			localisation_key = tooltip_feudal_elector_vote_warlock
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = journeyman_warlock
			}
		}
		additive_modifier = {
			value = 40
			localisation_key = tooltip_feudal_elector_vote_warlock
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = expert_warlock
			}
		}
		additive_modifier = {
			value = 50
			localisation_key = tooltip_feudal_elector_vote_great_warlock
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = master_warlock
			}
		}
		additive_modifier = {
			value = 60
			localisation_key = tooltip_feudal_elector_vote_great_warlock
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = renowned_warlock
			}
		}
		additive_modifier = {
			value = 70
			localisation_key = tooltip_feudal_elector_vote_great_warlock
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = legendary_warlock
			}
		}
		additive_modifier = {
			value = 10 # Wizard is the most prestigious arcane class in this electoral system, so we don't give the full uplift to people who've only dipped into it
			localisation_key = tooltip_feudal_elector_vote_wizard
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = wizard
			}
		}
		additive_modifier = {
			value = 30
			localisation_key = tooltip_feudal_elector_vote_wizard
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = trained_wizard
			}
		}
		additive_modifier = {
			value = 45
			localisation_key = tooltip_feudal_elector_vote_wizard
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = journeyman_wizard
			}
		}
		additive_modifier = {
			value = 60
			localisation_key = tooltip_feudal_elector_vote_wizard
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = expert_wizard
			}
		}
		additive_modifier = {
			value = 75
			localisation_key = tooltip_feudal_elector_vote_great_wizard
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = master_wizard
			}
		}
		additive_modifier = {
			value = 90
			localisation_key = tooltip_feudal_elector_vote_great_wizard
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = renowned_wizard
			}
		}
		additive_modifier = {
			value = 105
			localisation_key = tooltip_feudal_elector_vote_great_wizard
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				trait = legendary_wizard
			}
		}
		additive_modifier = {
			value = 10
			localisation_key = tooltip_feudal_elector_vote_legendary
			NOT = { character = FROM } #Do not judge yourself.
			FROM = {
				z_legendary_class = yes
			}
		}
		additive_modifier = { # bards for bards
			value = 10
			localisation_key = tooltip_feudal_elector_vote_bard_match
			NOT = { character = FROM } #Do not judge yourself.
			z_bard = yes
			FROM = {
				z_bard = yes
			}
		}
		additive_modifier = { # sorcerers for sorcerers
			value = 10
			localisation_key = tooltip_feudal_elector_vote_sorcerer_match
			NOT = { character = FROM } #Do not judge yourself.
			z_sorcerer = yes
			FROM = {
				z_sorcerer = yes
			}
		}
		additive_modifier = { # warlocks for warlocks
			value = 10
			localisation_key = tooltip_feudal_elector_vote_warlock_match
			NOT = { character = FROM } #Do not judge yourself.
			z_warlock = yes
			FROM = {
				z_warlock = yes
			}
		}
		additive_modifier = { # wizards for wizards
			value = 10
			localisation_key = tooltip_feudal_elector_vote_wizard_match
			NOT = { character = FROM } #Do not judge yourself.
			z_wizard = yes
			FROM = {
				z_wizard = yes
			}
		}
		additive_modifier = {
			value = 15
			localisation_key = tooltip_feudal_elector_vote_chosen_mystra
			NOT = { character = FROM } #Do not judge yourself.
			OR = {
				religion_group = good_human_pantheon_group
				religion_group = evil_human_pantheon_group
			}
			FROM = {
				trait = chosen_mystra
			}
		}

		# Traits
		elector_candidate_traits_vote = yes
		elector_candidate_traits_disfigured_vote = yes
		elector_candidate_traits_excommunication_vote = yes
		elector_candidate_traits_feudal_vote = yes
		elector_candidate_traits_pagan_branch_vote = yes

		# Ruler traits
		elector_ruler_traits_vote = yes

		# Candidate opinion
		elector_candidate_opinion_vote = yes

		# Ruler opinion
		elector_ruler_opinion_vote = yes
	}

	#ROOT = Current Title holder, FROM = Candidate, FROMFROM = Title, FROMFROMFROM = Null
	candidate_trigger = {
		NOT = { character = FROM } #Not the current ruler.
		FROM = {
			trigger_if = {
				limit = { ROOT_FROMFROM = { is_society_landed_title_trigger = yes } }

				ROOT_FROMFROM = {
					OR = {
						is_society_title_matching_society_of_PREV_trigger = yes

						# if a character can be a potential recruit in the society, they can be voted for if other conditions allow it (claim or being a close relative of the ruler)
						persistent_event_target:society_persist = {
							ROOT_FROM = {
								can_join_society = PREV
							}
						}
					}
				}
			}
			trigger_else_if = {
				limit = { ROOT_FROMFROM = { is_arcane_title_trigger = yes } }

				z_arcane_caster = yes
			}

			OR = {
				any_liege = {
					character = ROOT
				}
				is_ruler = no
				ROOT_FROMFROM = { holder_scope = { independent = yes } }
				NOR = {
					ROOT_FROMFROM = { has_law = out_of_realm_inheritance_law_1 }
					ROOT_FROMFROM = { has_law = crown_authority_3 }
					ROOT_FROMFROM = { has_law = crown_authority_4 }
				}
			}
		}
		OR = {
			FROM = { any_claim = { title = ROOT_FROMFROM } }
			ROOT = {
				is_close_relative = FROM
				OR = {
					dynasty = FROM
					FROM = { is_landed = yes higher_real_tier_than = BARON }
				}
			}
			FROM = {
				OR = { #Either defacto direct vassal, or independent ruler who is dejure vassal.
					vassal_of = ROOT
					AND = {
						independent = yes
						any_dejure_liege = { title = ROOT }
					}
				}
			}

			# if the title is society title, any members of the society is an eligible candidate
			trigger_if = { 
				limit = { FROMFROM = { is_society_landed_title_trigger = yes } }

				FROM = {
					ROOT_FROMFROM = {
						is_society_title_matching_society_of_PREV_trigger = yes
					}
				}
			}
		}
		FROM = {
			OR = { #Candidate should not be a landless Courtier that is about to inherit a Theocracy or Republic
				AND = {
					is_ruler = yes
					is_landed = yes
					is_republic = no
					is_merchant_republic = no
					is_theocracy = no
				}
				NOR = {
					any_heir_title = {
						is_republic = yes
					}
					any_heir_title = {
						is_merchant_republic = yes
					}
					any_heir_title = {
						is_theocracy = yes
					}
				}
			}
			OR = { #If the title controls the religion, candidates must be of the same religion.
				ROOT = {
					NOT = {
						controls_religion = yes
					}
				}
				religion = ROOT
			}
			NOR = {
				trait = cat
				trait = disinherited
				trait = horse
				trait = eunuch
				is_ascetic_trigger = yes
				is_theocracy = yes
				is_republic = yes
				is_merchant_republic = yes
			}
		}
	}
}


byzantine_elective = {
	elector_selection = {
		days = 1

		trigger = {
			# The title must currently exist
			FROMFROM = {
				has_holder = yes
			}

			OR = {
				# Emperor is always an Elector
				has_landed_title = FROMFROM

				trigger_if = {
					limit = { vassal_of = FROMFROM }

					OR = {
						# Then the Councilors
						has_job_title = job_chancellor
						has_job_title = job_marshal
						has_job_title = job_treasurer
						has_job_title = job_spymaster
						has_job_title = job_spiritual
						has_minor_title = title_councilmember_king
						has_minor_title = title_councilmember_emperor

						# And finally the generals
						has_minor_title = title_commander
					}
				}
			}
		}
	}

	elector_vote_strength = {
		days = 5 # 1 elector = 5 votes

		additive_modifier = { # The Emperor's word is worth more than anybody else's by far
			value = 195
			localisation_key = tooltip_imperial_vote_strength_emperor_influence

			has_landed_title = FROMFROM
		}

		additive_modifier = { # Being a good orator
			value = 10
			localisation_key = tooltip_imperial_vote_strength_emperor_diplomacy

			has_landed_title = FROMFROM
			is_adult = yes
			diplomacy >= 10
			diplomacy < 15
		}

		additive_modifier = { # Being a good orator
			value = 15
			localisation_key = tooltip_imperial_vote_strength_emperor_diplomacy

			has_landed_title = FROMFROM
			is_adult = yes
			diplomacy >= 15
			diplomacy < 20
		}

		additive_modifier = { # Being a good orator
			value = 20
			localisation_key = tooltip_imperial_vote_strength_emperor_diplomacy

			has_landed_title = FROMFROM
			is_adult = yes
			diplomacy >= 20
		}

		additive_modifier = { # Appointing bad commanders
			value = -20
			localisation_key = tooltip_imperial_vote_strength_emperor_sycophants

			has_landed_title = FROMFROM
			is_adult = yes

			check_variable = {
				which = byzantine_credibility_appointed_sycophant
				value < -5
			}
			check_variable = {
				which = byzantine_credibility_appointed_sycophant
				value >= -10
			}
		}

		additive_modifier = { # Appointing bad commanders
			value = -40
			localisation_key = tooltip_imperial_vote_strength_emperor_sycophants

			has_landed_title = FROMFROM
			is_adult = yes

			check_variable = {
				which = byzantine_credibility_appointed_sycophant
				value < -10
			}

			check_variable = {
				which = byzantine_credibility_appointed_sycophant
				value >= -15
			}
		}

		additive_modifier = { # Appointing bad commanders
			value = -60
			localisation_key = tooltip_imperial_vote_strength_emperor_sycophants

			has_landed_title = FROMFROM
			is_adult = yes

			check_variable = {
				which = byzantine_credibility_appointed_sycophant
				value < -15
			}

			check_variable = {
				which = byzantine_credibility_appointed_sycophant
				value >= -20
			}
		}

		additive_modifier = { # Appointing bad commanders
			value = -80
			localisation_key = tooltip_imperial_vote_strength_emperor_sycophants

			has_landed_title = FROMFROM
			is_adult = yes

			check_variable = {
				which = byzantine_credibility_appointed_sycophant
				value < -20
			}
		}

		additive_modifier = { # Discharging good commanders
			value = -20
			localisation_key = tooltip_imperial_vote_strength_emperor_paranoia

			has_landed_title = FROMFROM
			is_adult = yes

			check_variable = {
				which = byzantine_credibility_discharged_hero
				value < -5
			}

			check_variable = {
				which = byzantine_credibility_discharged_hero
				value >= -10
			}
		}

		additive_modifier = { # Discharging good commanders
			value = -40
			localisation_key = tooltip_imperial_vote_strength_emperor_paranoia

			has_landed_title = FROMFROM
			is_adult = yes

			check_variable = {
				which = byzantine_credibility_discharged_hero
				value < -10
			}

			check_variable = {
				which = byzantine_credibility_discharged_hero
				value >= -15
			}
		}

		additive_modifier = { # Discharging good commanders
			value = -60
			localisation_key = tooltip_imperial_vote_strength_emperor_paranoia

			has_landed_title = FROMFROM
			is_adult = yes

			check_variable = {
				which = byzantine_credibility_discharged_hero
				value < -15
			}

			check_variable = {
				which = byzantine_credibility_discharged_hero
				value >= -20
			}
		}

		additive_modifier = { # Discharging good commanders
			value = -80
			localisation_key = tooltip_imperial_vote_strength_emperor_paranoia

			has_landed_title = FROMFROM
			is_adult = yes

			check_variable = {
				which = byzantine_credibility_discharged_hero
				value < -20
			}
		}

		# The Electors: General modifiers
		additive_modifier = { # Prestigious people hold more sway
			value = 5
			localisation_key = tooltip_imperial_vote_strength_elector_prestige

			vassal_of = FROMFROM
			prestige >= 100
			prestige < 300
		}

		additive_modifier = {
			value = 10
			localisation_key = tooltip_imperial_vote_strength_elector_prestige

			vassal_of = FROMFROM
			prestige >= 300
			prestige < 700
		}

		additive_modifier = {
			value = 15
			localisation_key = tooltip_imperial_vote_strength_elector_prestige

			vassal_of = FROMFROM
			prestige >= 700
			prestige < 1000
		}

		additive_modifier = {
			value = 20
			localisation_key = tooltip_imperial_vote_strength_elector_prestige

			vassal_of = FROMFROM
			prestige >= 1000
			prestige < 1500
		}

		additive_modifier = {
			value = 25
			localisation_key = tooltip_imperial_vote_strength_elector_prestige

			vassal_of = FROMFROM
			prestige >= 1500
			prestige < 2000
		}

		additive_modifier = {
			value = 30
			localisation_key = tooltip_imperial_vote_strength_elector_prestige

			vassal_of = FROMFROM
			prestige >= 2000
			prestige < 5000
		}

		additive_modifier = {
			value = 40
			localisation_key = tooltip_imperial_vote_strength_elector_prestige

			vassal_of = FROMFROM
			prestige >= 5000
		}

		# Powerful people can pull strings
		additive_modifier = {
			value = 5
			localisation_key = tooltip_imperial_vote_strength_elector_tier

			vassal_of = FROMFROM
			real_tier = COUNT
		}

		additive_modifier = {
			value = 10
			localisation_key = tooltip_imperial_vote_strength_elector_high_tier

			vassal_of = FROMFROM
			real_tier = DUKE
		}

		additive_modifier = {
			value = 15
			localisation_key = tooltip_imperial_vote_strength_elector_high_tier

			vassal_of = FROMFROM
			real_tier = KING
		}

		## Commanders
		# The fewer commanders you have appointed, the more influential the remaining ones are
		additive_modifier = {
			value = 5
			localisation_key = tooltip_imperial_vote_strength_no_competition

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			liege = {
				has_assigned_minor_title = {
					title = title_commander
					count >= 6
				}

				has_assigned_minor_title = {
					title = title_commander
					count < 8
				}
			}
		}

		additive_modifier = {
			value = 15
			localisation_key = tooltip_imperial_vote_strength_no_competition

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			liege = {
				has_assigned_minor_title = {
					title = title_commander
					count >= 4
				}

				has_assigned_minor_title = {
					title = title_commander
					count < 6
				}
			}
		}

		additive_modifier = {
			value = 40
			localisation_key = tooltip_imperial_vote_strength_no_competition

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			liege = {
				has_assigned_minor_title = {
					title = title_commander
					count >= 2
				}

				has_assigned_minor_title = {
					title = title_commander
					count < 4
				}
			}
		}

		additive_modifier = {
			value = 90
			localisation_key = tooltip_imperial_vote_strength_no_competition

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			liege = {
				has_assigned_minor_title = {
					title = title_commander
					count < 2
				}
			}
		}

		# Martial increases a commander's influence
		additive_modifier = {
			value = 10
			localisation_key = tooltip_imperial_vote_strength_commander_martial

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			martial >= 8
			martial < 10
		}

		additive_modifier = {
			value = 15
			localisation_key = tooltip_imperial_vote_strength_commander_martial

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			martial >= 10
			martial < 12
		}

		additive_modifier = {
			value = 20
			localisation_key = tooltip_imperial_vote_strength_commander_martial

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			martial >= 12
			martial < 14
		}

		additive_modifier = {
			value = 25
			localisation_key = tooltip_imperial_vote_strength_commander_martial

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			martial >= 14
			martial < 16
		}

		additive_modifier = {
			value = 30
			localisation_key = tooltip_imperial_vote_strength_commander_martial

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			martial >= 16
			martial < 18
		}

		additive_modifier = {
			value = 35
			localisation_key = tooltip_imperial_vote_strength_commander_martial

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			martial >= 18
			martial < 20
		}

		additive_modifier = {
			value = 40
			localisation_key = tooltip_imperial_vote_strength_commander_martial

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			martial >= 20
			martial < 25
		}

		additive_modifier = {
			value = 50
			localisation_key = tooltip_imperial_vote_strength_commander_martial

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			martial >= 25
			martial < 30
		}

		additive_modifier = {
			value = 65
			localisation_key = tooltip_imperial_vote_strength_commander_martial

			OR = {
				has_minor_title = title_commander
				has_job_title = job_marshal
			}

			martial >= 30
		}

		################################################################################

		# Diplomacy increases the Chancellor's influence
		additive_modifier = {
			value = 10
			localisation_key = tooltip_imperial_vote_strength_chancellor_diplomacy

			has_job_title = job_chancellor
			diplomacy >= 8
			diplomacy < 10
		}

		additive_modifier = { #Diplomacy increases the Chancellor's influence
			value = 15
			localisation_key = tooltip_imperial_vote_strength_chancellor_diplomacy

			has_job_title = job_chancellor
			diplomacy >= 10
			diplomacy < 12
		}

		additive_modifier = { #Diplomacy increases the Chancellor's influence.
			value = 20
			localisation_key = tooltip_imperial_vote_strength_chancellor_diplomacy

			has_job_title = job_chancellor
			diplomacy >= 12
			diplomacy < 14
		}

		additive_modifier = { #Diplomacy increases the Chancellor's influence.
			value = 25
			localisation_key = tooltip_imperial_vote_strength_chancellor_diplomacy

			has_job_title = job_chancellor
			diplomacy >= 14
			diplomacy < 16
		}

		additive_modifier = { #Diplomacy increases the Chancellor's influence.
			value = 30
			localisation_key = tooltip_imperial_vote_strength_chancellor_diplomacy

			has_job_title = job_chancellor
			diplomacy >= 16
			diplomacy < 18
		}

		additive_modifier = { #Diplomacy increases the Chancellor's influence.
			value = 35
			localisation_key = tooltip_imperial_vote_strength_chancellor_diplomacy

			has_job_title = job_chancellor
			diplomacy >= 18
			diplomacy < 20
		}

		additive_modifier = { #Diplomacy increases the Chancellor's influence.
			value = 40
			localisation_key = tooltip_imperial_vote_strength_chancellor_diplomacy

			has_job_title = job_chancellor
			diplomacy >= 20
			diplomacy < 25
		}

		additive_modifier = { #Diplomacy increases the Chancellor's influence.
			value = 50
			localisation_key = tooltip_imperial_vote_strength_chancellor_diplomacy

			has_job_title = job_chancellor
			diplomacy >= 25
			diplomacy < 30
		}

		additive_modifier = { #Diplomacy increases the Chancellor's influence.
			value = 65
			localisation_key = tooltip_imperial_vote_strength_chancellor_diplomacy

			has_job_title = job_chancellor
			diplomacy >= 30
		}

		################################################################################

		# Stewardship increases the Steward's influence
		additive_modifier = {
			value = 10
			localisation_key = tooltip_imperial_vote_strength_steward_stewardship

			has_job_title = job_treasurer
			stewardship >= 8
			stewardship < 10
		}

		additive_modifier = {
			value = 15
			localisation_key = tooltip_imperial_vote_strength_steward_stewardship

			has_job_title = job_treasurer
			stewardship >= 10
			stewardship < 12
		}

		additive_modifier = {
			value = 20
			localisation_key = tooltip_imperial_vote_strength_steward_stewardship

			has_job_title = job_treasurer
			stewardship >= 12
			stewardship < 14
		}

		additive_modifier = {
			value = 25
			localisation_key = tooltip_imperial_vote_strength_steward_stewardship

			has_job_title = job_treasurer
			stewardship >= 14
			stewardship < 16
		}

		additive_modifier = {
			value = 30
			localisation_key = tooltip_imperial_vote_strength_steward_stewardship

			has_job_title = job_treasurer
			stewardship >= 16
			stewardship < 18
		}

		additive_modifier = {
			value = 35
			localisation_key = tooltip_imperial_vote_strength_steward_stewardship

			has_job_title = job_treasurer
			stewardship >= 18
			stewardship < 20
		}

		additive_modifier = {
			value = 40
			localisation_key = tooltip_imperial_vote_strength_steward_stewardship

			has_job_title = job_treasurer
			stewardship >= 20
			stewardship < 25
		}

		additive_modifier = {
			value = 50
			localisation_key = tooltip_imperial_vote_strength_steward_stewardship

			has_job_title = job_treasurer
			stewardship >= 25
			stewardship < 30
		}

		additive_modifier = {
			value = 65
			localisation_key = tooltip_imperial_vote_strength_steward_stewardship

			has_job_title = job_treasurer
			stewardship >= 30
		}

		################################################################################

		# Intrigue increases the Spymaster's influence
		additive_modifier = {
			value = 10
			localisation_key = tooltip_imperial_vote_strength_spymaster_intrigue

			has_job_title = job_spymaster
			intrigue >= 8
			intrigue < 10
		}

		additive_modifier = {
			value = 15
			localisation_key = tooltip_imperial_vote_strength_spymaster_intrigue

			has_job_title = job_spymaster
			intrigue >= 10
			intrigue < 12
		}

		additive_modifier = {
			value = 20
			localisation_key = tooltip_imperial_vote_strength_spymaster_intrigue

			has_job_title = job_spymaster
			intrigue >= 12
			intrigue < 14
		}

		additive_modifier = {
			value = 25
			localisation_key = tooltip_imperial_vote_strength_spymaster_intrigue

			has_job_title = job_spymaster
			intrigue >= 14
			intrigue < 16
		}

		additive_modifier = {
			value = 30
			localisation_key = tooltip_imperial_vote_strength_spymaster_intrigue

			has_job_title = job_spymaster
			intrigue >= 16
			intrigue < 18
		}

		additive_modifier = {
			value = 35
			localisation_key = tooltip_imperial_vote_strength_spymaster_intrigue

			has_job_title = job_spymaster
			intrigue >= 18
			intrigue < 20
		}

		additive_modifier = {
			value = 40
			localisation_key = tooltip_imperial_vote_strength_spymaster_intrigue

			has_job_title = job_spymaster
			intrigue >= 20
			intrigue < 25
		}

		additive_modifier = {
			value = 50
			localisation_key = tooltip_imperial_vote_strength_spymaster_intrigue

			has_job_title = job_spymaster
			intrigue >= 25
			intrigue < 30
		}

		additive_modifier = {
			value = 65
			localisation_key = tooltip_imperial_vote_strength_spymaster_intrigue

			has_job_title = job_spymaster
			intrigue >= 30
		}

		################################################################################

		# Learning increases the Chaplain's influence
		additive_modifier = {
			value = 10
			localisation_key = tooltip_imperial_vote_strength_chaplain_learning

			has_job_title = job_spiritual
			learning >= 8
			learning < 10
		}

		additive_modifier = {
			value = 15
			localisation_key = tooltip_imperial_vote_strength_chaplain_learning

			has_job_title = job_spiritual
			learning >= 10
			learning < 12
		}

		additive_modifier = {
			value = 20
			localisation_key = tooltip_imperial_vote_strength_chaplain_learning

			has_job_title = job_spiritual
			learning >= 12
			learning < 14
		}

		additive_modifier = {
			value = 25
			localisation_key = tooltip_imperial_vote_strength_chaplain_learning

			has_job_title = job_spiritual
			learning >= 14
			learning < 16
		}

		additive_modifier = {
			value = 30
			localisation_key = tooltip_imperial_vote_strength_chaplain_learning

			has_job_title = job_spiritual
			learning >= 16
			learning < 18
		}

		additive_modifier = {
			value = 35
			localisation_key = tooltip_imperial_vote_strength_chaplain_learning

			has_job_title = job_spiritual
			learning >= 18
			learning < 20
		}

		additive_modifier = {
			value = 40
			localisation_key = tooltip_imperial_vote_strength_chaplain_learning

			has_job_title = job_spiritual
			learning >= 20
			learning < 25
		}

		additive_modifier = {
			value = 50
			localisation_key = tooltip_imperial_vote_strength_chaplain_learning

			has_job_title = job_spiritual
			learning >= 25
			learning < 30
		}

		additive_modifier = {
			value = 65
			localisation_key = tooltip_imperial_vote_strength_chaplain_learning

			has_job_title = job_spiritual
			learning >= 30
		}

		# Chaplain is also the head of the ruling religion
		additive_modifier = {
			value = 15
			localisation_key = tooltip_imperial_vote_strength_chaplain_patriarch

			has_job_title = job_spiritual
			controls_religion = yes
			religion = FROMFROM
		}

		# Spouse Bonus
		additive_modifier = {
			value = 30
			localisation_key = tooltip_imperial_vote_strength_spouse

			FROMFROM = {
				holder_scope = {
					is_married = ROOT
				}
			}
		}

		################################################################################

		# Those crafty Byzantines...
		additive_modifier = {
			value = 10
			localisation_key = tooltip_imperial_vote_strength_greek_intrigue

			vassal_of = FROMFROM
			intrigue >= 8
			intrigue < 10
		}

		additive_modifier = {
			value = 15
			localisation_key = tooltip_imperial_vote_strength_greek_intrigue

			vassal_of = FROMFROM
			intrigue >= 10
			intrigue < 12
		}

		additive_modifier = {
			value = 20
			localisation_key = tooltip_imperial_vote_strength_greek_intrigue

			vassal_of = FROMFROM
			intrigue >= 12
			intrigue < 14
		}

		additive_modifier = {
			value = 25
			localisation_key = tooltip_imperial_vote_strength_greek_intrigue

			vassal_of = FROMFROM
			intrigue >= 14
			intrigue < 16
		}

		additive_modifier = {
			value = 30
			localisation_key = tooltip_imperial_vote_strength_greek_intrigue

			vassal_of = FROMFROM
			intrigue >= 16
			intrigue < 18
		}

		additive_modifier = {
			value = 35
			localisation_key = tooltip_imperial_vote_strength_greek_intrigue

			vassal_of = FROMFROM
			intrigue >= 18
			intrigue < 20
		}

		additive_modifier = {
			value = 40
			localisation_key = tooltip_imperial_vote_strength_greek_intrigue

			vassal_of = FROMFROM
			intrigue >= 20
			intrigue < 25
		}

		additive_modifier = {
			value = 50
			localisation_key = tooltip_imperial_vote_strength_greek_intrigue

			vassal_of = FROMFROM
			intrigue >= 25
			intrigue < 30
		}

		additive_modifier = {
			value = 65
			localisation_key = tooltip_imperial_vote_strength_greek_intrigue

			vassal_of = FROMFROM
			intrigue >= 30
		}

		################################################################################

		# Romans love their orators...
		additive_modifier = {
			value = 10
			localisation_key = tooltip_imperial_vote_strength_roman_diplomacy

			vassal_of = FROMFROM
			diplomacy >= 8
			diplomacy < 10
		}

		additive_modifier = { #Romans love their orations...
			value = 15
			localisation_key = tooltip_imperial_vote_strength_roman_diplomacy

			vassal_of = FROMFROM
			diplomacy >= 10
			diplomacy < 12
		}

		additive_modifier = { #Romans love their orations...
			value = 20
			localisation_key = tooltip_imperial_vote_strength_roman_diplomacy

			vassal_of = FROMFROM
			diplomacy >= 12
			diplomacy < 14
		}

		additive_modifier = { #Romans love their orations...
			value = 25
			localisation_key = tooltip_imperial_vote_strength_roman_diplomacy

			vassal_of = FROMFROM
			diplomacy >= 14
			diplomacy < 16
		}

		additive_modifier = { #Romans love their orations...
			value = 30
			localisation_key = tooltip_imperial_vote_strength_roman_diplomacy

			vassal_of = FROMFROM
			diplomacy >= 16
			diplomacy < 18
		}

		additive_modifier = { #Romans love their orations...
			value = 35
			localisation_key = tooltip_imperial_vote_strength_roman_diplomacy

			vassal_of = FROMFROM
			diplomacy >= 18
			diplomacy < 20
		}

		additive_modifier = { #Romans love their orations...
			value = 40
			localisation_key = tooltip_imperial_vote_strength_roman_diplomacy

			vassal_of = FROMFROM
			diplomacy >= 20
			diplomacy < 25
		}

		additive_modifier = { #Romans love their orations...
			value = 50
			localisation_key = tooltip_imperial_vote_strength_roman_diplomacy

			vassal_of = FROMFROM
			diplomacy >= 25
			diplomacy < 30
		}

		additive_modifier = { #Romans love their orations...
			value = 65
			localisation_key = tooltip_imperial_vote_strength_roman_diplomacy

			vassal_of = FROMFROM
			diplomacy >= 30
		}
	}

	# ROOT is current title holder
	# FROM is candidate
	# FROMFROM is title
	# FROMFROMFROM is null
	candidate_trigger = { # Close relatives, claimants, marshals. No mutilations (if Byzantine)
		# Title must currently exist
		FROMFROM = {
			has_holder = yes
		}

		FROM = {
			# CleanSlate: Always independent, protected realm inheritance checks removed - for reference, see feudal elective

			# Must have a claim, be closely related to the current ruler, or be a landed marshal/commander
			OR = {
				has_claim = ROOT_FROMFROM
				is_close_relative = ROOT

				trigger_if = {
					limit = { vassal_of = ROOT_FROMFROM }

					OR = {
						has_job_title = job_marshal
						has_minor_title = title_commander
					}
				}
			}

			# Candidate should not be a landless Courtier who is about to inherit a Theocracy or Republic
			trigger_if = {
				limit = {
					any_heir_title = {
						OR = {
							is_republic = yes
							is_theocracy = yes
						}
					}
				}

				is_landed = yes
				is_republic = no
				is_theocracy = no
			}

			# If the title controls the religion, candidates must be of the same religion
			trigger_if = {
				limit = { ROOT = { controls_religion = yes } }
				religion = ROOT
			}

			trigger_if = {
				limit = { trait = bastard }
				is_ruler = yes
			}

			is_ascetic_trigger = no
			is_theocracy = no
			is_republic = no

			NOR = {
				trait = cat
				trait = disinherited
				trait = horse
				trait = eunuch
				trait = disfigured
				trait = blinded
				trait = dwarf
				trait = clubfooted
				trait = harelip
				trait = inbred
				character = ROOT # Not the current ruler
			}
		}
	}

	candidate_vote_score = {
		days = 0

		### Elector voting himself ###
		elector_self_feudal_vote = yes

		### Candidate ###

		## Heir
		elector_heir_vote = yes

		## All candidates

		# Sexism
		elector_candidate_gender_vote = yes

		# Ageism
		elector_candidate_age_vote = yes
		elector_candidate_age_imperial_elective_vote = yes

		# Culturism
		elector_candidate_culture_vote = yes

		# Faithism
		elector_candidate_religion_vote = yes

		# Barbarism
		elector_candidate_barbarism_vote = yes

		# Nepotism
		elector_candidate_nepotism_vote = yes

		# Prestige
		elector_candidate_prestige_vote = yes

		# Piety
		elector_candidate_piety_vote = yes

		# Education and lifestyle
		elector_candidate_education_lifestyle_vote = yes

		# Claims
		elector_candidate_claims_vote = yes

		# Traits
		elector_candidate_traits_vote = yes
		elector_candidate_traits_disfigured_bias_strong_vote = yes
		elector_candidate_traits_excommunication_vote = yes
		elector_candidate_traits_feudal_vote = yes
		elector_candidate_traits_pagan_branch_vote = yes

		# Ruler traits
		elector_ruler_traits_vote = yes

		# Candidate opinion
		elector_candidate_opinion_vote = yes

		# Ruler opinion
		elector_ruler_opinion_vote = yes

		### Roman attributes
		# Roman Generals
		elector_candidate_roman_attributes_martial_vote = yes

		# Roman Orators
		#elector_candidate_roman_attributes_diplomacy_vote = yes

		# Sneaky Byzantines
		#elector_candidate_roman_attributes_intrigue_vote = yes
	}
}

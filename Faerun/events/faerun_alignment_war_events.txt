namespace = ALWAR

#first event: checks for a suitable target ruler. If cooldowns are up and a target is found, there's a chance next event fires.
character_event = {
	id = ALWAR.1
	hide_window = yes
	is_triggered_only = yes

	ai = no

	trigger = {
		is_multiplayer_host_character = yes
		OR = {
			NOT = { has_global_flag = recent_align_war }
			had_global_flag = {
				flag = recent_align_war
				years >= 50
			}
		}
		total_years_played >= 10 #no invasions right away
	}

	immediate = {
		random_independent_ruler = {
			limit = {
				higher_real_tier_than = COUNT
				NOT = { culture = monster }
				realm_size >= 50
				num_of_count_titles_in_realm >= 20
			}
			random = {
				chance = 10
				save_event_target_as = target_ruler
				primary_title = {
					save_event_target_as = target_title
				}
				random_realm_province = {
					preferred_limit = {
						is_capital = no
						is_island = no
					}
					preferred_limit = {
						is_island = no
					}
					preferred_limit = {
						is_capital = no
					}
					save_event_target_as = invasion_province
				}
				character_event = { id = ALWAR.2 }

				mult_modifier = {
					factor = 0.5
					real_tier = DUKE
				}
				mult_modifier = {
					factor = 1.25
					real_tier = EMPEROR
				}
				mult_modifier = {
					factor = 2
					realm_size >= 150
					num_of_count_titles_in_realm >= 60
				}
				mult_modifier = {
					factor = 2
					realm_size >= 250
					num_of_count_titles_in_realm >= 100
				}
			}
		}
	}
}
#second event: an invader character is created.
character_event = {
	id = ALWAR.2
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		random_list = {
			#Angelic or Mortal Crusader
			20 = {
				modifier = {
					event_target:target_ruler = { is_evil_religion = no }
					NOT = { has_character_modifier = true_villain_modifier }
					factor = 0
				}
				create_character = {
					random_traits = yes
					female = random
					attributes = {
						diplomacy = 8
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = brilliant_strategist
					trait = holy_warrior
					trait = zealous
					trait = brave
					character_flag = ignore_conversion_immunity
				}
				new_character = {
					wealth = 1000
					save_event_target_as = invader_char
					remove_trait = weak
					remove_trait = delicate
					remove_trait = soft
					remove_trait = imbecile
					remove_trait = idiot
					remove_trait = slow
					remove_trait = clubfooted
					remove_trait = craven
					remove_trait = cruel
					remove_trait = cynical
					random_list = {
						10 = { #angel
							remove_all_race_traits = yes
							add_trait = creature_angel
							add_trait = master_fighter
							add_trait = master_cleric
							random_list = { #religion, culture, gfx
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												OR = {
													region = kara_tur_region
													region = zakhara_region
												}
											}
										}
									}
									religion = triadic
									culture = angel
									set_graphical_culture = angel
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												OR = {
													region = kara_tur_region
													region = zakhara_region
												}
											}
										}
									}
									religion = solar
									culture = angel
									set_graphical_culture = angel
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												OR = {
													region = kara_tur_region
													region = zakhara_region
												}
											}
										}
									}
									religion = joyful
									culture = angel
									set_graphical_culture = angel
									set_character_flag = chaotic_invader
								}
								5 = {
									religion = halfling_pantheon
									culture = angel
									set_graphical_culture = angel
								}
								5 = {
									religion = dwarven_pantheon
									culture = angel
									set_graphical_culture = angel
								}
								5 = {
									religion = dwarven_pantheon
									culture = archon
									set_graphical_culture = angel
								}
								5 = {
									religion = sylvan
									culture = guardinal
									spawn_random_guardinal = yes
								}
								5 = {
									religion = gnome_pantheon
									culture = angel
									set_graphical_culture = angel
								}
								5 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												OR = {
													region = kara_tur_region
													region = zakhara_region
												}
											}
										}
									}
									religion = ubtao_worship
									culture = angel
									set_graphical_culture = planetar
								}
								5 = {
									religion = elven_pantheon
									culture = celestial_eladrin
									set_graphical_culture = celestial_eladrin
									set_character_flag = chaotic_invader
								}
								5 = {
									religion = halfling_pantheon
									culture = archon
									set_graphical_culture = archon # use default archon gfx here, because the Hound Archons are Yondalla's Very Good Boys Indeed
								}
								5 = {
									religion = sylvan
									culture = celestial_eladrin
									set_graphical_culture = celestial_eladrin
									set_character_flag = chaotic_invader
								}
								5 = {
									religion = eilistraee
									culture = celestial_eladrin
									set_graphical_culture = celestial_eladrin
									set_character_flag = chaotic_invader
								}
								5 = {
									religion = bahamut
									culture = archon
									set_graphical_culture = angel
								}
								5 = {
									religion = adama
									culture = moonmaiden
									set_graphical_culture = moonmaiden
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOT = {
													region = zakhara_region
												}
											}
										}
									}
									religion = ten_thousand_gods
									culture = asura
									set_graphical_culture = asura
									set_character_flag = chaotic_invader
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOT = {
													region = zakhara_region
												}
											}
										}
									}
									religion = qisma
									culture = angel
									set_graphical_culture = angel
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOT = {
													region = zakhara_region
												}
											}
										}
									}
									religion = pantheist_league
									culture = archon
									set_graphical_culture = angel
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOR = {
													region = zakhara_region
													region = semphar_region
													region = murghom_region
													region = raurin_region
												}
											}
										}
									}
									religion = muhjari
									culture = asura
									set_graphical_culture = asura
									set_character_flag = chaotic_invader
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOT = {
													region = zakhara_region
												}
											}
										}
									}
									religion = kahin
									culture = asura
									set_graphical_culture = asura
									set_character_flag = chaotic_invader
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOT = {
													region = kara_tur_region
												}
											}
										}
									}
									religion = padhran
									culture = moonmaiden
									set_graphical_culture = moonmaiden
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOT = {
													region = kara_tur_region
												}
											}
										}
									}
									religion = the_path
									culture = moonmaiden
									set_graphical_culture = moonmaiden
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOT = {
													region = kara_tur_region
												}
											}
										}
									}
									religion = chung_tao
									culture = moonmaiden
									set_graphical_culture = moonmaiden
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOT = {
													region = kara_tur_region
												}
											}
										}
									}
									religion = nine_travelers
									culture = moonmaiden
									set_graphical_culture = moonmaiden
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOT = {
													region = kara_tur_region
												}
											}
										}
									}
									religion = animist
									culture = asura
									set_graphical_culture = asura
									set_character_flag = chaotic_invader
								}
							}
						}
						10 = { #mortal
							random_list = { #religion
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												OR = {
													region = kara_tur_region
													region = zakhara_region
												}
											}
										}
									}
									religion = triadic
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												OR = {
													region = kara_tur_region
													region = zakhara_region
												}
											}
										}
									}
									religion = solar
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												OR = {
													region = kara_tur_region
													region = zakhara_region
												}
											}
										}
									}
									religion = joyful
								}
								5 = {
									religion = halfling_pantheon
								}
								5 = {
									religion = dwarven_pantheon
								}
								5 = {
									religion = gnome_pantheon
								}
								5 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												OR = {
													region = kara_tur_region
													region = zakhara_region
												}
											}
										}
									}
									religion = ubtao_worship
								}
								5 = {
									religion = elven_pantheon
								}
								5 = {
									religion = sylvan
								}
								5 = {
									religion = eilistraee
								}
								5 = {
									religion = bahamut
								}
								5 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOT = {
													region = southeast_faerun_region
												}
											}
										}
									}
									religion = adama
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOT = {
													region = zakhara_region
												}
											}
										}
									}
									religion = ten_thousand_gods
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOT = {
													region = zakhara_region
												}
											}
										}
									}
									religion = qisma
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOT = {
													region = zakhara_region
												}
											}
										}
									}
									religion = pantheist_league
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOT = {
													region = southeast_faerun_region
												}
											}
										}
									}
									religion = muhjari
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOT = {
													region = zakhara_region
												}
											}
										}
									}
									religion = kahin
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOR = {
													region = kara_tur_region
													region = hordelands_region
												}
											}
										}
									}
									religion = padhran
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOR = {
													region = kara_tur_region
													region = hordelands_region
													region = cold_lands_region
												}
											}
										}
									}
									religion = tuigan_shamanism
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOT = {
													region = kara_tur_region
												}
											}
										}
									}
									religion = animist
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOT = {
													region = kara_tur_region
												}
											}
										}
									}
									religion = the_path
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOT = {
													region = kara_tur_region
												}
											}
										}
									}
									religion = chung_tao
								}
								10 = {
									modifier = {
										factor = 0
										event_target:target_ruler = {
											capital_scope = {
												NOT = {
													region = kara_tur_region
												}
											}
										}
									}
									religion = nine_travelers
								}
							}
							trigger_switch = { #culture, gfx
								on_trigger = religion
								halfling_pantheon = {
									remove_all_race_traits = yes
									add_trait = creature_halfling
									random_list = {
										10 = {
											culture = lightfoot
											set_graphical_culture = lightfoot
										}
										15 = {
											culture = strongheart
											set_graphical_culture = strongheart
										}
										5 = {
											culture = ghostwise
											set_graphical_culture = ghostwise
										}
									}
								}
								dwarven_pantheon = {
									remove_all_race_traits = yes
									add_trait = creature_dwarf
									random_list = {
										10 = {
											culture = gold_dwarf
											set_graphical_culture = gold_dwarf
										}
										10 = {
											culture = shield_dwarf
											set_graphical_culture = shield_dwarf
										}
										5 = {
											culture = wild_dwarf
											set_graphical_culture = wild_dwarf
										}
									}
								}
								gnome_pantheon = {
									remove_all_race_traits = yes
									add_trait = creature_gnome
									random_list = {
										10 = {
											culture = gnome
											set_graphical_culture = gnome
										}
										10 = {
											culture = forest_gnome
											set_graphical_culture = forest_gnome
										}
										10 = {
											culture = lantanna
											set_graphical_culture = lantanna
										}
										5 = {
											culture = svirfneblin
											set_graphical_culture = svirfneblin
										}
									}
								}
								elven_pantheon = {
									remove_all_race_traits = yes
									add_trait = creature_elf
									random_list = {
										10 = {
											culture = moon_elf
											set_graphical_culture = moon_elf
										}
										10 = {
											culture = sun_elf
											set_graphical_culture = sun_elf
										}
										5 = {
											culture = snow_elf
											set_graphical_culture = snow_elf
										}
										5 = {
											culture = avariel
											set_graphical_culture = avariel
										}
									}
								}
								sylvan = {
									remove_all_race_traits = yes
									add_trait = creature_elf
									random_list = {
										10 = {
											culture = green_elf
											set_graphical_culture = green_elf
										}
										10 = {
											culture = wood_elf
											set_graphical_culture = wood_elf
										}
										5 = {
											culture = lythari
											set_graphical_culture = lythari
										}
									}
								}
								eilistraee = {
									remove_all_race_traits = yes
									add_trait = creature_drow
									random_list = {
										10 = {
											culture = drow
											set_graphical_culture = drow
										}
										10 = {
											culture = lorendrow
											set_graphical_culture = lorendrow
										}
										10 = {
											culture = aevendrow
											set_graphical_culture = aevendrow
										}
									}
								}
								bahamut = {
									remove_all_race_traits = yes
									add_trait = creature_dragonborn
									random_list = {
										10 = {
											culture = dragonborn
											set_graphical_culture = dragonborn
										}
										10 = {
											culture = vayemniri
											set_graphical_culture = vayemniri
										}
										10 = {
											culture = thymari
											set_graphical_culture = thymari
										}
										2 = {
											culture = impilturan
											set_graphical_culture = impilturan
											set_character_flag = secret_dragon
											set_character_flag = is_silver_dragon
										}
										2 = {
											culture = highcoaster
											set_graphical_culture = highcoaster
											set_character_flag = secret_dragon
											set_character_flag = is_gold_dragon
										}
									}
								}
								triadic = {
									random_list = {
										10 = {
											culture = highcoaster
											set_graphical_culture = highcoaster
											join_society = knight_order_samular
										}
										10 = {
											culture = tethyrian
											set_graphical_culture = tethyrian
											join_society = knight_order_silver_chalice
										}
										10 = {
											culture = amnian
											set_graphical_culture = amnian
											join_society = knight_order_radiant_heart
										}
										10 = {
											culture = cormyrean
											set_graphical_culture = cormyrean
											join_society = knight_order_purple_dragons
										}
										10 = {
											culture = draeven
											set_graphical_culture = draeven
											join_society = knight_order_radiant_heart
										}
										10 = {
											culture = damaran
											set_graphical_culture = damaran
											join_society = knight_order_golden_cup
										}
										10 = {
											culture = impilturan
											set_graphical_culture = impilturan
											join_society = knight_order_imphras
										}
									}
								}
								solar = {
									random_list = {
										10 = {
											culture = cormyrean
											set_graphical_culture = cormyrean
											join_society = knight_order_purple_dragons
										}
										10 = {
											culture = dalesman
											set_graphical_culture = dalesman
										}
										10 = {
											culture = highcoaster
											set_graphical_culture = highcoaster
										}
										10 = {
											culture = illuskan
											set_graphical_culture = illuskan
										}
										10 = {
											culture = draeven
											set_graphical_culture = draeven
										}
									}
								}
								joyful = {
									random_list = {
										10 = {
											culture = illuskan
											set_graphical_culture = illuskan
										}
										10 = {
											culture = draeven
											set_graphical_culture = draeven
										}
										10 = {
											culture = amnian
											set_graphical_culture = amnian
										}
										10 = {
											culture = highcoaster
											set_graphical_culture = highcoaster
										}
									}
								}
								ubtao_worship = {
									random_list = {
										30 = {
											culture = chultan
											set_graphical_culture = chultan
										}
										10 = {
											culture = thinguth
											set_graphical_culture = thinguth
										}
										5 = {
											culture = katashakan
											set_graphical_culture = katashakan
										}
									}
								}
								adama = {
									random_list = {
										10 = {
											culture = durpari
											set_graphical_culture = durpari
										}
										5 = {
											culture = mari
											set_graphical_culture = mari
										}
										10 = {
											culture = ulgarian
											set_graphical_culture = ulgarian
										}
									}
								}
								ten_thousand_gods = {
									random_list = {
										10 = {
											culture = hadhar
											set_graphical_culture = hadhar
										}
										10 = {
											culture = badia
											set_graphical_culture = badia
										}
										10 = {
											culture = qarsan
											set_graphical_culture = qarsan
										}
										5 = {
											culture = astok
											set_graphical_culture = astok
										}
									}
								}
								qisma = {
									random_list = {
										20 = {
											culture = hadhar
											set_graphical_culture = hadhar
										}
										15 = {
											culture = badia
											set_graphical_culture = badia
										}
										10 = {
											culture = qarsan
											set_graphical_culture = qarsan
										}
										5 = {
											culture = astok
											set_graphical_culture = astok
										}
										5 = {
											culture = noga
											set_graphical_culture = noga
										}
										5 = {
											culture = affa
											set_graphical_culture = affa
										}
										5 = {
											culture = fabada
											set_graphical_culture = fabada
										}
									}
								}
								pantheist_league = {
									random_list = {
										50 = {
											culture = hadhar
											set_graphical_culture = hadhar
										}
										10 = {
											culture = badia
											set_graphical_culture = badia
										}
										5 = {
											culture = noga
											set_graphical_culture = noga
										}
									}
								}
								muhjari = {
									random_list = {
										10 = {
											culture = semphari
											set_graphical_culture = semphari
										}
										10 = {
											culture = raurindi
											set_graphical_culture = raurindi
										}
										10 = {
											culture = murghomi
											set_graphical_culture = murghomi
										}
									}
								}
								kahin = {
									random_list = {
										10 = {
											culture = badia
											set_graphical_culture = badia
										}
										10 = {
											culture = astok
											set_graphical_culture = astok
										}
										10 = {
											culture = fabada
											set_graphical_culture = fabada
										}
									}
								}
								padhran = {
									random_list = {
										10 = {
											culture = khatin
											set_graphical_culture = khatin
										}
										10 = {
											culture = mai
											set_graphical_culture = mai
										}
										10 = {
											culture = ching
											set_graphical_culture = ching
										}
										10 = {
											culture = tabotan
											set_graphical_culture = tabotan
										}
										10 = {
											culture = oigur
											set_graphical_culture = oigur
										}
									}
								}
								the_path = {
									random_list = {
										10 = {
											culture = chukien
											set_graphical_culture = chukien
										}
										10 = {
											culture = mai
											set_graphical_culture = mai
										}
										10 = {
											culture = ching
											set_graphical_culture = ching
										}
										10 = {
											culture = sheng
											set_graphical_culture = sheng
										}
										10 = {
											culture = waka
											set_graphical_culture = waka
										}
										10 = {
											culture = ti
											set_graphical_culture = ti
										}
										10 = {
											culture = hungtse
											set_graphical_culture = hungtse
										}
										10 = {
											culture = wang
											set_graphical_culture = wang
										}
										10 = {
											culture = hai
											set_graphical_culture = hai
										}
										10 = {
											culture = kao
											set_graphical_culture = kao
										}
										10 = {
											culture = chu
											set_graphical_culture = chu
										}
										10 = {
											culture = wuhaltai
											set_graphical_culture = wuhaltai
										}
										10 = {
											culture = kozakuran
											set_graphical_culture = kozakuran
										}
										10 = {
											culture = wanese
											set_graphical_culture = wanese
										}
										10 = {
											culture = koryoan
											set_graphical_culture = koryoan
										}
										10 = {
											culture = tabotan
											set_graphical_culture = tabotan
										}
									}
								}
								chung_tao = {
									random_list = {
										10 = {
											culture = chukien
											set_graphical_culture = chukien
										}
										10 = {
											culture = mai
											set_graphical_culture = mai
										}
										10 = {
											culture = ching
											set_graphical_culture = ching
										}
										10 = {
											culture = sheng
											set_graphical_culture = sheng
										}
										10 = {
											culture = waka
											set_graphical_culture = waka
										}
										10 = {
											culture = ti
											set_graphical_culture = ti
										}
										10 = {
											culture = hungtse
											set_graphical_culture = hungtse
										}
										10 = {
											culture = wang
											set_graphical_culture = wang
										}
										10 = {
											culture = hai
											set_graphical_culture = hai
										}
										10 = {
											culture = kao
											set_graphical_culture = kao
										}
										10 = {
											culture = chu
											set_graphical_culture = chu
										}
										10 = {
											culture = kaghun
											set_graphical_culture = kaghun
										}
										10 = {
											culture = taghur
											set_graphical_culture = taghur
										}
									}
								}
								nine_travelers = {
									random_list = {
										10 = {
											culture = chukien
											set_graphical_culture = chukien
										}
										10 = {
											culture = mai
											set_graphical_culture = mai
										}
										10 = {
											culture = ching
											set_graphical_culture = ching
										}
										10 = {
											culture = sheng
											set_graphical_culture = sheng
										}
										10 = {
											culture = waka
											set_graphical_culture = waka
										}
										10 = {
											culture = ti
											set_graphical_culture = ti
										}
										10 = {
											culture = hungtse
											set_graphical_culture = hungtse
										}
										10 = {
											culture = wang
											set_graphical_culture = wang
										}
										10 = {
											culture = hai
											set_graphical_culture = hai
										}
										10 = {
											culture = kao
											set_graphical_culture = kao
										}
										10 = {
											culture = chu
											set_graphical_culture = chu
										}
										10 = {
											culture = wuhaltai
											set_graphical_culture = wuhaltai
										}
										10 = {
											culture = kozakuran
											set_graphical_culture = kozakuran
										}
										10 = {
											culture = wanese
											set_graphical_culture = wanese
										}
										10 = {
											culture = koryoan
											set_graphical_culture = koryoan
										}
										10 = {
											culture = mahasiswa
											set_graphical_culture = mahasiswa
										}
										10 = {
											culture = guychiang
											set_graphical_culture = guychiang
										}
									}
								}
								tuigan_shamanism = {
									random_list = {
										10 = {
											culture = tuigan
											set_graphical_culture = tuigan
										}
										10 = {
											culture = oigur
											set_graphical_culture = oigur
										}
										10 = {
											culture = quirish
											set_graphical_culture = quirish
										}
										10 = {
											culture = fankiang
											set_graphical_culture = fankiang
										}
										10 = {
											culture = kaghun
											set_graphical_culture = kaghun
										}
										10 = {
											culture = igidujin
											set_graphical_culture = igidujin
										}
										10 = {
											culture = taghur
											set_graphical_culture = taghur
										}
										10 = {
											culture = tsu_tsu
											set_graphical_culture = tsu_tsu
										}
										10 = {
											culture = guychiang
											set_graphical_culture = guychiang
										}
										10 = {
											culture = dalat
											set_graphical_culture = dalat
										}
										10 = {
											culture = khassidi
											set_graphical_culture = khassidi
										}
										10 = {
											culture = commani
											set_graphical_culture = commani
										}
										10 = {
											culture = naican
											set_graphical_culture = naican
										}
										10 = {
											culture = zamogedi
											set_graphical_culture = zamogedi
										}
										10 = {
											culture = mai
											set_graphical_culture = mai
										}
										10 = {
											culture = raumviran
											set_graphical_culture = raumviran
										}
									}
								}
								animist = {
									random_list = {
										10 = {
											remove_all_race_traits = yes
											add_trait = creature_dwarf
											culture = korpokkur
											set_graphical_culture = korpokkur
										}
										10 = {
											culture = wuhaltai
											set_graphical_culture = wuhaltai
										}
										10 = {
											culture = issacortae
											set_graphical_culture = issacortae
										}
										10 = {
											culture = pazruki
											set_graphical_culture = pazruki
										}
									}
								}
							}
							if = { #avoid alien crusaders
								limit = {
									is_alien_culture = yes
								}
								remove_all_race_traits = yes
								add_trait = creature_human
								random_list = {
									10 = {
										culture = highcoaster
										set_graphical_culture = highcoaster
										join_society = knight_order_samular
									}
									10 = {
										culture = tethyrian
										set_graphical_culture = tethyrian
										join_society = knight_order_silver_chalice
									}
									10 = {
										culture = amnian
										set_graphical_culture = amnian
										join_society = knight_order_radiant_heart
									}
									10 = {
										culture = cormyrean
										set_graphical_culture = cormyrean
										join_society = knight_order_purple_dragons
									}
									10 = {
										culture = draeven
										set_graphical_culture = draeven
										join_society = knight_order_radiant_heart
									}
									10 = {
										culture = damaran
										set_graphical_culture = damaran
										join_society = knight_order_golden_cup
									}
									10 = {
										culture = impilturan
										set_graphical_culture = impilturan
										join_society = knight_order_imphras
									}
									5 = {
										culture = ffolk
										set_graphical_culture = ffolk
										set_character_flag = secret_dragon
										set_character_flag = is_song_dragon
									}
								}
							}
							if = { # secret dragons
								limit = {
									NOR = {
										has_character_flag = secret_dragon
										trait = creature_dragonborn
									}
								}
								random = {
									chance = 1
									set_character_flag = secret_dragon
									random_list = {
										5 = {
											# do nothing = steel dragon
										}
										3 = {
											set_character_flag = is_gold_dragon
										}
										3 = {
											set_character_flag = is_silver_dragon
										}
										1 = {
											set_character_flag = is_brass_dragon
										}
										1 = {
											set_character_flag = is_bronze_dragon
										}
										1 = {
											set_character_flag = is_copper_dragon
										}
										1 = {
											set_character_flag = is_song_dragon
											mult_modifier = {
												factor = 5
												OR = {
													culture = ffolk
													culture = dalesman
												}
											}
										}
									}
								}
							}
							random_list = { #class
								20 = { add_trait = expert_paladin }
								15 = { add_trait = expert_fighter }
								10 = { add_trait = expert_bard }
								10 = { add_trait = expert_cleric }
								10 = { add_trait = expert_ranger }
								10 = { add_trait = expert_monk }
								10 = { add_trait = expert_barbarian }
								5 = { add_trait = expert_rogue }
								5 = { add_trait = expert_sorcerer add_trait = origin_divine_soul }
								5 = { add_trait = expert_wizard }
								5 = { add_trait = expert_warlock add_trait = warlock_celestial }
								5 = { add_trait = expert_psion add_trait = psi_potential }
								5 = { add_trait = expert_druid }
							}
						}
					}
					character_event = { id = frxp.1 }
					character_event = { id = ALWAR.3 }
				}
			}
			#Scro
			1 = {
				modifier = {
					factor = 0
					NOT = {
						event_target:target_ruler = {
							OR = {
								culture_group = high_elf_group
								culture_group = sylvan_elf_group
								culture_group = dark_elf_group
								culture_group = eladrin_group
							}
						}
					}
				}
				create_character = { #Scro Commander
					culture = scro
					religion = orc_pantheon
					random_traits = yes
					female = random
					attributes = {
						diplomacy = 8
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = brilliant_strategist
					trait = diligent
					trait = brave
				}
				new_character = {
					wealth = 1000
					save_event_target_as = invader_char
					remove_trait = weak
					remove_trait = delicate
					remove_trait = soft
					remove_trait = imbecile
					remove_trait = idiot
					remove_trait = slow
					remove_trait = clubfooted
					remove_trait = craven
					remove_trait = cynical
					random_list = {
						1 = {
							add_trait = logistics_expert
						}
						1 = {
							add_trait = master_of_flame
						}
						1 = {
							add_trait = sapper
						}
						1 = {
							add_trait = levy_coordinator
						}
					}
					random_list = { #class
						5 = { add_trait = expert_paladin }
						25 = { add_trait = expert_fighter }
						5 = { add_trait = expert_bard }
						10 = { add_trait = expert_cleric }
						10 = { add_trait = expert_ranger }
						10 = { add_trait = expert_monk }
						5 = { add_trait = expert_rogue }
						5 = { add_trait = expert_sorcerer add_trait = origin_storm }
						5 = { add_trait = expert_wizard }
						5 = { add_trait = expert_warlock add_trait = warlock_elemental }
						5 = { add_trait = expert_psion add_trait = psi_potential }
					}
					random_list = { # nickname
						20 = {}
						5 = { give_nickname = nick_the_sword_from_space }
						5 = { give_nickname = nick_the_falling_star }
						5 = { give_nickname = nick_the_avenger }
					}
					character_event = { id = frxp.1 }
					character_event = { id = ALWAR.3 }
					break = yes
				}
			}
			#Archdevils
			10 = {
				modifier = {
					event_target:target_ruler = { is_evil_religion = yes }
					NOT = { event_target:target_ruler = { religion = abyssal_cult } }
					NOT = { event_target:target_ruler = { culture = tanarri } }
					factor = 0
				}
				random_list = {
					10 = { # Bel
						modifier = { has_global_flag = bel_spawned factor = 0 }
						create_character = {
							random_traits = no
							name = "Bel"
							dynasty = 12864 # of Avernus
							culture = baatezu
							religion = infernal
							# DNA was here
							attributes = {
								learning = 10
								intrigue = 12
								martial = 14
								diplomacy = 12
								stewardship = 9
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = strong
							trait = robust
							trait = genius
							trait = patient
							trait = paranoid
							trait = ambitious
							trait = cruel
							trait = legendary_fighter
							trait = brilliant_strategist
							trait = strategist
							trait = inspiring_leader
							trait = unyielding_leader
							trait = bio_bel
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							create_bloodline = {
								type = archdevil_bloodline
							}
							set_global_flag = bel_spawned
							set_graphical_culture = baatezu
							give_nickname = nick_warlord_of_avernus
						}
					}
					10 = { # Zariel
						modifier = { has_global_flag = zariel_spawned factor = 0 }
						modifier = { NOT = { has_global_flag = zariel_fallen } factor = 0 }
						create_character = {
							random_traits = no
							female = yes
							name = "Zariel"
							dynasty = 5634 # Avernal
							culture = baatezu
							religion = infernal
							# DNA was here
							attributes = {
								learning = 7
								intrigue = 10
								martial = 16
								diplomacy = 12
								stewardship = 9
							}
							trait = creature_angel
							trait = greater_fiend
							trait = archfiend
							trait = wroth
							trait = brave
							trait = zealous
							trait = cruel
							trait = legendary_fighter
							trait = brilliant_strategist
							trait = unyielding_leader
							trait = bio_zariel
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							create_bloodline = {
								type = fallen_angel_bloodline
							}
							set_global_flag = zariel_spawned
							set_graphical_culture = angel
							give_nickname = nick_archduchess_of_avernus
							hidden_tooltip = {
								c_420 = { # Mizora
									move_character = PREV
								}
							}
						}
					}					
					10 = { #Dispater
						modifier = { has_global_flag = dispater_spawned factor = 0 }
						create_character = {
							random_traits = no
							name = "Dispater"
							dynasty = 12854 # of Dis
							culture = baatezu
							religion = infernal
							dna = "cgmmdqgdddf"
							attributes = {
								learning = 14
								intrigue = 14
								martial = 10
								diplomacy = 11
								stewardship = 11
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = strong
							trait = genius
							trait = patient
							trait = paranoid
							trait = ambitious
							trait = diligent
							trait = cruel
							trait = expert_paladin
							trait = master_sorcerer
							trait = expert_fighter
							trait = brilliant_strategist
							trait = architect
							trait = defensive_leader
							trait = unyielding_leader
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							create_bloodline = {
								type = archdevil_bloodline
							}
							set_global_flag = dispater_spawned
							set_graphical_culture = cambion
							give_nickname = nick_the_iron_duke
						}
					}
					10 = { #Mammon
						modifier = { has_global_flag = mammon_spawned factor = 0 }
						create_character = {
							random_traits = no
							name = "Mammon"
							dynasty = 12856 # of Minauros
							culture = baatezu
							religion = infernal
							dna = "djamahhecbq"
							attributes = {
								learning = 14
								intrigue = 18
								martial = 11
								diplomacy = 7
								stewardship = 10
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = strong
							trait = genius
							trait = greedy
							trait = lustful
							trait = ambitious
							trait = deceitful
							trait = cruel
							trait = expert_fighter
							trait = master_sorcerer
							trait = expert_rogue
							trait = schemer
							trait = midas_touched
							trait = narrow_flank_leader
							trait = trickster
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							create_bloodline = {
								type = archdevil_bloodline
							}
							set_global_flag = mammon_spawned
							set_graphical_culture = yugoloth
							give_nickname = nick_the_lord_of_avarice
						}
					}
					5 = { #Belial
						modifier = { has_global_flag = belial_spawned factor = 0 }
						create_character = {
							random_traits = no
							name = "Belial"
							dynasty = 12857 # of Phlegethos
							culture = baatezu
							religion = infernal
							dna = "dihgchbbkj"
							attributes = {
								learning = 18
								intrigue = 14
								martial = 8
								diplomacy = 12
								stewardship = 8
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = tough
							trait = genius
							trait = fair
							trait = lustful
							trait = deceitful
							trait = ambitious
							trait = erudite
							trait = cruel
							trait = expert_fighter
							trait = master_sorcerer
							trait = journeyman_shadow
							trait = elusive_shadow
							trait = seducer
							trait = trickster
							trait = experimenter
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							create_bloodline = {
								type = archdevil_bloodline
							}
							set_graphical_culture = cambion
							set_global_flag = belial_spawned
							give_nickname = nick_the_lord_of_pain
						}
					}
					5 = { #Fierna
						modifier = { has_global_flag = fierna_spawned factor = 0 }
						create_character = {
							random_traits = no
							female = yes
							name = "Fierna"
							dynasty = 12857 # of Phlegethos
							culture = baatezu
							religion = infernal
							dna = "daabgikaaar"
							attributes = {
								learning = 14
								intrigue = 15
								martial = 8
								diplomacy = 15
								stewardship = 8
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = tough
							trait = brilliant
							trait = beautiful
							trait = lustful
							trait = deceitful
							trait = ambitious
							trait = slothful
							trait = cruel
							trait = journeyman_fighter
							trait = master_sorcerer
							trait = expert_shadow
							trait = elusive_shadow
							trait = seductress
							trait = trickster
							trait = experimenter
							age = 1000
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							create_bloodline = {
								type = archdevil_bloodline
							}
							set_graphical_culture = succubus
							set_global_flag = fierna_spawned
							give_nickname = nick_the_fiery_lady
						}
					}
					5 = { # Glasya (lower chance since she rarely leaves Baator)
						modifier = { has_global_flag = glasya_spawned factor = 0 }
						create_character = {
							random_traits = no
							female = yes
							name = "Glasya"
							dynasty = 12865 # of Malbolge
							culture = baatezu
							religion = infernal
							# DNA was here
							attributes = {
								learning = 16
								intrigue = 15
								martial = 10
								diplomacy = 14
								stewardship = 8
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = tough
							trait = brilliant
							trait = beautiful
							trait = cynical
							trait = deceitful
							trait = proud
							trait = arbitrary
							trait = ambitious
							trait = cruel
							trait = renowned_wizard
							trait = master_shadow
							trait = elusive_shadow
							trait = seductress
							trait = trickster
							trait = experimenter
							age = 1000
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							create_bloodline = {
								type = archdevil_bloodline
							}
							set_global_flag = glasya_spawned
							set_graphical_culture = succubus
							give_nickname = nick_the_dark_prodigy
						}
					}
					10 = { #Baalzebul
						modifier = { has_global_flag = baalzebul_spawned factor = 0 }
						create_character = {
							random_traits = no
							name = "Baalzebul"
							dynasty = 12858 # of Maladomini
							culture = baatezu
							religion = infernal
							dna = "dchdlzmcabj"
							attributes = {
								learning = 14
								intrigue = 18
								martial = 12
								diplomacy = 10
								stewardship = 6
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = strong
							trait = genius
							trait = unsightly
							trait = envious
							trait = brave
							trait = ambitious
							trait = deceitful
							trait = cruel
							trait = renowned_fighter
							trait = master_sorcerer
							trait = expert_shadow
							trait = schemer
							trait = elusive_shadow
							trait = experimenter
							trait = unyielding_leader
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							create_bloodline = {
								type = fallen_angel_bloodline
							}
							set_global_flag = baalzebul_spawned
							set_graphical_culture = nalfeshnee
							give_nickname = nick_lord_of_the_flies
						}
					}
					10 = { #Geryon
						modifier = { has_global_flag = geryon_spawned factor = 0 }
						create_character = {
							random_traits = no
							name = "Geryon"
							dynasty = 12862 # of Stygia
							culture = baatezu
							religion = infernal
							dna = "bfahgecacaj"
							attributes = {
								learning = 14
								intrigue = 8
								martial = 18
								diplomacy = 10
								stewardship = 10
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = strong
							trait = brilliant
							trait = fair
							trait = brave
							trait = envious
							trait = humble
							trait = wroth
							trait = cruel
							trait = master_barbarian
							trait = master_sorcerer
							trait = brilliant_strategist
							trait = hunter
							trait = holy_warrior
							trait = experimenter
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							create_bloodline = {
								type = archdevil_bloodline
							}
							set_global_flag = geryon_spawned
							set_graphical_culture = lamia
							give_nickname = nick_the_trifold_duke
						}
					}
					10 = { #Mephistopheles
						modifier = { has_global_flag = mephistopheles_spawned factor = 0 }
						create_character = {
							random_traits = no
							name = "Mephistopheles"
							dynasty = 12851 # of Cania
							culture = baatezu
							religion = infernal
							dna = "bamgdgmddar"
							attributes = {
								learning = 16
								intrigue = 16
								martial = 11
								diplomacy = 11
								stewardship = 6
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = strong
							trait = genius
							trait = wroth
							trait = gregarious
							trait = ambitious
							trait = deceitful
							trait = cruel
							trait = renowned_fighter
							trait = master_sorcerer
							trait = expert_wizard
							trait = wiz_evocation
							trait = elusive_shadow
							trait = impaler
							trait = aggressive_leader
							trait = winter_soldier
							trait = bio_mephistopheles
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
							flag = is_mephisto
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							create_bloodline = {
								type = mephisto_bloodline
							}
							set_global_flag = mephistopheles_spawned
							set_graphical_culture = baatezu
							give_nickname = nick_duke_of_brimstone
							hidden_tooltip = {
								c_419 = { # Raphael
									set_father = PREV
								}
							}
						}
					}
				}
				change_variable = {
					which = global_counter_baator
					value = 1
				}
			}
			#Demon Lords
			10 = {
				modifier = {
					event_target:target_ruler = { is_evil_religion = yes }
					NOT = { event_target:target_ruler = { religion = infernal } }
					NOT = { event_target:target_ruler = { culture = baatezu } }
					factor = 0
				}
				random_list = {
					10 = { #Demogorgon
						modifier = { has_global_flag = demogorgon_spawned factor = 0 }
						create_character = {
							random_traits = no
							name = "Demogorgon"
							dynasty = 12855 # of the Gaping Maw
							culture = tanarri
							religion = abyssal_cult
							dna = "dlidhclcacz"
							attributes = {
								learning = 16
								intrigue = 14
								martial = 16
								diplomacy = 6
								stewardship = 8
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = strong
							trait = genius
							trait = lunatic
							trait = envious
							trait = paranoid
							trait = arbitrary
							trait = deceitful
							trait = cruel
							trait = renowned_barbarian
							trait = master_rogue #can use all magic items like a rogue
							trait = master_sorcerer
							trait = elusive_shadow
							trait = impaler
							trait = trickster
							trait = aggressive_leader
							trait = patron_demogorgon
							trait = bio_demogorgon
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							set_character_flag = chaotic_invader
							create_bloodline = {
								type = demon_lord_bloodline
							}
							set_global_flag = demogorgon_spawned
							set_graphical_culture = nalfeshnee
							give_nickname = nick_the_sibilant_beast
						}
					}
					10 = { #Orcus
						modifier = { has_global_flag = orcus_spawned factor = 0 }
						create_character = {
							random_traits = no
							name = "Orcus"
							dynasty = 12859 # of Thanatos
							culture = tanarri
							religion = abyssal_cult
							dna = "ceflkmicaax"
							attributes = {
								learning = 18
								intrigue = 12
								martial = 16
								diplomacy = 6
								stewardship = 8
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = strong
							trait = genius
							trait = undead
							trait = wroth
							trait = ambitious
							trait = arbitrary
							trait = gluttonous
							trait = cruel
							trait = renowned_barbarian
							trait = master_sorcerer
							trait = expert_wizard
							trait = wiz_necromancy
							trait = brilliant_strategist
							trait = impaler
							trait = experimenter
							trait = aggressive_leader
							trait = patron_orcus
							trait = bio_orcus
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							set_character_flag = chaotic_invader
							create_bloodline = {
								type = demon_lord_bloodline
							}
							set_global_flag = orcus_spawned
							set_graphical_culture = baatezu
							give_nickname = nick_prince_of_the_undead
						}
					}
					10 = { #Graz'zt
						modifier = { has_global_flag = grazzt_spawned factor = 0 }
						modifier = { c_1015 = { is_alive = yes } factor = 0 }
						create_character = {
							random_traits = no
							name = "Graz'zt"
							dynasty = 4958 # Azzagrat
							culture = tanarri
							religion = abyssal_cult
							dna = "blkjcjcdadw"
							attributes = {
								diplomacy = 15
								martial = 8
								stewardship = 8
								intrigue = 15
								learning = 14
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = bisexual
							trait = genius
							trait = tough
							trait = fair
							trait = renowned_fighter
							trait = master_sorcerer
							trait = expert_wizard
							trait = wiz_enchantment
							trait = patient
							trait = ambitious
							trait = lustful
							trait = cruel
							trait = grey_eminence
							trait = seducer
							trait = hedonist
							trait = inspiring_leader
							trait = flanker
							trait = patron_grazzt
							trait = bio_grazzt
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
							flag = is_grazzt
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							set_character_flag = chaotic_invader
							create_bloodline = {
								type = demon_lord_bloodline
							}
							set_global_flag = grazzt_spawned
							set_graphical_culture = dark_elf
							give_nickname = nick_the_dark_prince
						}
					}
					10 = { #Pazuzu
						modifier = { has_global_flag = pazuzu_spawned factor = 0 }
						create_character = {
							random_traits = no
							name = "Pazuzu"
							dynasty = 12860 # of Pazunia
							culture = tanarri
							religion = abyssal_cult
							dna = "aafaaajbbah"
							attributes = {
								learning = 14
								intrigue = 14
								martial = 10
								diplomacy = 14
								stewardship = 8
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = strong
							trait = genius
							trait = greedy
							trait = patient
							trait = gregarious
							trait = deceitful
							trait = cruel
							trait = master_ranger #connected to elemental air and flying beasts
							trait = master_sorcerer
							trait = expert_shadow
							trait = elusive_shadow
							trait = socializer
							trait = light_foot_leader
							trait = trickster
							trait = patron_pazuzu
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							set_character_flag = chaotic_invader
							create_bloodline = {
								type = demon_lord_bloodline
							}
							set_global_flag = pazuzu_spawned
							set_graphical_culture = aarakocra
							give_nickname = nick_daotfw
						}
					}
					10 = { #Yeenoghu
						modifier = { has_global_flag = yeenoghu_spawned factor = 0 }
						create_character = {
							random_traits = no
							name = "Yeenoghu"
							dynasty = 12861 # of the Seeping Woods
							culture = tanarri
							religion = abyssal_cult
							dna = "phfeeqabaai"
							attributes = {
								learning = 14
								intrigue = 12
								martial = 16
								diplomacy = 10
								stewardship = 8
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = strong
							trait = genius
							trait = wroth
							trait = brave
							trait = arbitrary
							trait = stubborn
							trait = cruel
							trait = master_barbarian
							trait = master_sorcerer
							trait = brilliant_strategist
							trait = hunter
							trait = light_foot_leader
							trait = aggressive_leader
							trait = patron_yeenoghu
							trait = bio_yeenoghu
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							set_character_flag = chaotic_invader
							create_bloodline = {
								type = demon_lord_bloodline
							}
							set_global_flag = yeenoghu_spawned
							set_graphical_culture = gnoll
							give_nickname = nick_ruler_of_ruin
						}
					}
					10 = { #Baphomet
						modifier = { has_global_flag = baphomet_spawned factor = 0 }
						create_character = {
							random_traits = no
							name = "Baphomet"
							dynasty = 12863 # of the Endless Maze
							culture = tanarri
							religion = abyssal_cult
							dna = "bfmiabbnaam"
							attributes = {
								learning = 12
								intrigue = 12
								martial = 18
								diplomacy = 8
								stewardship = 10
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = strong
							trait = genius
							trait = wroth
							trait = brave
							trait = arbitrary
							trait = gluttonous
							trait = cruel
							trait = master_barbarian
							trait = master_sorcerer
							trait = brilliant_strategist
							trait = hunter
							trait = narrow_flank_leader
							trait = aggressive_leader
							trait = patron_baphomet
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							set_character_flag = chaotic_invader
							create_bloodline = {
								type = demon_lord_bloodline
							}
							set_global_flag = baphomet_spawned
							set_graphical_culture = minotaur
							give_nickname = nick_the_horned_king
						}
					}
					10 = { #Malcanthet
						modifier = { has_global_flag = malcanthet_spawned factor = 0 }
						create_character = {
							random_traits = no
							female = yes
							name = "Malcanthet"
							dynasty = 12866 # of Shendilavri
							culture = tanarri
							religion = abyssal_cult
							# DNA was here
							attributes = {
								learning = 12
								intrigue = 18
								martial = 10
								diplomacy = 14
								stewardship = 10
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = genius
							trait = lustful
							trait = brave
							trait = arbitrary
							trait = ambitious
							trait = fair
							trait = groomed
							trait = cruel
							trait = master_shadow
							trait = master_sorcerer
							trait = elusive_shadow
							trait = seductress
							trait = hedonist
							trait = bisexual
							trait = experimenter
							trait = bio_malcanthet
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							set_character_flag = chaotic_invader
							create_bloodline = {
								type = demon_lord_bloodline
							}
							set_global_flag = malcanthet_spawned
							set_graphical_culture = succubus
							give_nickname = nick_queen_of_succubi
						}
					}
				}
			}
			# yugoloths
			5 = {
				modifier = {
					event_target:target_ruler = { is_evil_religion = yes }
					NOT = { event_target:target_ruler = { culture = gehreleth } }
					factor = 0
				}
				random_list = {
					10 = { # Anthraxus
						modifier = { has_global_flag = anthraxus_spawned factor = 0 }
						create_character = {
							random_traits = no
							name = "Anthraxus"
							dynasty = 12868 # of the Blood Rift
							culture = yugoloth
							religion = faithless
							attributes = {
								learning = 18
								intrigue = 15
								martial = 12
								diplomacy = 9
								stewardship = 9
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = strong
							trait = genius
							trait = paranoid
							trait = deceitful
							trait = cruel
							trait = ugly
							trait = scarred_high
							trait = patient
							trait = envious
							trait = legendary_wizard
							trait = wiz_necromancy
							trait = master_shadow
							trait = mastermind_theologian
							trait = aggressive_leader
							trait = narrow_flank_leader
							trait = bio_anthraxus
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							create_bloodline = {
								type = demon_lord_bloodline # FIXME
							}
							set_global_flag = anthraxus_spawned
							set_graphical_culture = minotaur
							give_nickname = nick_the_decayed
						}
					}
					10 = { # Mydianchlarus
						modifier = { has_global_flag = mydianchlarus_spawned factor = 0 }
						create_character = {
							random_traits = no
							name = "Mydianchlarus"
							dynasty = 12869 # of the Wasting Tower
							culture = yugoloth
							religion = faithless
							attributes = {
								learning = 16
								intrigue = 12
								martial = 12
								diplomacy = 12
								stewardship = 10
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = androgynous
							trait = strong
							trait = genius
							trait = ambitious
							trait = deceitful
							trait = cruel
							trait = ugly
							trait = wroth
							trait = envious
							trait = renowned_wizard
							trait = wiz_necromancy
							trait = expert_shadow
							trait = grey_eminence
							trait = trickster
							trait = jungle_terrain_leader
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							create_bloodline = {
								type = demon_lord_bloodline # FIXME
							}
							set_global_flag = mydianchlarus_spawned
							set_graphical_culture = undead_creature
						}
					}
					10 = { # Typhus
						modifier = { has_global_flag = typhus_spawned factor = 0 }
						create_character = {
							random_traits = no
							name = "Typhus"
							dynasty = 12869 # of the Wasting Tower
							culture = yugoloth
							religion = faithless
							attributes = {
								learning = 16
								intrigue = 12
								martial = 13
								diplomacy = 10
								stewardship = 14
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = strong
							trait = genius
							trait = ambitious
							trait = deceitful
							trait = cruel
							trait = ugly
							trait = wroth
							trait = envious
							trait = renowned_wizard
							trait = wiz_necromancy
							trait = expert_ranger
							trait = grey_eminence
							trait = experimenter
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							create_bloodline = {
								type = demon_lord_bloodline # FIXME
							}
							set_global_flag = typhus_spawned
							set_graphical_culture = undead_creature
						}
					}
					10 = { # Bubonix
						modifier = { has_global_flag = bubonix_spawned factor = 0 }
						create_character = {
							random_traits = no
							name = "Bubonix"
							dynasty = 12869 # of the Wasting Tower
							culture = yugoloth
							religion = faithless
							attributes = {
								learning = 15
								intrigue = 11
								martial = 12
								diplomacy = 14
								stewardship = 12
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = strong
							trait = genius
							trait = ambitious
							trait = deceitful
							trait = cruel
							trait = ugly
							trait = wroth
							trait = envious
							trait = master_wizard
							trait = wiz_necromancy
							trait = master_rogue
							trait = grey_eminence
							trait = unyielding_leader
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							create_bloodline = {
								type = demon_lord_bloodline # FIXME
							}
							set_global_flag = bubonix_spawned
							set_graphical_culture = undeadogre
						}
					}
					10 = { # Xengahra
						modifier = { has_global_flag = xengahra_spawned factor = 0 }
						create_character = {
							random_traits = no
							name = "Xengahra"
							dynasty = 12870 # of the Barrens
							culture = yugoloth
							religion = entropy
							attributes = {
								learning = 14
								intrigue = 16
								martial = 16
								diplomacy = 10
								stewardship = 10
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = strong
							trait = genius
							trait = depressed
							trait = deceitful
							trait = cruel
							trait = fair
							trait = slothful
							trait = envious
							trait = renowned_wizard
							trait = wiz_divination
							trait = master_fighter
							trait = grey_eminence
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							create_bloodline = {
								type = demon_lord_bloodline # FIXME
							}
							set_global_flag = xengahra_spawned
							set_graphical_culture = angel
						}
					}
					10 = { # Brugencephal - using our own modcanon here
						modifier = { has_global_flag = brugencephal_spawned factor = 0 }
						create_character = {
							random_traits = no
							name = "Brugencephal"
							dynasty = 12813 # Nefarious
							culture = yugoloth
							religion = faithless
							attributes = {
								learning = 18
								intrigue = 15
								martial = 15
								diplomacy = 8
								stewardship = 6
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = strong
							trait = genius
							trait = ambitious
							trait = deceitful
							trait = cruel
							trait = wroth
							trait = envious
							trait = renowned_wizard
							trait = wiz_evocation
							trait = master_ranger
							trait = grey_eminence
							trait = experimenter
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							create_bloodline = {
								type = demon_lord_bloodline # FIXME
							}
							set_global_flag = brugencephal_spawned
							set_graphical_culture = cornugon
							give_nickname = nick_the_fodp
						}
					}
				}
			}
			#gehreleths
			2 = {
				modifier = {
					event_target:target_ruler = { is_evil_religion = yes }
					NOT = { event_target:target_ruler = { culture = yugoloth } }
					NOT = { event_target:target_ruler = { has_character_flag = is_grazzt } }
					factor = 0
				}
				random_list = {
					10 = { #Adimarchus
						modifier = { has_global_flag = adimarchus_spawned factor = 0 }
						modifier = { event_target:target_ruler = { has_character_flag = is_grazzt } factor = 20 } # Just itching for a rematch
						create_character = {
							random_traits = no
							name = "Adimarchus"
							dynasty = 12867 # of Occipitus
							culture = gehreleth
							religion = entropy
							attributes = {
								learning = 13
								intrigue = 13
								martial = 13
								diplomacy = 6
								stewardship = 10
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = archfiend
							trait = strong
							trait = genius
							trait = lunatic
							trait = envious
							trait = paranoid
							trait = arbitrary
							trait = deceitful
							trait = cruel
							trait = renowned_wizard
							trait = wiz_necromancy
							trait = master_paladin
							trait = mastermind_theologian
							trait = aggressive_leader
							trait = one_eyed
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							set_character_flag = chaotic_invader
							create_bloodline = {
								type = fallen_angel_bloodline
							}
							set_global_flag = adimarchus_spawned
							set_graphical_culture = planetar
							give_nickname = nick_the_demon_prince_of_madness
						}
					}
					25 = { # Generic
						create_character = {
							random_traits = no
							dynasty = actually_culture
							culture = gehreleth
							religion = shadow_gods
							attributes = {
								learning = 10
								intrigue = 10
								martial = 12
								diplomacy = 10
								stewardship = 8
							}
							trait = creature_fiend
							trait = greater_fiend
							trait = strong
							trait = wroth
							trait = ambitious
							trait = arbitrary
							trait = gluttonous
							trait = cruel
							trait = master_barbarian
							trait = master_sorcerer
							trait = brilliant_strategist
							trait = impaler
							trait = aggressive_leader
							age = 1370
							immortal_age = 30
							flag = ai_flag_refuse_conversion
						}
						new_character = {
							wealth = 1000
							save_event_target_as = invader_char
							character_event = { id = frxp.1 }
							character_event = { id = ALWAR.3 }
							set_character_flag = chaotic_invader
						}
					}
				}
			}
			# oni
			2 = {
				modifier = {
					NOT = { event_target:target_ruler = {
							any_realm_province = {
								port = yes
								OR = {
									region = hordelands_region
									region = kara_tur_region
								}
							}
						}
					}
					factor = 0
				}
				create_character = {
					random_traits = no
					dynasty = actually_culture
					culture = ogre_magi
					religion = vaprak
					attributes = {
						learning = 6
						intrigue = 8
						martial = 15
						diplomacy = 12
						stewardship = 8
					}
					trait = creature_ogre
					trait = strong
					trait = wroth
					trait = ambitious
					trait = master_barbarian
					trait = master_psion
					trait = psi_potential
					trait = brilliant_strategist
					trait = aggressive_leader
					age = 35
					flag = ai_flag_refuse_conversion
				}
				new_character = {
					random_list = {
						1 = { # blue oni, do nothing
						}
						1 = {
							set_graphical_culture = red_oni
						}
						5 = {
							set_graphical_culture = minotaur # go-zu-oni
						}
						10 = {
							set_graphical_culture = equinal # me-zu-oni
							add_trait = brave
							add_trait = giant
							add_trait = quick
							add_trait = robust
						}
					}
					wealth = 1000
					save_event_target_as = invader_char
					character_event = { id = frxp.1 }
					character_event = { id = ALWAR.3 }
					set_character_flag = chaotic_invader
				}
			}
			# marine invasion from the southeast
			5 = {
				modifier = {
					NOT = { event_target:target_ruler = {
							any_realm_province = {
								port = yes
								OR = {
									region = the_old_kingdoms_region
									region = salt_jungle_region
									region = cities_ancients_region
									region = yikarian_empire_region
									region = salju_shan_region
								}
							}
						}
					}
					factor = 0
				}
				create_character = {
					random_traits = yes
					female = random
					attributes = {
						diplomacy = 8
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = brilliant_strategist
					trait = brave
					trait = creature_human
					flag = marine_invader
				}
				new_character = {
					wealth = 1000
					save_event_target_as = invader_char
					remove_trait = weak
					remove_trait = delicate
					remove_trait = soft
					remove_trait = imbecile
					remove_trait = idiot
					remove_trait = slow
					remove_trait = clubfooted
					remove_trait = craven
					remove_trait = cruel
					remove_trait = cynical
					random_list = { #religion
						10 = { religion = padhran }
						10 = { religion = the_path }
						10 = { religion = chung_tao	}
						10 = { religion = nine_travelers }
						5 = { religion = animist }
						1 = { religion = chauntean_faith }
					}
					random_list = { # culture and gfx
						10 = {
							culture = kozakuran
							set_graphical_culture = kozakuran
						}
						10 = {
							culture = wanese
							set_graphical_culture = wanese
						}
						5 = {
							culture = koryoan
							set_graphical_culture = koryoan
						}
						10 = {
							culture = bawani
							set_graphical_culture = bawani
							random = {
								chance = 10
								religion = interloper
							}
						}
						10 = {
							culture = kozakuran
							set_graphical_culture = kozakuran
						}
						5 = {
							culture = seng
							set_graphical_culture = seng
							random = {
								chance = 40
								religion = interloper
							}
						}
						10 = {
							culture = kuong
							set_graphical_culture = kuong
							religion = interloper
						}
						10 = { # Shou
							modifier = {
								e_shou_lung_west_governor = {
									has_holder = yes
									holder_scope = { is_landed = yes }
								}
								NOT = { shou_lung = { has_status = shou_lung_civil_war } }
								factor = 0
							}
							random_list = {
								10 = {
									culture = sheng
									set_graphical_culture = sheng
								}
								10 = {
									culture = waka
									set_graphical_culture = waka
								}
								5 = {
									culture = ti
									set_graphical_culture = ti
								}
								10 = {
									culture = hungtse
									set_graphical_culture = hungtse
								}
								10 = {
									culture = hai
									set_graphical_culture = hai
								}
							}
						}
					}
					random_list = { #class
						5 = { add_trait = expert_paladin }
						15 = { add_trait = expert_fighter }
						10 = { add_trait = expert_bard }
						10 = { add_trait = expert_cleric }
						10 = { add_trait = expert_ranger }
						15 = { add_trait = expert_monk }
						5 = { add_trait = expert_barbarian }
						5 = { add_trait = expert_rogue }
						5 = {
							add_trait = expert_sorcerer
							add_trait = origin_draconic
						}
						5 = {
							add_trait = expert_wizard
							add_trait = wiz_abjuration
						}
						5 = {
							add_trait = expert_warlock
							add_trait = warlock_fey
						}
						10 = {
							add_trait = expert_psion
							add_trait = psi_potential
						}
						5 = { add_trait = expert_druid }
					}
					character_event = { id = frxp.1 }
					character_event = { id = ALWAR.3 }
				}
			}
		}
		clr_character_flag = ignore_conversion_immunity
	}
}

#third event: invader is given a temporary title and troops.
character_event = {
	id = ALWAR.3
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		create_title = {
			tier = DUKE
			landless = yes
			temporary = yes
			culture = ROOT
			name = "CLAIMANT_ADVENTURE"
			holder = ROOT
			adventurer = yes
		}
		set_character_flag = duchy_adventurer
		if = { #non-evil invader vs evil
			limit = {
				event_target:target_ruler = {
					OR = {
						is_evil_religion = yes
						has_character_modifier = true_villain_modifier
					}
				}
				event_target:invader_char = {
					is_evil_religion = no
				}
			}
			spawn_unit = {
				province = event_target:invasion_province
				home = event_target:invasion_province
				owner = THIS
				leader = THIS
				match_character = event_target:target_ruler
				match_mult = 0.1
				match_min = 500
				#earmark = decadence_revolters
				reinforces = yes
				reinforce_rate_multiplier = 0.25
				merge = yes
				attrition = 0
			}
			spawn_fleet = {
				province = closest # closest sea zone
				owner = THIS
				disband_on_peace = yes
				troops = {
					galleys = { 400 400 }
				}
				earmark = decadence_revolters
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 20
				attributes = {
					martial = 7
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.1
					match_min = 500
					#earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 22
				attributes = {
					martial = 7
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.1
					match_min = 500
					#earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 24
				attributes = {
					martial = 7
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.1
					match_min = 500
					earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 30
				attributes = {
					martial = 9
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.1
					match_min = 500
					earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 33
				attributes = {
					martial = 9
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.1
					match_min = 500
					earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
		}
		else_if = { #evil-vs-evil
			limit = {
				event_target:target_ruler = {
					OR = {
						has_character_modifier = true_villain_modifier
						is_evil_religion = yes
					}
				}
				event_target:invader_char = {
					is_evil_religion = yes
				}
			}
			spawn_unit = {
				province = event_target:invasion_province
				home = event_target:invasion_province
				owner = THIS
				leader = THIS
				match_character = event_target:target_ruler
				match_mult = 0.15
				match_min = 2500
				#earmark = decadence_revolters
				reinforces = yes
				reinforce_rate_multiplier = 0.25
				attrition = 0
				merge = yes
			}
			spawn_fleet = {
				province = closest # closest sea zone
				owner = THIS
				disband_on_peace = yes
				troops = {
					galleys = { 400 400 }
				}
				earmark = decadence_revolters
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 20
				attributes = {
					martial = 7
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.15
					match_min = 2500
					#earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 22
				attributes = {
					martial = 7
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.15
					match_min = 2500
					#earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 24
				attributes = {
					martial = 7
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.15
					match_min = 2500
					earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 30
				attributes = {
					martial = 9
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.15
					match_min = 2500
					earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 30
				attributes = {
					martial = 7
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.15
					match_min = 2500
					earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 33
				attributes = {
					martial = 7
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.15
					match_min = 2500
					earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
		}
		else_if = { #non-evil vs non-evil
			limit = {
				event_target:target_ruler = {
					NOR = {
						has_character_modifier = true_villain_modifier
						is_evil_religion = yes
					}
				}
				event_target:invader_char = {
					NOR = {
						has_character_modifier = true_villain_modifier
						is_evil_religion = yes
					}
				}
			}
			spawn_unit = {
				province = event_target:invasion_province
				home = event_target:invasion_province
				owner = THIS
				leader = THIS
				match_character = event_target:target_ruler
				match_mult = 0.15
				match_min = 2500
				#earmark = decadence_revolters
				reinforces = yes
				reinforce_rate_multiplier = 0.25
				attrition = 0
				merge = yes
			}
			spawn_fleet = {
				province = closest # closest sea zone
				owner = THIS
				disband_on_peace = yes
				troops = {
					galleys = { 400 400 }
				}
				earmark = decadence_revolters
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 20
				attributes = {
					martial = 7
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.15
					match_min = 2500
					#earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 22
				attributes = {
					martial = 7
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.15
					match_min = 2500
					#earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 24
				attributes = {
					martial = 7
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.15
					match_min = 2500
					earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 30
				attributes = {
					martial = 9
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.15
					match_min = 2500
					earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 30
				attributes = {
					martial = 7
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.15
					match_min = 2500
					earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 33
				attributes = {
					martial = 7
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.15
					match_min = 2500
					earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
		}
		else_if = { #evil invader vs non-evil
			limit = {
				event_target:target_ruler = {
					is_evil_religion = no
					NOT = { has_character_modifier = true_villain_modifier }
				}
				event_target:invader_char = {
					is_evil_religion = yes
				}
			}
			spawn_unit = {
				province = event_target:invasion_province
				home = event_target:invasion_province
				owner = THIS
				leader = THIS
				match_character = event_target:target_ruler
				match_mult = 0.2
				match_min = 4600
				#earmark = decadence_revolters
				reinforces = yes
				reinforce_rate_multiplier = 0.25
				attrition = 0
				merge = yes
			}
			spawn_fleet = {
				province = closest # closest sea zone
				owner = THIS
				disband_on_peace = yes
				troops = {
					galleys = { 400 400 }
				}
				earmark = decadence_revolters
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 20
				attributes = {
					martial = 7
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.2
					match_min = 4600
					#earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 22
				attributes = {
					martial = 7
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.2
					match_min = 4600
					#earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 24
				attributes = {
					martial = 7
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.2
					match_min = 4600
					earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 30
				attributes = {
					martial = 9
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.2
					match_min = 4600
					earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 30
				attributes = {
					martial = 7
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.2
					match_min = 4600
					earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
			create_character = {
				random_traits = yes
				dynasty = NONE
				religion = ROOT
				culture = ROOT
				female = no
				age = 33
				attributes = {
					martial = 7
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = event_target:invasion_province
					home = event_target:invasion_province
					owner = PREV
					match_character = event_target:target_ruler
					match_mult = 0.2
					match_min = 4600
					earmark = decadence_revolters
					reinforces = yes
					reinforce_rate_multiplier = 0.25
					attrition = 0
					merge = yes
				}
			}
		}
		narrative_event = { id = ALWAR.4 days = 1 }
	}
}
#fourth event: a major narrative event warning of a potential invasion
narrative_event = {
	id = ALWAR.4
	title = EVTNAME_ALWAR_4
	portrait = event_target:target_ruler
	hide_new = yes
	show_root = yes
	major = yes

	picture = { #angel
		trigger = {
			event_target:invader_char = {
				culture_group = celestial_group
				NOT = { has_character_flag = marine_invader }
			}
			event_target:target_ruler = {
				NOR = {
					capital_scope = {
						OR = {
							region = shou_lung_region
							region = katakoro_plateau_region
							region = ama_region
						}
					}
					has_landed_title = e_shou_lung_west_governor
					primary_title = {
						has_title_flag = pretender_shou_lung_empire
					}
				}
			}
		}
		picture = GFX_evt_angels_2
	}
	picture = { #tanarri
		trigger = {
			event_target:invader_char = {
				culture = tanarri
				NOT = { has_character_flag = marine_invader }
			}
			event_target:target_ruler = {
				NOR = {
					capital_scope = {
						OR = {
							region = shou_lung_region
							region = katakoro_plateau_region
							region = ama_region
						}
					}
					has_landed_title = e_shou_lung_west_governor
					primary_title = {
						has_title_flag = pretender_shou_lung_empire
					}
				}
			}
		}
		picture = GFX_evt_demons_1
	}
	picture = { # gehreleth
		trigger = {
			event_target:invader_char = {
				culture = gehreleth
				NOT = { has_character_flag = marine_invader }
			}
			event_target:target_ruler = {
				NOR = {
					capital_scope = {
						OR = {
							region = shou_lung_region
							region = katakoro_plateau_region
							region = ama_region
						}
					}
					has_landed_title = e_shou_lung_west_governor
					primary_title = {
						has_title_flag = pretender_shou_lung_empire
					}
				}
			}
		}
		picture = GFX_evt_carceri_1
	}
	picture = { # yugoloth
		trigger = {
			event_target:invader_char = {
				culture = yugoloth
				NOT = { has_character_flag = marine_invader }
			}
			event_target:target_ruler = {
				NOR = {
					capital_scope = {
						OR = {
							region = shou_lung_region
							region = katakoro_plateau_region
							region = ama_region
						}
					}
					has_landed_title = e_shou_lung_west_governor
					primary_title = {
						has_title_flag = pretender_shou_lung_empire
					}
				}
			}
		}
		picture = GFX_evt_grey_waste_1
	}
	picture = { #baatezu
		trigger = {
			event_target:invader_char = {
				OR = {
					culture = baatezu
					culture = ogre_magi
				}
				NOT = { has_character_flag = marine_invader }
			}
			event_target:target_ruler = {
				NOR = {
					capital_scope = {
						OR = {
							region = shou_lung_region
							region = katakoro_plateau_region
							region = ama_region
						}
					}
					has_landed_title = e_shou_lung_west_governor
					primary_title = {
						has_title_flag = pretender_shou_lung_empire
					}
				}
			}
		}
		picture = GFX_evt_devils_1
	}
	picture = { #scro
		trigger = {
			event_target:invader_char = {
				culture = scro
				NOT = { has_character_flag = marine_invader }
			}
		}
		picture = GFX_evt_orcs
	}
	picture = { # giants in grey
		trigger = {
			event_target:invader_char = {
				OR = {
					culture_group = celestial_group
					culture_group = fiendish_group
					culture = ogre_magi
				}
				NOT = { has_character_flag = marine_invader }
			}
			event_target:target_ruler = {
				OR = {
					capital_scope = {
						OR = {
							region = shou_lung_region
							region = katakoro_plateau_region
							region = ama_region
						}
					}
					has_landed_title = e_shou_lung_west_governor
					primary_title = {
						has_title_flag = pretender_shou_lung_empire
					}
				}
			}
		}
		picture = GFX_evt_giants_in_grey
	}
	picture = { # Kara-Turan ships
		trigger = {
			event_target:invader_char = {
				has_character_flag = marine_invader
			}
		}
		picture = GFX_evt_treasure_fleet
	}
	picture = { #mortal crusader, update trigger when more invaders are added
		trigger = {
			event_target:invader_char = {
				NOR = {
					culture_group = celestial_group
					culture_group = fiendish_group
					culture = scro
				}
				NOT = { has_character_flag = marine_invader }
			}
		}
		picture = GFX_evt_mounted_knights_hf
	}

	is_triggered_only = yes

	major_trigger = {
		ai = no
	}

	desc = { #angel
		trigger = {
			event_target:invader_char = {
				culture_group = celestial_group
				NOT = { has_character_flag = marine_invader }
			}
			event_target:target_ruler = {
				NOR = {
					capital_scope = {
						OR = {
							region = shou_lung_region
							region = katakoro_plateau_region
							region = ama_region
						}
					}
					has_landed_title = e_shou_lung_west_governor
					primary_title = {
						has_title_flag = pretender_shou_lung_empire
					}
				}
			}
		}
		text = EVTDESC_ALWAR_4_1
	}
	desc = { #tanarri, gehreleth, yugoloth
		trigger = {
			event_target:invader_char = {
				OR = {
					culture = tanarri
					culture = gehreleth
					culture = yugoloth
				}
				NOT = { has_character_flag = marine_invader }
			}
			event_target:target_ruler = {
				NOR = {
					capital_scope = {
						OR = {
							region = shou_lung_region
							region = katakoro_plateau_region
							region = ama_region
						}
					}
					has_landed_title = e_shou_lung_west_governor
					primary_title = {
						has_title_flag = pretender_shou_lung_empire
					}
				}
			}
		}
		text = EVTDESC_ALWAR_4_2
	}
	desc = { #baatezu
		trigger = {
			event_target:invader_char = {
				culture = baatezu
				NOT = { has_character_flag = marine_invader }
			}
			event_target:target_ruler = {
				NOR = {
					capital_scope = {
						OR = {
							region = shou_lung_region
							region = katakoro_plateau_region
							region = ama_region
						}
					}
					has_landed_title = e_shou_lung_west_governor
					primary_title = {
						has_title_flag = pretender_shou_lung_empire
					}
				}
			}
		}
		text = EVTDESC_ALWAR_4_3
	}
	desc = { # giants in grey, for all outsider or oni attacks on Shou Lung
		trigger = {
			event_target:invader_char = {
				OR = {
					culture_group = celestial_group
					culture_group = fiendish_group
					culture = ogre_magi
				}
				NOT = { has_character_flag = marine_invader }
			}
			event_target:target_ruler = {
				OR = {
					capital_scope = {
						OR = {
							region = shou_lung_region
							region = katakoro_plateau_region
							region = ama_region
						}
					}
					has_landed_title = e_shou_lung_west_governor
					primary_title = {
						has_title_flag = pretender_shou_lung_empire
					}
				}
			}
		}
		text = EVTDESC_ALWAR_4_1_SHOU
	}
	desc = { #scro
		trigger = {
			event_target:invader_char = {
				culture = scro
				NOT = { has_character_flag = marine_invader }
			}
		}
		text = EVTDESC_ALWAR_4_4
	}
	desc = { # marine invasion
		trigger = {
			event_target:invader_char = {
				has_character_flag = marine_invader
			}
		}
		text = EVTDESC_ALWAR_4_5
	}
	desc = { # oni
		trigger = {
			event_target:invader_char = {
				culture = ogre_magi
				NOT = { has_character_flag = marine_invader }
			}
			event_target:target_ruler = {
				NOR = {
					capital_scope = {
						OR = {
							region = shou_lung_region
							region = katakoro_plateau_region
							region = ama_region
						}
					}
					has_landed_title = e_shou_lung_west_governor
					primary_title = {
						has_title_flag = pretender_shou_lung_empire
					}
				}
			}
		}
		text = EVTDESC_ALWAR_4_6
	}
	desc = { #mortal crusader, update trigger when more invaders are added
		trigger = {
			event_target:invader_char = {
				NOR = {
					culture_group = celestial_group
					culture_group = fiendish_group
					culture = scro
					culture = ogre_magi
				}
				NOT = { has_character_flag = marine_invader }
			}
		}
		text = EVTDESC_ALWAR_4_0
	}

	option = {
		name = EVTOPTA_ALWAR_4
		narrative_event = { id = ALWAR.5 days = 150 random = 150 }
	}
}
#fifth event: war is declared on target. Both invader and target make their automatic call to arms.
narrative_event = {
	id = ALWAR.5
	title = EVTNAME_ALWAR_5
	portrait = event_target:target_ruler
	hide_new = yes
	show_root = yes
	#major = yes

	trigger = {
		OR = {
			NOT = { has_global_flag = recent_align_war }
			had_global_flag = {
				flag = recent_align_war
				years >= 50
			}
		}
	}

	picture = { #angel
		trigger = { event_target:invader_char = { culture_group = celestial_group } }
		picture = GFX_evt_angels_2
	}
	picture = { #tanarri
		trigger = {
			event_target:invader_char = {
				OR = {
					culture = tanarri
					culture = gehreleth
					culture = yugoloth
				}
			}
		}
		picture = GFX_evt_demons_1
	}
	picture = { #baatezu
		trigger = { event_target:invader_char = { culture = baatezu } }
		picture = GFX_evt_devils_1
	}
	picture = { #scro
		trigger = { event_target:invader_char = { culture = scro } }
		picture = GFX_evt_orcs
	}
	picture = { # Celestial Sea invaders
		trigger = {
			event_target:invader_char = {
				has_character_flag = marine_invader
			}
		}
		picture = GFX_evt_treasure_fleet
	}
	picture = { #mortal crusader, update condition when more invaders are added
		trigger = {
			event_target:invader_char = {
				NOR = {
					culture_group = celestial_group
					culture_group = fiendish_group
					culture = scro
					has_character_flag = marine_invader
				}
			}
		}
		picture = GFX_evt_mounted_knights_hf
	}

	is_triggered_only = yes

	#major_trigger = {
	#	ai = no
	#}

	desc = {
		trigger = {
			event_target:target_ruler = {
				OR = {
					is_evil_religion = yes
					has_character_modifier = true_villain_modifier
				}
			}
			event_target:invader_char = {
				is_evil_religion = no
			}
		}
		text = EVTDESC_ALWAR_5_A
	}
	desc = {
		trigger = {
			event_target:target_ruler = {
				AND = {
					is_evil_religion = no
					NOT = { has_character_modifier = true_villain_modifier }
				}
			}
			event_target:invader_char = {
				is_evil_religion = yes
			}
		}
		text = EVTDESC_ALWAR_5_B
	}
	desc = {
		trigger = {
			event_target:target_ruler = {
				OR = {
					is_evil_religion = yes
					has_character_modifier = true_villain_modifier
				}
			}
			event_target:invader_char = {
				is_evil_religion = yes
			}
		}
		text = EVTDESC_ALWAR_5_C
	}
	desc = {
		trigger = {
			event_target:target_ruler = {
				AND = {
					is_evil_religion = no
					NOT = { has_character_modifier = true_villain_modifier }
				}
			}
			event_target:invader_char = {
				is_evil_religion = no
			}
		}
		text = EVTDESC_ALWAR_5_D
	}
	immediate = {
		if = {
			limit = {
				event_target:target_ruler = { is_alive = yes }
			}
			event_target:invader_char = {
				war = {
					target = event_target:target_title
					casus_belli = great_align_conflict
				}
				character_event = { id = ALWAR.10 days = 1 }
			}
			event_target:target_ruler = {
				character_event = { id = ALWAR.10 days = 1 }
			}
			set_global_flag = recent_align_war
		}
		else = {
			event_target:target_title = {
				owner = {
					save_event_target_as = target_ruler
				}
			}
			event_target:invader_char = {
				war = {
					target = event_target:target_title
					casus_belli = great_align_conflict
				}
				character_event = { id = ALWAR.10 days = 1 }
			}
			event_target:target_ruler = {
				character_event = { id = ALWAR.10 days = 1 }
			}
			set_global_flag = recent_align_war
		}
	}

	option = {
		name = EVTOPTA_ALWAR_5
	}
}

#Call to arms event
character_event = {
	id = ALWAR.10
	desc = EVTDESC_ALWAR_10
	picture = GFX_evt_large_army
	portrait = event_target:invader_char
	hide_new = yes

	is_triggered_only = yes

	trigger = {
		any_war = {
			using_cb = great_align_conflict
		}
		OR = {
			is_primary_war_attacker = yes
			is_primary_war_defender = yes
		}
	}

	option = {
		name = EVTOPTA_ALWAR_10

		if = {
			limit = {
				character = event_target:invader_char
			}
			hidden_tooltip = {
				any_independent_ruler = {
					limit = {
						NOT = {
							any_war = { using_cb = great_align_conflict }
						}
					}
					if = {
						limit = {
							ROOT = {
								olrox_is_good_religion_trigger = yes
							}
							distance_from_realm = {
								who = event_target:target_ruler
								value < 500
							}
							NOR = {
								has_character_modifier = refused_align_war
								war_with = ROOT
								war_with = event_target:target_ruler
								mercenary = yes
								holy_order = yes
							}
							is_landed = yes
							OR = {
								olrox_is_good_religion_trigger = yes
								same_society_as = ROOT
							}
						}
						letter_event = {
							id = ALWAR.13
							days = 7
							random = 21
							tooltip = EVTTOOLTIP100161
						}
					}
					else_if = {
						limit = {
							ROOT = {
								is_evil_religion = no
								olrox_is_good_religion_trigger = no
							}
							distance_from_realm = {
								who = event_target:target_ruler
								value < 500
							}
							NOR = {
								has_character_modifier = refused_align_war
								war_with = ROOT
								war_with = event_target:target_ruler
								mercenary = yes
								holy_order = yes
							}
							is_landed = yes
							OR = {
								AND = {
									is_evil_religion = no
									religion_group = ROOT
								}
								same_society_as = ROOT
							}
						}
						letter_event = {
							id = ALWAR.13
							days = 7
							random = 21
							tooltip = EVTTOOLTIP100161
						}
					}
					else_if = {
						limit = {
							ROOT = {
								is_evil_religion = yes
							}
							distance_from_realm = {
								who = event_target:target_ruler
								value < 500
							}
							NOR = {
								has_character_modifier = refused_align_war
								war_with = ROOT
								war_with = event_target:target_ruler
								mercenary = yes
								holy_order = yes
							}
							is_landed = yes
							OR = {
								AND = {
									is_evil_religion = yes
									religion = ROOT
								}
								same_society_as = ROOT
							}
						}
						letter_event = {
							id = ALWAR.13
							days = 7
							random = 21
							tooltip = EVTTOOLTIP100161
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				character = event_target:target_ruler
			}
			hidden_tooltip = {
				any_independent_ruler = {
					limit = {
						NOT = {
							any_war = { using_cb = great_align_conflict }
						}
					}
					if = {
						limit = {
							ROOT = {
								olrox_is_good_religion_trigger = yes
							}
							distance_from_realm = {
								who = event_target:target_ruler
								value < 500
							}
							NOR = {
								has_character_modifier = refused_align_war
								war_with = ROOT
								war_with = event_target:target_ruler
								mercenary = yes
								holy_order = yes
							}
							is_landed = yes
							OR = {
								olrox_is_good_religion_trigger = yes
								same_society_as = ROOT
							}
						}
						letter_event = {
							id = ALWAR.11
							days = 7
							random = 21
							tooltip = EVTTOOLTIP100161
						}
					}
					else_if = {
						limit = {
							ROOT = {
								is_evil_religion = no
								olrox_is_good_religion_trigger = no
							}
							distance_from_realm = {
								who = event_target:target_ruler
								value < 500
							}
							NOR = {
								has_character_modifier = refused_align_war
								war_with = ROOT
								war_with = event_target:target_ruler
								mercenary = yes
								holy_order = yes
							}
							is_landed = yes
							OR = {
								AND = {
									is_evil_religion = no
									religion_group = ROOT
								}
								same_society_as = ROOT
							}
						}
						letter_event = {
							id = ALWAR.11
							days = 7
							random = 21
							tooltip = EVTTOOLTIP100161
						}
					}
					else_if = {
						limit = {
							ROOT = {
								is_evil_religion = yes
							}
							distance_from_realm = {
								who = event_target:target_ruler
								value < 500
							}
							NOR = {
								has_character_modifier = refused_align_war
								war_with = ROOT
								war_with = event_target:target_ruler
								mercenary = yes
								holy_order = yes
							}
							is_landed = yes
							OR = {
								AND = {
									is_evil_religion = yes
									religion = ROOT
								}
								same_society_as = ROOT
							}
						}
						letter_event = {
							id = ALWAR.11
							days = 7
							random = 21
							tooltip = EVTTOOLTIP100161
						}
					}
				}
				any_current_enemy = { #try to white peace with other enemies
					limit = {
						NOT = {
							any_war = { using_cb = great_align_conflict }
						}
					}
					if = {
						limit = {
							NOT = { has_character_flag = duchy_adventurer }
							ROOT = {
								NOT = { character = event_target:invader_char }
							}
						}
						letter_event = {
							id = ALWAR.12
							days = 5
						}
					}
				}
			}
		}

		character_event = { id = ALWAR.10 months = 6 } #repeat event if great_align_conflict ongoing
	}
	option = {
		name = EVTOPTB_ALWAR_10
		ai_chance = {
			factor = 0
		}
		scaled_prestige = {
			value = 0.5
			min = 50
			max = 250
		}
		character_event = { id = ALWAR.10 months = 12 } #repeat event if great_align_conflict ongoing
	}
}
#Asked to join align war (defender side)
letter_event = {
	id = ALWAR.11
	desc = EVTDESC_ALWAR_11
	hide_new = yes

	is_triggered_only = yes

	trigger = {
		NOT = { has_character_modifier = refused_align_war }
	}

	option = {
		name = EVTOPTA_ALWAR_11
		FROM = {
			any_war = {
				limit = {
					using_cb = great_align_conflict
				}
				ROOT = {
					if = {
						limit = {
							FROM = { is_primary_war_defender = yes }
						}
						join_defender_wars = PREV
					}
					if = {
						limit = {
							FROM = {
								is_primary_war_attacker = yes
								has_character_flag = duchy_adventurer
							}
						}
						join_attacker_wars = PREV
					}
				}
			}
			opinion = {
				modifier = opinion_grateful
				who = ROOT
				years = 5
			}
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					is_married = FROM
					is_parent_of = FROM
					is_child_of = FROM
				}
			}
			modifier = {
				factor = 5
				is_friend = FROM
			}
			modifier = {
				factor = 0.2
				is_rival = FROM
			}
			modifier = {
				factor = 4
				OR = {
					is_allied_with = FROM
					has_non_aggression_pact_with = FROM
				}
			}
			modifier = {
				factor = 0.75
				FROM = {
					has_character_flag = duchy_adventurer
					olrox_is_good_religion_trigger = yes
				}
			}
			modifier = {
				factor = 1.4
				FROM = {
					culture = ROOT
				}
			}
			modifier = {
				factor = 1.4
				FROM = {
					religion = ROOT
				}
			}
			modifier = {
				factor = 0.9
				FROM = {
					NOT = { culture = ROOT }
				}
			}
			modifier = {
				factor = 0.9
				FROM = {
					NOT = { religion = ROOT }
				}
			}
			modifier = {
				factor = 0.8
				FROM = {
					NOT = { culture_group = ROOT }
				}
			}
			modifier = {
				factor = 0.8
				FROM = {
					NOT = { religion_group = ROOT }
				}
			}
			modifier = {
				factor = 1.2
				opinion = { who = FROM value =  20 }
			}
			modifier = {
				factor = 1.2
				opinion = { who = FROM value =  40 }
			}
			modifier = {
				factor = 1.3
				opinion = { who = FROM value =  60 }
			}
			modifier = {
				factor = 1.3
				opinion = { who = FROM value =  80 }
			}
			modifier = {
				factor = 1.3
				opinion = { who = FROM value =  100 }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value =  0 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value =  -20 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value =  -40 } }
			}
			modifier = {
				factor = 0.7
				NOT = { opinion = { who = FROM value =  -60 } }
			}
			modifier = {
				factor = 0.7
				NOT = { opinion = { who = FROM value =  -80 } }
			}
			modifier = {
				factor = 0.7
				NOT = { opinion = { who = FROM value =  -99 } }
			}
		}
	}
	option = {
		name = EVTOPTB_ALWAR_11
		tooltip = {
			reverse_opinion = {
				modifier = opinion_very_disappointed
				who = FROM
				years = 5
			}
		}
		add_character_modifier = {
			modifier = refused_align_war
			hidden = yes
			duration = 1000
		}
		ai_chance = {
			factor = 1
		}
	}
}
#Asked to white peace
letter_event = {
	id = ALWAR.12
	desc = EVTDESC_ALWAR_12
	hide_new = yes

	is_triggered_only = yes

	option = {
		name = EVTOPTA_ALWAR_12
		any_war = {
			limit = {
				attacker = {
					character = ROOT
					is_primary_war_attacker = yes
				}
				defender = {
					character = FROM
					is_primary_war_defender = yes
				}
			}
			end_war = whitepeace
		}
	}
	option = {
		name = EVTOPTB_ALWAR_12
		tooltip = {
			reverse_opinion = {
				modifier = opinion_very_disappointed
				who = FROM
				years = 5
			}
		}
		ai_chance = {
			factor = 0
		}
	}
}
#Asked to join align war (attacker side)
letter_event = {
	id = ALWAR.13
	desc = EVTDESC_ALWAR_13
	hide_new = yes

	is_triggered_only = yes

	trigger = {
		NOT = { has_character_modifier = refused_align_war }
	}

	option = {
		name = EVTOPTA_ALWAR_13
		FROM = {
			any_war = {
				limit = {
					using_cb = great_align_conflict
				}
				ROOT = {
					if = {
						limit = {
							FROM = { is_primary_war_defender = yes }
						}
						join_defender_wars = PREV
					}
					if = {
						limit = {
							FROM = {
								is_primary_war_attacker = yes
								has_character_flag = duchy_adventurer
							}
						}
						join_attacker_wars = PREV
					}
				}
			}
			opinion = {
				modifier = opinion_grateful
				who = ROOT
				years = 5
			}
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				OR = {
					is_married = FROM
					is_parent_of = FROM
					is_child_of = FROM
				}
			}
			modifier = {
				factor = 5
				is_friend = FROM
			}
			modifier = {
				factor = 0.2
				is_rival = FROM
			}
			modifier = {
				factor = 4
				OR = {
					is_allied_with = FROM
					has_non_aggression_pact_with = FROM
				}
			}
			modifier = {
				factor = 0.75
				FROM = {
					has_character_flag = duchy_adventurer
					olrox_is_good_religion_trigger = yes
				}
			}
			modifier = {
				factor = 1.4
				FROM = {
					culture = ROOT
				}
			}
			modifier = {
				factor = 1.4
				FROM = {
					religion = ROOT
				}
			}
			modifier = {
				factor = 0.9
				FROM = {
					NOT = { culture = ROOT }
				}
			}
			modifier = {
				factor = 0.9
				FROM = {
					NOT = { religion = ROOT }
				}
			}
			modifier = {
				factor = 0.8
				FROM = {
					NOT = { culture_group = ROOT }
				}
			}
			modifier = {
				factor = 0.8
				FROM = {
					NOT = { religion_group = ROOT }
				}
			}
			modifier = {
				factor = 1.2
				opinion = { who = FROM value =  20 }
			}
			modifier = {
				factor = 1.2
				opinion = { who = FROM value =  40 }
			}
			modifier = {
				factor = 1.3
				opinion = { who = FROM value =  60 }
			}
			modifier = {
				factor = 1.3
				opinion = { who = FROM value =  80 }
			}
			modifier = {
				factor = 1.3
				opinion = { who = FROM value =  100 }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value =  0 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value =  -20 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value =  -40 } }
			}
			modifier = {
				factor = 0.7
				NOT = { opinion = { who = FROM value =  -60 } }
			}
			modifier = {
				factor = 0.7
				NOT = { opinion = { who = FROM value =  -80 } }
			}
			modifier = {
				factor = 0.7
				NOT = { opinion = { who = FROM value =  -99 } }
			}
		}
	}
	option = {
		name = EVTOPTB_ALWAR_11
		tooltip = {
			reverse_opinion = {
				modifier = opinion_very_disappointed
				who = FROM
				years = 5
			}
		}
		add_character_modifier = {
			modifier = refused_align_war
			hidden = yes
			duration = 1000
		}
		ai_chance = {
			factor = 1
		}
	}
}

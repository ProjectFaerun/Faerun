namespace = ADVN

#Adventurer flags and event targets
character_event = {
	id = ADVN.0
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		random_courtier_or_vassal = {
			limit = {
				has_minor_title = title_party_member
			}
			set_character_flag = party_member_1
			save_event_target_as = party_member_1
			add_trait = travelling
			character_event = { id = ADVN.106 days = 130 } #emergency cleanup
		}
		random_courtier_or_vassal = {
			limit = {
				has_minor_title = title_party_member
				NOT = { has_character_flag = party_member_1 }
			}
			set_character_flag = party_member_2
			save_event_target_as = party_member_2
			add_trait = travelling
			character_event = { id = ADVN.106 days = 130 } #emergency cleanup
		}
		random_courtier_or_vassal = {
			limit = {
				has_minor_title = title_party_member
				NOR = {
					has_character_flag = party_member_1
					has_character_flag = party_member_2
				}
			}
			set_character_flag = party_member_3
			save_event_target_as = party_member_3
			add_trait = travelling
			character_event = { id = ADVN.106 days = 130 } #emergency cleanup
		}
		random_courtier_or_vassal = {
			limit = {
				has_minor_title = title_party_member
				NOR = {
					has_character_flag = party_member_1
					has_character_flag = party_member_2
					has_character_flag = party_member_3
				}
			}
			set_character_flag = party_member_4
			save_event_target_as = party_member_4
			add_trait = travelling
			character_event = { id = ADVN.106 days = 130 } #emergency cleanup
		}
		if = {
			limit = {
				has_character_flag = adv_vs_host
			}
			FROM = { save_event_target_as = final_boss }
		}
		character_event = { id = ADVN.107 } #asks ruler if they want to join
	}
}

#Difficulty Selection Screen & Starting Adventure Tombola
character_event = {
	id = ADVN.1
	picture = GFX_evt_adventurers

	is_triggered_only = yes

	desc = {
		trigger = {
			NOT = { has_character_flag = adv_vs_host }
		}
		text = EVTDESC_ADVN_1
	}
	desc = {
		trigger = {
			has_character_flag = adv_vs_host
		}
		text = EVTDESC_ADVN_1_b
	}

	option = { #Very Easy Difficulty, barely a challenge
		name = EVTOPTZ_ADVN_1
		trigger = {
			NOT = { has_character_flag = adv_vs_host }
		}
		set_character_flag = adv_very_easy_difficulty
		character_event = { id = ADVN.105 days = 90 tooltip = EVTTOOLTIPADVN105 }
		scaled_wealth = { value = -0.25 min = -15 max = -50 }
	}

	option = { #Easy Difficulty
		name = EVTOPTA_ADVN_1
		trigger = {
			NOT = { has_character_flag = adv_vs_host }
		}
		hidden_tooltip = {
			random_list = { #first wilderness event
				5 = { #bad weather
					character_event = { id = ADVN.3 days = 10 }
					set_character_flag = adv_bad_weather
				}
				35 = { #negotiate with locals
					character_event = { id = ADVN.4 days = 10 }
				}
				35 = { #research location
					character_event = { id = ADVN.5 days = 10 }
				}
				10 = { #sneak past a threat
					character_event = { id = ADVN.6 days = 10 }
				}
				10 = { #lost in the wilderness
					character_event = { id = ADVN.8 days = 10 }
					set_character_flag = adv_got_lost
				}
				5 = { #mercenary thugs
					character_event = { id = ADVN.40 days = 10 }
					set_character_flag = adv_met_mercs
				}
			}
			random_list = { #second wilderness event
				20 = { #random monster
					character_event = { id = ADVN.2 days = 20 }
				}
				15 = { #bad weather
					modifier = { has_character_flag = adv_bad_weather factor = 0 }
					character_event = { id = ADVN.3 days = 20 }
					set_character_flag = adv_bad_weather
				}
				15 = { #sneak past a threat
					character_event = { id = ADVN.6 days = 20 }
				}
				15 = { #forage
					character_event = { id = ADVN.7 days = 20 }
					set_character_flag = adv_did_forage
				}
				15 = { #lost in the wilderness
					modifier = { has_character_flag = adv_got_lost factor = 0 }
					character_event = { id = ADVN.8 days = 20 }
					set_character_flag = adv_got_lost
				}
				15 = { #Pinpoint Dungeon
					character_event = { id = ADVN.9 days = 20 }
					set_character_flag = adv_did_pinpoint
				}
				5 = { #mercenary thugs
					modifier = { has_character_flag = adv_met_mercs factor = 0 }
					character_event = { id = ADVN.40 days = 20 }
					set_character_flag = adv_met_mercs
				}
			}
			random_list = { #third wilderness event
				20 = { #random monster
					character_event = { id = ADVN.2 days = 30 }
				}
				10 = { #bad weather
					modifier = { has_character_flag = adv_bad_weather factor = 0 }
					character_event = { id = ADVN.3 days = 30 }
					set_character_flag = adv_bad_weather
				}
				15 = { #sneak past a threat
					character_event = { id = ADVN.6 days = 30 }
				}
				20 = { #forage
					modifier = { has_character_flag = adv_did_forage factor = 0 }
					character_event = { id = ADVN.7 days = 30 }
					set_character_flag = adv_did_forage
				}
				10 = { #lost in the wilderness
					modifier = { has_character_flag = adv_got_lost factor = 0 }
					character_event = { id = ADVN.8 days = 30 }
					set_character_flag = adv_got_lost
				}
				20 = { #Pinpoint Dungeon
					modifier = { has_character_flag = adv_did_pinpoint factor = 0 }
					character_event = { id = ADVN.9 days = 30 }
					set_character_flag = adv_did_pinpoint
				}
				5 = { #mercenary thugs
					modifier = { has_character_flag = adv_met_mercs factor = 0 }
					character_event = { id = ADVN.40 days = 30 }
					set_character_flag = adv_met_mercs
				}
			}
			character_event = { #dungeon found
				id = ADVN.10
				days = 40
				random = 2
			}
		}
		scaled_wealth = { value = -1 min = -50 max = -200 }
	}

	option = { #Moderate Difficulty
		name = EVTOPTB_ADVN_1
		trigger = {
			scaled_wealth = {
				value = 2
				min = 100
				max = 400
			}
			prestige >= 500
			NOT = { has_character_flag = adv_vs_host }
		}
		hidden_tooltip = {
			random_list = { #first wilderness event
				5 = { #bad weather
					character_event = { id = ADVN.3 days = 10 }
					set_character_flag = adv_bad_weather
				}
				35 = { #negotiate with locals
					character_event = { id = ADVN.4 days = 10 }
				}
				35 = { #research location
					character_event = { id = ADVN.5 days = 10 }
				}
				10 = { #sneak past a threat
					character_event = { id = ADVN.6 days = 10 }
				}
				10 = { #lost in the wilderness
					character_event = { id = ADVN.8 days = 10 }
					set_character_flag = adv_got_lost
				}
				5 = { #mercenary thugs
					character_event = { id = ADVN.40 days = 10 }
					set_character_flag = adv_met_mercs
				}
			}
			random_list = { #second wilderness event
				20 = { #random monster
					character_event = { id = ADVN.2 days = 20 }
				}
				15 = { #bad weather
					modifier = { has_character_flag = adv_bad_weather factor = 0 }
					character_event = { id = ADVN.3 days = 20 }
					set_character_flag = adv_bad_weather
				}
				15 = { #sneak past a threat
					character_event = { id = ADVN.6 days = 20 }
				}
				15 = { #forage
					character_event = { id = ADVN.7 days = 20 }
					set_character_flag = adv_did_forage
				}
				15 = { #lost in the wilderness
					modifier = { has_character_flag = adv_got_lost factor = 0 }
					character_event = { id = ADVN.8 days = 20 }
					set_character_flag = adv_got_lost
				}
				15 = { #Pinpoint Dungeon
					character_event = { id = ADVN.9 days = 20 }
					set_character_flag = adv_did_pinpoint
				}
				5 = { #mercenary thugs
					modifier = { has_character_flag = adv_met_mercs factor = 0 }
					character_event = { id = ADVN.40 days = 20 }
					set_character_flag = adv_met_mercs
				}
			}
			random_list = { #third wilderness event
				20 = { #random monster
					character_event = { id = ADVN.2 days = 30 }
				}
				10 = { #bad weather
					modifier = { has_character_flag = adv_bad_weather factor = 0 }
					character_event = { id = ADVN.3 days = 30 }
					set_character_flag = adv_bad_weather
				}
				15 = { #sneak past a threat
					character_event = { id = ADVN.6 days = 30 }
				}
				20 = { #forage
					modifier = { has_character_flag = adv_did_forage factor = 0 }
					character_event = { id = ADVN.7 days = 30 }
					set_character_flag = adv_did_forage
				}
				10 = { #lost in the wilderness
					modifier = { has_character_flag = adv_got_lost factor = 0 }
					character_event = { id = ADVN.8 days = 30 }
					set_character_flag = adv_got_lost
				}
				20 = { #Pinpoint Dungeon
					modifier = { has_character_flag = adv_did_pinpoint factor = 0 }
					character_event = { id = ADVN.9 days = 30 }
					set_character_flag = adv_did_pinpoint
				}
				5 = { #mercenary thugs
					modifier = { has_character_flag = adv_met_mercs factor = 0 }
					character_event = { id = ADVN.40 days = 30 }
					set_character_flag = adv_met_mercs
				}
			}
			character_event = { #dungeon found
				id = ADVN.10
				days = 40
				random = 2
			}
		}
		set_character_flag = adv_mod_difficulty
		scaled_wealth = { value = -2 min = -100 max = -400 }
	}

	option = { #VS Host
		name = EVTOPTC_ADVN_1
		trigger = {
			has_character_flag = adv_vs_host
		}
		hidden_tooltip = {
			random_list = { #first wilderness event
				5 = { #bad weather
					character_event = { id = ADVN.3 days = 10 }
					set_character_flag = adv_bad_weather
				}
				35 = { #negotiate with locals
					character_event = { id = ADVN.4 days = 10 }
				}
				35 = { #persuade local thugs
					character_event = { id = ADVN.43 days = 10 }
				}
				10 = { #sneak past a threat
					character_event = { id = ADVN.6 days = 10 }
				}
				15 = { #mercenary thugs
					character_event = { id = ADVN.40 days = 10 }
					set_character_flag = adv_met_mercs
				}
			}
			random_list = { #second wilderness event
				20 = { #random monster
					character_event = { id = ADVN.2 days = 20 }
				}
				15 = { #bad weather
					modifier = { has_character_flag = adv_bad_weather factor = 0 }
					character_event = { id = ADVN.3 days = 20 }
					set_character_flag = adv_bad_weather
				}
				15 = { #sneak past a threat
					character_event = { id = ADVN.6 days = 20 }
				}
				15 = { #forage
					character_event = { id = ADVN.7 days = 20 }
					set_character_flag = adv_did_forage
				}
				15 = { #Plan Attack
					character_event = { id = ADVN.44 days = 20 }
					set_character_flag = adv_did_pinpoint
				}
				20 = { #mercenary thugs
					modifier = { has_character_flag = adv_met_mercs factor = 0 }
					character_event = { id = ADVN.40 days = 20 }
					set_character_flag = adv_met_mercs
				}
			}
			random_list = { #third wilderness event
				20 = { #random monster
					character_event = { id = ADVN.2 days = 30 }
				}
				10 = { #bad weather
					modifier = { has_character_flag = adv_bad_weather factor = 0 }
					character_event = { id = ADVN.3 days = 30 }
					set_character_flag = adv_bad_weather
				}
				15 = { #sneak past a threat
					character_event = { id = ADVN.6 days = 30 }
				}
				20 = { #forage
					modifier = { has_character_flag = adv_did_forage factor = 0 }
					character_event = { id = ADVN.7 days = 30 }
					set_character_flag = adv_did_forage
				}
				20 = { #Plan Attack
					modifier = { has_character_flag = adv_did_pinpoint factor = 0 }
					character_event = { id = ADVN.44 days = 30 }
					set_character_flag = adv_did_pinpoint
				}
				15 = { #mercenary thugs
					modifier = { has_character_flag = adv_met_mercs factor = 0 }
					character_event = { id = ADVN.40 days = 30 }
					set_character_flag = adv_met_mercs
				}
			}
			character_event = { #main camp reached
				id = ADVN.37
				days = 40
				random = 2
			}
		}
		scaled_wealth = { value = -0.5 min = -25 max = -100 }
	}

	after = {
		character_event = { id = ADVN.106 days = 130 } #emergency cleanup
	}
}

### Random Monster ###
character_event = {
	id = ADVN.2
	desc = EVTDESC_ADVN_2
	picture = GFX_evt_carnage_1

	only_playable = yes

	is_triggered_only = yes


	trigger = {
		has_character_modifier = sent_adventurers
	}

	immediate = {
		hidden_tooltip = {
			random_list = {
				33 = {
					trigger = { NOT = { has_character_flag = adv_mod_difficulty } }
					set_variable = { which = local_combatant_2_combat_rating value = 20 } 
				}
				33 = {
					trigger = { NOT = { has_character_flag = adv_mod_difficulty } }
					set_variable = { which = local_combatant_2_combat_rating value = 30 } 
				}
				33 = {
					trigger = { NOT = { has_character_flag = adv_mod_difficulty } }
					set_variable = { which = local_combatant_2_combat_rating value = 40 }
				}
				33 = {
					trigger = { has_character_flag = adv_mod_difficulty }
					set_variable = { which = local_combatant_2_combat_rating value = 50 } 
				}
				33 = {
					trigger = { has_character_flag = adv_mod_difficulty }
					set_variable = { which = local_combatant_2_combat_rating value = 60 } 
				}
				33 = {
					trigger = { has_character_flag = adv_mod_difficulty }
					set_variable = { which = local_combatant_2_combat_rating value = 70 }
				}
			}
		}
	}

	option = {
		name = EVTOPTA_ADVN_2
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		event_target:party_member_1 = {
			hidden_tooltip = {
				export_to_variable = { which = local_combatant_1_combat_rating value = combat_rating }
				character_event = { id = ADVN.113 }
			}
		}
		event_target:party_member_1 = {
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}
	option = {
		name = EVTOPTB_ADVN_2
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		event_target:party_member_2 = {
			hidden_tooltip = {
				export_to_variable = { which = local_combatant_1_combat_rating value = combat_rating }
				character_event = { id = ADVN.113 }
			}
		}
		event_target:party_member_2 = {
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}
	option = {
		name = EVTOPTC_ADVN_2
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		event_target:party_member_3 = {
			hidden_tooltip = {
				export_to_variable = { which = local_combatant_1_combat_rating value = combat_rating }
				character_event = { id = ADVN.113 }
			}
		}
		event_target:party_member_3 = {
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}
	option = {
		name = EVTOPTD_ADVN_2
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		event_target:party_member_4 = {
			hidden_tooltip = {
				export_to_variable = { which = local_combatant_1_combat_rating value = combat_rating }
				character_event = { id = ADVN.113 }
			}
		}
		event_target:party_member_4 = {
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Bad Weather ###
character_event = {
	id = ADVN.3
	desc = EVTDESC_ADVN_3
	picture = GFX_evt_norse_tempest

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
		NOT = { has_character_flag = adv_negotiated_locals }
	}

	option = {
		name = EVTOPTA_ADVN_3
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_ranger = yes
							z_druid = yes
							z_barbarian = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_success_shelter_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_shelter_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_3
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_ranger = yes
							z_druid = yes
							z_barbarian = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_success_shelter_tt }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_shelter_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_3
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_ranger = yes
							z_druid = yes
							z_barbarian = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_success_shelter_tt }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_shelter_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_3
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_ranger = yes
							z_druid = yes
							z_barbarian = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_success_shelter_tt }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_shelter_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Negotiate With Locals ###
character_event = {
	id = ADVN.4
	desc = EVTDESC_ADVN_4
	picture = GFX_evt_adventurers_2

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_4
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_shadow = yes
							z_paladin = yes
							z_bard = yes
							z_psion = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_negotiated_locals_tt }
				set_character_flag = adv_negotiated_locals
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = popular_modifier
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy < 2 } factor = 1.4 }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_4
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_shadow = yes
							z_paladin = yes
							z_bard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_negotiated_locals_tt }
				set_character_flag = adv_negotiated_locals
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = popular_modifier
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy < 2 } factor = 1.4 }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_4
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_shadow = yes
							z_paladin = yes
							z_bard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_negotiated_locals_tt }
				set_character_flag = adv_negotiated_locals
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = popular_modifier
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy < 2 } factor = 1.4 }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_4
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_shadow = yes
							z_paladin = yes
							z_bard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_negotiated_locals_tt }
				set_character_flag = adv_negotiated_locals
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = popular_modifier
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy < 2 } factor = 1.4 }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Research Location ###
character_event = {
	id = ADVN.5
	desc = EVTDESC_ADVN_5
	picture = GFX_evt_adventurers_4

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_5
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_warlock = yes
							z_bard = yes
							z_wizard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_researched_loc_tt }
				set_character_flag = adv_researched_loc
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = new_insights
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning < 2 } factor = 1.4 }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_5
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_warlock = yes
							z_bard = yes
							z_wizard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_researched_loc_tt }
				set_character_flag = adv_researched_loc
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = new_insights
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning < 2 } factor = 1.4 }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_5
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_warlock = yes
							z_bard = yes
							z_wizard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_researched_loc_tt }
				set_character_flag = adv_researched_loc
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = new_insights
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning < 2 } factor = 1.4 }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_5
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_warlock = yes
							z_bard = yes
							z_wizard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_researched_loc_tt }
				set_character_flag = adv_researched_loc
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = new_insights
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning < 2 } factor = 1.4 }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Sneak Past Enemy ###
character_event = {
	id = ADVN.6
	picture = GFX_evt_sneak_attack

	desc = {
		trigger = {
			NOT = { has_character_flag = adv_vs_host }
		}
		text = EVTDESC_ADVN_6
	}
	desc = {
		trigger = {
			has_character_flag = adv_vs_host
		}
		text = EVTDESC_ADVN_6_b
	}

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_6
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { intrigue = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { intrigue = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { intrigue = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { intrigue = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { intrigue = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { intrigue = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { intrigue = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_rogue = yes
							z_shadow = yes
							z_monk = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_sneaks_past_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { intrigue < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { intrigue < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							trait = expert_rogue
							trait = master_rogue
							trait = renowned_rogue
							trait = legendary_rogue
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				if = {
					limit = {
						has_character_flag = adv_vs_host
					}
					character_event = { id = ADVN.45 days = 1 }
				}
				else = {
					character_event = { id = ADVN.2 days = 1 }
				}
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_6
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { intrigue = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { intrigue = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { intrigue = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { intrigue = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { intrigue = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { intrigue = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { intrigue = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_rogue = yes
							z_shadow = yes
							z_monk = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_sneaks_past_tt }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { intrigue < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { intrigue < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							trait = expert_rogue
							trait = master_rogue
							trait = renowned_rogue
							trait = legendary_rogue
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				if = {
					limit = {
						has_character_flag = adv_vs_host
					}
					character_event = { id = ADVN.45 days = 1 }
				}
				else = {
					character_event = { id = ADVN.2 days = 1 }
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_6
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { intrigue = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { intrigue = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { intrigue = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { intrigue = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { intrigue = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { intrigue = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { intrigue = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_rogue = yes
							z_shadow = yes
							z_monk = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_sneaks_past_tt }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { intrigue < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { intrigue < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							trait = expert_rogue
							trait = master_rogue
							trait = renowned_rogue
							trait = legendary_rogue
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				if = {
					limit = {
						has_character_flag = adv_vs_host
					}
					character_event = { id = ADVN.45 days = 1 }
				}
				else = {
					character_event = { id = ADVN.2 days = 1 }
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_6
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { intrigue = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { intrigue = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { intrigue = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { intrigue = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { intrigue = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { intrigue = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { intrigue = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_rogue = yes
							z_shadow = yes
							z_monk = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_sneaks_past_tt }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { intrigue < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { intrigue < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							trait = expert_rogue
							trait = master_rogue
							trait = renowned_rogue
							trait = legendary_rogue
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				if = {
					limit = {
						has_character_flag = adv_vs_host
					}
					character_event = { id = ADVN.45 days = 1 }
				}
				else = {
					character_event = { id = ADVN.2 days = 1 }
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Forage ###
character_event = {
	id = ADVN.7
	desc = EVTDESC_ADVN_7
	picture = GFX_evt_camp_fire

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
		NOT = { has_character_flag = adv_negotiated_locals }
	}

	option = {
		name = EVTOPTA_ADVN_7
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_ranger = yes
							z_druid = yes
							z_barbarian = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_success_forage_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_forage_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_7
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_ranger = yes
							z_druid = yes
							z_barbarian = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_success_forage_tt }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_forage_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_7
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_ranger = yes
							z_druid = yes
							z_barbarian = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_success_forage_tt }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_forage_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_7
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_ranger = yes
							z_druid = yes
							z_barbarian = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_success_forage_tt }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_forage_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Lost in the Wilderness ###
character_event = {
	id = ADVN.8
	desc = EVTDESC_ADVN_8
	picture = GFX_evt_high_forest

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
		NOT = { has_character_flag = adv_researched_loc }
	}

	option = {
		name = EVTOPTA_ADVN_8
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_ranger = yes
							z_druid = yes
						}
					}
					factor = 5
				}
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_8
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_ranger = yes
							z_druid = yes
						}
					}
					factor = 5
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_8
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_ranger = yes
							z_druid = yes
						}
					}
					factor = 5
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_8
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_ranger = yes
							z_druid = yes
						}
					}
					factor = 5
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Pinpoint Dungeon ###
character_event = {
	id = ADVN.9
	desc = EVTDESC_ADVN_9
	picture = GFX_evt_ruins_1

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
		NOT = { has_character_flag = adv_researched_loc }
	}

	option = {
		name = EVTOPTA_ADVN_9
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						is_smart_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_researched_loc_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_1 = {
						is_dumb_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_9
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						is_smart_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_researched_loc_tt }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_2 = {
						is_dumb_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_9
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						is_smart_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_researched_loc_tt }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_3 = {
						is_dumb_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_9
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						is_smart_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_researched_loc_tt }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_4 = {
						is_dumb_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

#Healing Opportunity & Dungeon Adventure Tombola
character_event = {
	id = ADVN.10
	desc = EVTDESC_ADVN_10
	picture = GFX_evt_dungeons_1

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	immediate = {
		random_list = { #first dungeon event
			10 = { #trap
				character_event = { id = ADVN.12 days = 10 }
				set_character_flag = adv_its_a_trap
			}
			10 = { #strange magic
				character_event = { id = ADVN.13 days = 10 }
				set_character_flag = adv_strange_magic
			}
			10 = { #sneak past a threat
				character_event = { id = ADVN.6 days = 10 }
			}
			10 = { #blocked passage
				character_event = { id = ADVN.41 days = 10 }
				set_character_flag = adv_cave_in
			}
			10 = { #non-hostile monsters
				character_event = { id = ADVN.42 days = 10 }
				set_character_flag = adv_passive_monster
			}
		}
		random_list = { #second dungeon event
			40 = { #random monster
				character_event = { id = ADVN.2 days = 20 }
			}
			12 = { #trap
				modifier = { has_character_flag = adv_its_a_trap factor = 0 }
				character_event = { id = ADVN.12 days = 20 }
				set_character_flag = adv_its_a_trap
			}
			12 = { #strange magic
				modifier = { has_character_flag = adv_strange_magic factor = 0 }
				character_event = { id = ADVN.13 days = 20 }
				set_character_flag = adv_strange_magic
			}
			12 = { #sneak past a threat
				character_event = { id = ADVN.6 days = 20 }
			}
			12 = { #blocked passage
				modifier = { has_character_flag = adv_cave_in factor = 0 }
				character_event = { id = ADVN.41 days = 20 }
				set_character_flag = adv_cave_in
			}
			12 = { #non-hostile monsters
				modifier = { has_character_flag = adv_passive_monster factor = 0 }
				character_event = { id = ADVN.42 days = 20 }
				set_character_flag = adv_passive_monster
			}
		}
		character_event = { id = ADVN.2 days = 30 } #third dungeon event, always a monster
		character_event = { #final boss
			id = ADVN.20
			days = 40
			random = 2
		}
	}

	option = {
		name = EVTOPTA_ADVN_10
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { learning = 50 } factor = 3 }
				modifier = { event_target:party_member_1 = { trait = physician } factor = 5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_cleric = yes
							z_druid = yes
							z_bard = yes
							AND = {
								z_warlock = yes
								trait = warlock_celestial
							}
						}
					}
					factor = 10
				}

				event_target:party_member_1 = {
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_2 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_3 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_4 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							trait = expert_druid
							trait = expert_cleric
							AND = {
								trait = warlock_celestial
								trait = expert_warlock
							}
							trait = expert_bard
							trait = master_druid
							trait = master_cleric
							AND = {
								trait = warlock_celestial
								trait = master_warlock
							}
							trait = master_bard
							trait = renowned_druid
							trait = renowned_cleric
							AND = {
								trait = warlock_celestial
								trait = renowned_warlock
							}
							trait = renowned_bard
							trait = renowned_ranger
							trait = renowned_paladin
							trait = legendary_druid
							trait = legendary_cleric
							AND = {
								trait = warlock_celestial
								trait = legendary_warlock
							}
							trait = legendary_bard
							trait = legendary_ranger
							trait = legendary_paladin
						}
					}
					factor = 0.5
				}
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_10
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { learning = 50 } factor = 3 }
				modifier = { event_target:party_member_2 = { trait = physician } factor = 5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_cleric = yes
							z_druid = yes
							z_bard = yes
							AND = {
								z_warlock = yes
								trait = warlock_celestial
							}
						}
					}
					factor = 10
				}

				event_target:party_member_1 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_2 = {
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_3 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_4 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}

			}
			40 = {
				modifier = { event_target:party_member_2 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							trait = expert_druid
							trait = expert_cleric
							AND = {
								trait = warlock_celestial
								trait = expert_warlock
							}
							trait = expert_bard
							trait = master_druid
							trait = master_cleric
							AND = {
								trait = warlock_celestial
								trait = master_warlock
							}
							trait = master_bard
							trait = renowned_druid
							trait = renowned_cleric
							AND = {
								trait = warlock_celestial
								trait = renowned_warlock
							}
							trait = renowned_bard
							trait = renowned_ranger
							trait = renowned_paladin
							trait = legendary_druid
							trait = legendary_cleric
							AND = {
								trait = warlock_celestial
								trait = legendary_warlock
							}
							trait = legendary_bard
							trait = legendary_ranger
							trait = legendary_paladin
						}
					}
					factor = 0.5
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_10
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { learning = 50 } factor = 3 }
				modifier = { event_target:party_member_3 = { trait = physician } factor = 5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_cleric = yes
							z_druid = yes
							z_bard = yes
							AND = {
								z_warlock = yes
								trait = warlock_celestial
							}
						}
					}
					factor = 10
				}

				event_target:party_member_1 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_2 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_3 = {
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_4 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}

			}
			40 = {
				modifier = { event_target:party_member_3 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							trait = expert_druid
							trait = expert_cleric
							AND = {
								trait = warlock_celestial
								trait = expert_warlock
							}
							trait = expert_bard
							trait = master_druid
							trait = master_cleric
							AND = {
								trait = warlock_celestial
								trait = master_warlock
							}
							trait = master_bard
							trait = renowned_druid
							trait = renowned_cleric
							AND = {
								trait = warlock_celestial
								trait = renowned_warlock
							}
							trait = renowned_bard
							trait = renowned_ranger
							trait = renowned_paladin
							trait = legendary_druid
							trait = legendary_cleric
							AND = {
								trait = warlock_celestial
								trait = legendary_warlock
							}
							trait = legendary_bard
							trait = legendary_ranger
							trait = legendary_paladin
						}
					}
					factor = 0.5
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_10
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { learning = 50 } factor = 3 }
				modifier = { event_target:party_member_4 = { trait = physician } factor = 5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_cleric = yes
							z_druid = yes
							z_bard = yes
							AND = {
								z_warlock = yes
								trait = warlock_celestial
							}
						}
					}
					factor = 10
				}

				event_target:party_member_1 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_2 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_3 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_4 = {
					heal_wounds_adv_effect = yes
				}

			}
			40 = {
				modifier = { event_target:party_member_4 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							trait = expert_druid
							trait = expert_cleric
							AND = {
								trait = warlock_celestial
								trait = expert_warlock
							}
							trait = expert_bard
							trait = master_druid
							trait = master_cleric
							AND = {
								trait = warlock_celestial
								trait = master_warlock
							}
							trait = master_bard
							trait = renowned_druid
							trait = renowned_cleric
							AND = {
								trait = warlock_celestial
								trait = renowned_warlock
							}
							trait = renowned_bard
							trait = renowned_ranger
							trait = renowned_paladin
							trait = legendary_druid
							trait = legendary_cleric
							AND = {
								trait = warlock_celestial
								trait = legendary_warlock
							}
							trait = legendary_bard
							trait = legendary_ranger
							trait = legendary_paladin
						}
					}
					factor = 0.5
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Trap ###
character_event = {
	id = ADVN.12
	desc = EVTDESC_ADVN_12
	picture = GFX_evt_traps_1

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_12
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { intrigue = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { intrigue = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { intrigue = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { intrigue = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { intrigue = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { intrigue = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { intrigue = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_rogue = yes
							z_shadow = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_disarm_trap_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { intrigue < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { intrigue < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							trait = expert_rogue
							trait = master_rogue
							trait = renowned_rogue
							trait = legendary_rogue
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_disarm_trap_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_12
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { intrigue = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { intrigue = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { intrigue = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { intrigue = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { intrigue = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { intrigue = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { intrigue = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_rogue = yes
							z_shadow = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_disarm_trap_tt }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { intrigue < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { intrigue < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							trait = expert_rogue
							trait = master_rogue
							trait = renowned_rogue
							trait = legendary_rogue
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_disarm_trap_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_12
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { intrigue = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { intrigue = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { intrigue = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { intrigue = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { intrigue = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { intrigue = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { intrigue = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_rogue = yes
							z_shadow = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_disarm_trap_tt }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { intrigue < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { intrigue < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							trait = expert_rogue
							trait = master_rogue
							trait = renowned_rogue
							trait = legendary_rogue
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_disarm_trap_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_12
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { intrigue = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { intrigue = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { intrigue = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { intrigue = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { intrigue = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { intrigue = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { intrigue = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_rogue = yes
							z_shadow = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_disarm_trap_tt }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { intrigue < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { intrigue < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							trait = expert_rogue
							trait = master_rogue
							trait = renowned_rogue
							trait = legendary_rogue
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_disarm_trap_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Strange Magic ###
character_event = {
	id = ADVN.13
	desc = EVTDESC_ADVN_13
	picture = GFX_evt_magic_cave

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_13
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_warlock = yes
							z_sorcerer = yes
							z_wizard = yes
							z_psion = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_avoided_magic_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							trait = expert_sorcerer
							trait = master_sorcerer
							trait = renowned_sorcerer
							trait = legendary_sorcerer
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_hurt_magic_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_13
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_warlock = yes
							z_sorcerer = yes
							z_wizard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_avoided_magic_tt }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							trait = expert_sorcerer
							trait = master_sorcerer
							trait = renowned_sorcerer
							trait = legendary_sorcerer
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_hurt_magic_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_13
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_warlock = yes
							z_sorcerer = yes
							z_wizard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_avoided_magic_tt }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							trait = expert_sorcerer
							trait = master_sorcerer
							trait = renowned_sorcerer
							trait = legendary_sorcerer
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_hurt_magic_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_13
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_warlock = yes
							z_sorcerer = yes
							z_wizard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_avoided_magic_tt }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							trait = expert_sorcerer
							trait = master_sorcerer
							trait = renowned_sorcerer
							trait = legendary_sorcerer
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_hurt_magic_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

#Final Boss
character_event = {
	id = ADVN.20
	desc = EVTDESC_ADVN_20
	portrait = event_target:final_boss

	picture = {
		trigger = { event_target:final_boss = { culture = orc } }
		picture = GFX_evt_orcs
	}
	picture = {
		trigger = { event_target:final_boss = { culture = goblin } }
		picture = GFX_evt_goblin_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = hobgoblin } }
		picture = GFX_evt_hobgoblin_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = bugbear } }
		picture = GFX_evt_bugbear_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = gnoll } }
		picture = GFX_evt_gnoll_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = ogre } }
		picture = GFX_evt_ogre_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = kobold } }
		picture = GFX_evt_kobold_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = drow } }
		picture = GFX_evt_drow_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = sahuagin } }
		picture = GFX_evt_sahuagin_1
	}
	picture = {
		trigger = { event_target:final_boss = { trait = undead } }
		picture = GFX_evt_undead_3
	}
	picture = {
		trigger = { event_target:final_boss = { culture = ogre_magi } }
		picture = GFX_evt_ogre_magi
	}
	picture = {
		trigger = { event_target:final_boss = { culture = troll } }
		picture = GFX_evt_troll_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = minotaur } }
		picture = GFX_evt_minotaur_1
	}
	picture = {
		trigger = { event_target:final_boss = { trait = creature_giant } }
		picture = GFX_evt_giant_fire
	}
	picture = {
		trigger = { event_target:final_boss = { culture = illithid } }
		picture = GFX_evt_mind_flayers_2
	}
	picture = {
		trigger = { event_target:final_boss = { culture = beholder } }
		picture = GFX_evt_beholder_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = aboleth } }
		picture = GFX_evt_aboleth_1
	}
	picture = {
		trigger = { event_target:final_boss = { trait = creature_dragon } }
		picture = GFX_evt_dragon_2
	}
	picture = {
		trigger = { event_target:final_boss = { trait = vampire } }
		picture = GFX_evt_vampire_1
	}
	picture = {
		trigger = { event_target:final_boss = { trait = natural_lycanthrope } }
		picture = GFX_evt_werewolf
	}
	picture = {
		trigger = { event_target:final_boss = { culture = naga } }
		picture = GFX_evt_naga_2
	}
	picture = {
		trigger = { event_target:final_boss = { culture = baatezu } }
		picture = GFX_evt_devils_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = tanarri } }
		picture = GFX_evt_demons_1
	}

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	immediate = {
		random_list = {
			24 = { #orc
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					female = no
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 4
					}
					culture = orc
					religion = orc_pantheon
					dynasty = none
					flag = special_courtier
				}
			}
			8 = { #goblin
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 4
					}
					culture = goblin
					religion = goblin_pantheon
					dynasty = none
					flag = special_courtier
				}
			}
			8 = { #hobgoblin
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 4
					}
					culture = hobgoblin
					religion = goblin_pantheon
					dynasty = none
					flag = special_courtier
				}
			}
			8 = { #bugbear
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 4
					}
					culture = bugbear
					religion = goblin_pantheon
					dynasty = none
					flag = special_courtier
				}
			}
			8 = { #gnoll
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 4
					}
					culture = gnoll
					religion = abyssal_cult
					dynasty = none
					flag = special_courtier
				}
			}
			8 = { #ogre
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 4
					}
					culture = ogre
					religion = vaprak
					dynasty = none
					flag = special_courtier
				}
			}
			8 = { #kobold
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 7
						martial = 7
						stewardship = 4
						intrigue = 6
						learning = 4
					}
					culture = kobold
					religion = tiamat
					dynasty = none
					flag = special_courtier
				}
			}
			8 = { #drow
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					female = yes
					attributes = {
						diplomacy = 6
						martial = 6
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = drow
					religion = lolth_cult
					dynasty = none
					flag = special_courtier
				}
			}
			8 = { #sahuagin
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				modifier = {
					ROOT = {
						capital_scope = {
							port = no
						}
					}
					factor = 0
				}
				modifier = {
					ROOT = {
						capital_scope = {
							is_island = yes
						}
					}
					factor = 5
				}
				create_random_soldier = {
					random_traits = yes
					female = no
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 4
					}
					culture = sahuagin
					religion = infernal
					add_trait = sahuagin_warrior
					dynasty = none
					flag = special_courtier
				}
			}
			12 = { #undead
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					trait = undead
					culture = ROOT
					dynasty = none
				}
			}

			7 = { #oni
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = ogre_magi
					religion = vaprak
					trait = expert_fighter
					trait = journeyman_sorcerer
					dynasty = none
					flag = special_courtier
				}
			}
			7 = { #troll
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = troll
					religion = vaprak
					dynasty = none
					flag = special_courtier
				}
			}
			7 = { #minotaur
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = minotaur
					religion = abyssal_cult
					trait = master_barbarian
					trait = patron_baphomet
					dynasty = none
					flag = special_courtier
				}
			}
			7 = { #giant
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = hill_giant
					religion = giant_pantheon
					dynasty = none
					flag = special_courtier
				}
			}
			7 = { #illithid
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = illithid
					religion = illithid_pantheon
					trait = genius
					dynasty = none
					flag = special_courtier
				}
			}
			7 = { #beholder
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = beholder
					religion = beholder_pantheon
					trait = shrewd
					dynasty = none
					flag = special_courtier
				}
			}
			7 = { #aboleth
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = aboleth
					religion = faithless
					trait = genius
					dynasty = none
					flag = special_courtier
				}
			}
			7 = { #young dragon
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = draconic
					religion = tiamat
					trait = journeyman_sorcerer
					dynasty = none
					flag = special_courtier
				}
				change_variable = {
					which = global_counter_dragon
					value = 1
				}
			}
			10 = { #vampire
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 8
					}
					trait = vampire
					trait = robust
					trait = shrewd
					culture = ROOT
					dynasty = none
				}
			}
			10 = { #lycan
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					trait = creature_human
					trait = natural_lycanthrope
					culture = ROOT
					religion = deities_of_fury
					trait = patron_malar
					dynasty = none
				}
			}
			10 = { #naga
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = naga
					religion = scale_cult
					dynasty = none
					flag = special_courtier
				}
			}
			7 = { #baatezu
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = baatezu
					religion = infernal
					dynasty = none
					flag = special_courtier
				}
				change_variable = {
					which = global_counter_baator
					value = 1
				}
			}
			7 = { #tanarri
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = tanarri
					religion = abyssal_cult
					dynasty = none
					flag = special_courtier
				}
			}
		}
		new_character = {
			save_event_target_as = final_boss
			save_event_target_as = combatant_2
			remove_weak_congenital_trait_effect = yes
			remove_dumb_congenital_trait_effect = yes
			remove_trait = craven
			remove_trait = kind
			remove_trait = charitable
			
			trigger_switch = {
				on_trigger = trait
				creature_orc = {
					random_list = {
						1 = {
							add_trait = trained_barbarian
						}
						1 = {
							add_trait = journeyman_barbarian
						}
					}
				}
				creature_goblin = {
					random_list = {
						1 = {
							add_trait = trained_rogue
						}
						1 = {
							add_trait = journeyman_rogue
						}
					}
				}
				creature_hobgoblin = {
					random_list = {
						1 = {
							add_trait = trained_fighter
						}
						1 = {
							add_trait = journeyman_fighter
						}
					}
				}
				creature_bugbear = {
					random_list = {
						1 = {
							add_trait = trained_ranger
						}
						1 = {
							add_trait = journeyman_ranger
						}
					}
				}
				creature_gnoll = {
					random_list = {
						1 = {
							add_trait = trained_barbarian
						}
						1 = {
							add_trait = journeyman_barbarian
						}
					}
				}
				creature_ogre = {
					random_list = {
						1 = {
							add_trait = trained_barbarian
						}
						1 = {
							add_trait = journeyman_barbarian
						}
					}
				}
				creature_kobold = {
					random_list = {
						1 = {
							add_trait = trained_sorcerer
						}
						1 = {
							add_trait = journeyman_sorcerer
						}
					}
				}
				creature_drow = {
					random_list = {
						1 = {
							add_trait = trained_cleric
						}
						1 = {
							add_trait = journeyman_cleric
						}
					}
				}
				creature_sahuagin = {
					random_list = {
						1 = {
							add_trait = trained_fighter
						}
						1 = {
							add_trait = journeyman_fighter
						}
					}
				}
				undead = {
					random_list = {
						1 = {
							religion = dead_three
						}
						1 = {
							religion = shadow_gods
						}
						1 = {
							religion = church_of_cyric
						}
						1 = {
							religion = abyssal_cult
						}
						1 = {
							religion = infernal
						}
					}
					random_list = {
						1 = {
							add_trait = journeyman_cleric
						}
						1 = {
							add_trait = journeyman_paladin
						}
						1 = {
							add_trait = journeyman_fighter
						}
						1 = {
							add_trait = journeyman_monk
						}
						1 = {
							add_trait = journeyman_rogue
						}
						1 = {
							add_trait = journeyman_wizard
							add_trait = wiz_necromancy
						}
					}
				}
				creature_troll = {
					random_list = {
						1 = {
							add_trait = expert_barbarian
						}
						1 = {
							add_trait = master_barbarian
						}
					}
				}
				creature_minotaur = {
					random_list = {
						1 = {
							add_trait = expert_barbarian
						}
						1 = {
							add_trait = master_barbarian
						}
					}
				}
				creature_giant = {
					random_list = {
						1 = {
						}
						1 = {
							culture = stone_giant
							set_graphical_culture = stone_giant
						}
						1 = {
							culture = frost_giant
							set_graphical_culture = frost_giant
						}
						1 = {
							culture = fire_giant
							set_graphical_culture = fire_giant
						}
						1 = {
							culture = fog_giant
							set_graphical_culture = fog_giant
						}
					}
					random_list = {
						1 = {
							add_trait = expert_cleric
						}
						1 = {
							add_trait = expert_barbarian
						}
						1 = {
							add_trait = master_cleric
						}
						1 = {
							add_trait = master_barbarian
						}
					}
				}
				creature_illithid = {
					random_list = {
						2 = {
						}
						1 = {
							add_trait = creature_ulitharid
						}
					}
					random_list = {
						1 = {
							add_trait = expert_sorcerer
						}
						1 = {
							add_trait = master_sorcerer
						}
					}
				}
				creature_beholder = {
					random_list = {
						2 = {
						}
						1 = {
							add_trait = elder_orb
							add_trait = giant
							add_trait = strong
						}
					}
					random_list = {
						1 = {
							add_trait = expert_sorcerer
						}
						1 = {
							add_trait = master_sorcerer
						}
					}
				}
				creature_aboleth = {
					random_list = {
						1 = {
							add_trait = expert_wizard
						}
						1 = {
							add_trait = master_wizard
						}
					}
					add_trait = wiz_abjuration
				}
				creature_dragon = {
					random_list = {
						1 = {
							culture = red_dragon
							set_graphical_culture = red_dragon
						}
						1 = {
							culture = blue_dragon
							set_graphical_culture = blue_dragon
						}
						1 = {
							culture = black_dragon
							set_graphical_culture = black_dragon
						}
						1 = {
							culture = green_dragon
							set_graphical_culture = green_dragon
						}
						1 = {
							culture = white_dragon
							set_graphical_culture = white_dragon
						}
						1 = {
							culture = brown_dragon
							set_graphical_culture = brown_dragon
						}
					}
				}
				vampire = {
					random_list = {
						1 = {
							religion = dead_three
						}
						1 = {
							religion = shadow_gods
						}
						1 = {
							religion = church_of_cyric
						}
						1 = {
							religion = abyssal_cult
						}
						1 = {
							religion = infernal
						}
					}
					random_list = {
						1 = {
							add_trait = expert_cleric
						}
						1 = {
							add_trait = expert_paladin
						}
						1 = {
							add_trait = expert_fighter
						}
						1 = {
							add_trait = expert_monk
						}
						1 = {
							add_trait = expert_rogue
						}
						1 = {
							add_trait = expert_wizard
							add_trait = wiz_necromancy
						}
						1 = {
							add_trait = master_cleric
						}
						1 = {
							add_trait = master_paladin
						}
						1 = {
							add_trait = master_fighter
						}
						1 = {
							add_trait = master_monk
						}
						1 = {
							add_trait = master_rogue
						}
						1 = {
							add_trait = master_wizard
							add_trait = wiz_necromancy
						}
					}
				}
				natural_lycanthrope = {
					random_list = {
						4 = {
							add_trait = werewolf
						}
						3 = {
							add_trait = wererat
						}
						2 = {
							add_trait = weretiger
						}
						1 = {
							add_trait = werecrocodile
						}
					}
					random_list = {
						1 = {
							add_trait = expert_fighter
						}
						1 = {
							add_trait = expert_barbarian
						}
						1 = {
							add_trait = expert_ranger
						}
						1 = {
							add_trait = master_fighter
						}
						1 = {
							add_trait = master_barbarian
						}
						1 = {
							add_trait = master_ranger
						}
					}
					update_hidden_modifiers = yes
				}
				creature_naga = {
					random_list = {
						1 = {
							add_trait = expert_wizard
						}
						1 = {
							add_trait = master_wizard
						}
					}
					add_trait = wiz_abjuration
				}
				creature_fiend = {
					random_list = {
						1 = {
							add_trait = expert_warlock
						}
						1 = {
							add_trait = master_warlock
						}
					}
					add_trait = warlock_fiend
					set_character_flag = got_warlock_pact_weapon
					add_artifact = warlock_pact_weapon
				}
			}

			character_event = { id = ADVN.102 }
			character_event = { id = frxp.1 }
		}
	}

	option = {
		name = EVTOPTA_ADVN_20
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		event_target:party_member_1 = {
			save_event_target_as = combatant_1
			character_event = { id = ADVN.100 }
		}
		event_target:party_member_1 = {
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}
	option = {
		name = EVTOPTB_ADVN_20
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		event_target:party_member_2 = {
			save_event_target_as = combatant_1
			character_event = { id = ADVN.100 }
		}
		event_target:party_member_2 = {
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}
	option = {
		name = EVTOPTC_ADVN_20
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		event_target:party_member_3 = {
			save_event_target_as = combatant_1
			character_event = { id = ADVN.100 }
		}
		event_target:party_member_3 = {
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}
	option = {
		name = EVTOPTD_ADVN_20
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		event_target:party_member_4 = {
			save_event_target_as = combatant_1
			character_event = { id = ADVN.100 }
		}
		event_target:party_member_4 = {
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}

	after = {
		if = {
			limit = {
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.109 days = 1  }
		}
		else = { #ending
			character_event = { id = ADVN.30 days = 1  }
		}
	}
}

#Final Boss keeps fighting
character_event = {
	id = ADVN.21
	desc = EVTDESC_ADVN_21
	portrait = event_target:final_boss

	picture = {
		trigger = { event_target:final_boss = { culture = orc } }
		picture = GFX_evt_orcs
	}
	picture = {
		trigger = { event_target:final_boss = { culture = goblin } }
		picture = GFX_evt_goblin_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = hobgoblin } }
		picture = GFX_evt_hobgoblin_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = bugbear } }
		picture = GFX_evt_bugbear_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = gnoll } }
		picture = GFX_evt_gnoll_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = ogre } }
		picture = GFX_evt_ogre_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = kobold } }
		picture = GFX_evt_kobold_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = drow } }
		picture = GFX_evt_drow_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = sahuagin } }
		picture = GFX_evt_sahuagin_1
	}
	picture = {
		trigger = { event_target:final_boss = { trait = undead } }
		picture = GFX_evt_undead_3
	}
	picture = {
		trigger = { event_target:final_boss = { culture = ogre_magi } }
		picture = GFX_evt_ogre_magi
	}
	picture = {
		trigger = { event_target:final_boss = { culture = troll } }
		picture = GFX_evt_troll_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = minotaur } }
		picture = GFX_evt_minotaur_1
	}
	picture = {
		trigger = { event_target:final_boss = { trait = creature_giant } }
		picture = GFX_evt_giant_fire
	}
	picture = {
		trigger = { event_target:final_boss = { culture = illithid } }
		picture = GFX_evt_mind_flayers_2
	}
	picture = {
		trigger = { event_target:final_boss = { culture = beholder } }
		picture = GFX_evt_beholder_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = aboleth } }
		picture = GFX_evt_aboleth_1
	}
	picture = {
		trigger = { event_target:final_boss = { trait = creature_dragon } }
		picture = GFX_evt_dragon_2
	}
	picture = {
		trigger = { event_target:final_boss = { trait = vampire } }
		picture = GFX_evt_vampire_1
	}
	picture = {
		trigger = { event_target:final_boss = { trait = natural_lycanthrope } }
		picture = GFX_evt_werewolf
	}
	picture = {
		trigger = { event_target:final_boss = { culture = naga } }
		picture = GFX_evt_naga_2
	}
	picture = {
		trigger = { event_target:final_boss = { culture = baatezu } }
		picture = GFX_evt_devils_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = tanarri } }
		picture = GFX_evt_demons_1
	}

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_21
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		event_target:party_member_1 = {
			save_event_target_as = combatant_1
			event_target:final_boss = {
				save_event_target_as = combatant_2
			}
			character_event = { id = ADVN.100 }
		}
		if = {
			limit = {
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.109 days = 1  }
		}
		else = { #ending
			character_event = { id = ADVN.30 days = 1  }
		}
	}
	option = {
		name = EVTOPTB_ADVN_21
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		event_target:party_member_2 = {
			save_event_target_as = combatant_1
			event_target:final_boss = {
				save_event_target_as = combatant_2
			}
			character_event = { id = ADVN.100 }
		}
		if = {
			limit = {
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.109 days = 1  }
		}
		else = { #ending
			character_event = { id = ADVN.30 days = 1  }
		}
	}
	option = {
		name = EVTOPTC_ADVN_21
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		event_target:party_member_3 = {
			save_event_target_as = combatant_1
			event_target:final_boss = {
				save_event_target_as = combatant_2
			}
			character_event = { id = ADVN.100 }
		}
		if = {
			limit = {
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.109 days = 1  }
		}
		else = { #ending
			character_event = { id = ADVN.30 days = 1  }
		}
	}
	option = {
		name = EVTOPTD_ADVN_21
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		event_target:party_member_4 = {
			save_event_target_as = combatant_1
			event_target:final_boss = {
				save_event_target_as = combatant_2
			}
			character_event = { id = ADVN.100 }
		}
		if = {
			limit = {
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.109 days = 1  }
		}
		else = { #ending
			character_event = { id = ADVN.30 days = 1  }
		}
	}
	option = {
		name = EVTOPTE_ADVN_21
		trigger = {
			OR = {
				event_target:party_member_1 = { is_alive = no }
				event_target:party_member_2 = { is_alive = no }
				event_target:party_member_3 = { is_alive = no }
				event_target:party_member_4 = { is_alive = no }
			}
		}
		character_event = { id = ADVN.31 }
	}
}

#Good Ending Post-Final Boss
character_event = {
	id = ADVN.30
	desc = EVTDESC_ADVN_30
	picture = GFX_evt_adventurers

	is_triggered_only = yes

	immediate = {
		event_target:party_member_1 = {
			adventurer_reward_effect = yes
		}
		event_target:party_member_2 = {
			adventurer_reward_effect = yes
		}
		event_target:party_member_3 = {
			adventurer_reward_effect = yes
		}
		event_target:party_member_4 = {
			adventurer_reward_effect = yes
		}
	}

	option = {
		name = EVTOPTA_ADVN_30
		if = {
			limit = {
				has_character_flag = adv_mod_difficulty
			}
			prestige = 200
			random_list = {
				20 = {
					random_major_magic_item_effect = yes
				}
				80 = {
					random_art_object_effect = yes
				}
			}
		}
		else = {
			prestige = 100
			random_list = {
				20 = {
					random_magic_item_effect = yes
				}
				80 = {
					random_minor_art_object_effect = yes
				}
			}
		}

		hidden_tooltip = {
			adventure_cleanup_effect = yes
		}
	}
}

#Bad Ending Post-Final Boss
character_event = {
	id = ADVN.31
	desc = EVTDESC_ADVN_31
	picture = GFX_evt_died_battle

	is_triggered_only = yes

	option = {
		name = EVTOPTA_ADVN_31
		prestige = -100

		if = {
			limit = {
				event_target:final_boss = {
					is_alive = yes
				}
			}
			add_rival = event_target:final_boss
			hidden_tooltip = {
				event_target:final_boss = {
					if = {
						limit = {
							ROOT = { has_character_flag = adv_mod_difficulty }
						}
						wealth = 600
						random_major_magic_item_effect = yes
						random_art_object_effect = yes
						hidden_tooltip = {
							set_variable = { which = local_xp_to_add value = 600 }
							set_character_flag = granting_full_xp_flag
							add_custom_xp_effect = yes
						}
					}
					else = {
						wealth = 300
						random_magic_item_effect = yes
						random_minor_art_object_effect = yes
						hidden_tooltip = {
							set_variable = { which = local_xp_to_add value = 300 }
							set_character_flag = granting_full_xp_flag
							add_custom_xp_effect = yes
						}
					}
					add_trait_adventurer_effect = yes
				}
			}
			adventure_cleanup_effect = yes
			event_target:party_member_1 = {
				heal_wounds_adv_effect = yes
			}
			event_target:party_member_2 = {
				heal_wounds_adv_effect = yes
			}
			event_target:party_member_3 = {
				heal_wounds_adv_effect = yes
			}
			event_target:party_member_4 = {
				heal_wounds_adv_effect = yes
			}
		}
	}
}

#Bad Ending Pre-Final Boss
character_event = {
	id = ADVN.32
	desc = EVTDESC_ADVN_32
	picture = GFX_evt_died_battle

	is_triggered_only = yes

	option = {
		name = EVTOPTA_ADVN_32
		prestige = -100
		hidden_tooltip = {
			adventure_cleanup_effect = yes
			event_target:party_member_1 = {
				heal_wounds_adv_effect = yes
			}
			event_target:party_member_2 = {
				heal_wounds_adv_effect = yes
			}
			event_target:party_member_3 = {
				heal_wounds_adv_effect = yes
			}
			event_target:party_member_4 = {
				heal_wounds_adv_effect = yes
			}
		}
	}
}

#Host Leader
character_event = {
	id = ADVN.33
	desc = EVTDESC_ADVN_33
	picture = GFX_evt_large_army
	portrait = event_target:final_boss

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	immediate = {
		event_target:final_boss = {
			save_event_target_as = combatant_2
		}
	}

	option = {
		name = EVTOPTA_ADVN_20
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		event_target:party_member_1 = {
			save_event_target_as = combatant_1
			character_event = { id = ADVN.100 }
		}
		event_target:party_member_1 = {
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}
	option = {
		name = EVTOPTB_ADVN_20
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		event_target:party_member_2 = {
			save_event_target_as = combatant_1
			character_event = { id = ADVN.100 }
		}
		event_target:party_member_2 = {
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}
	option = {
		name = EVTOPTC_ADVN_20
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		event_target:party_member_3 = {
			save_event_target_as = combatant_1
			character_event = { id = ADVN.100 }
		}
		event_target:party_member_3 = {
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}
	option = {
		name = EVTOPTD_ADVN_20
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		event_target:party_member_4 = {
			save_event_target_as = combatant_1
			character_event = { id = ADVN.100 }
		}
		event_target:party_member_4 = {
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}

	after = {
		if = {
			limit = {
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.110 days = 1 }
		}
		else = { #ending
			character_event = { id = ADVN.35 days = 1  }
		}
	}
}

#Host Leader keeps fighting
character_event = {
	id = ADVN.34
	desc = EVTDESC_ADVN_21
	picture = GFX_evt_large_army
	portrait = event_target:final_boss

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_21
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		event_target:party_member_1 = {
			save_event_target_as = combatant_1
			event_target:final_boss = {
				save_event_target_as = combatant_2
			}
			character_event = { id = ADVN.100 }
		}
		if = {
			limit = {
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.110 days = 1 }
		}
		else = { #ending
			character_event = { id = ADVN.35 days = 1  }
		}
	}
	option = {
		name = EVTOPTB_ADVN_21
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		event_target:party_member_2 = {
			save_event_target_as = combatant_1
			event_target:final_boss = {
				save_event_target_as = combatant_2
			}
			character_event = { id = ADVN.100 }
		}
		if = {
			limit = {
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.110 days = 1 }
		}
		else = { #ending
			character_event = { id = ADVN.35 days = 1  }
		}
	}
	option = {
		name = EVTOPTC_ADVN_21
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		event_target:party_member_3 = {
			save_event_target_as = combatant_1
			event_target:final_boss = {
				save_event_target_as = combatant_2
			}
			character_event = { id = ADVN.100 }
		}
		if = {
			limit = {
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.110 days = 1 }
		}
		else = { #ending
			character_event = { id = ADVN.35 days = 1  }
		}
	}
	option = {
		name = EVTOPTD_ADVN_21
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		event_target:party_member_4 = {
			save_event_target_as = combatant_1
			event_target:final_boss = {
				save_event_target_as = combatant_2
			}
			character_event = { id = ADVN.100 }
		}
		if = {
			limit = {
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.110 days = 1 }
		}
		else = { #ending
			character_event = { id = ADVN.35 days = 1  }
		}
	}
	option = {
		name = EVTOPTE_ADVN_21
		trigger = {
			OR = {
				event_target:party_member_1 = { is_alive = no }
				event_target:party_member_2 = { is_alive = no }
				event_target:party_member_3 = { is_alive = no }
				event_target:party_member_4 = { is_alive = no }
			}
		}
		character_event = { id = ADVN.36 }
	}
}

#Good Ending Post-Host Leader
character_event = {
	id = ADVN.35
	desc = EVTDESC_ADVN_35
	picture = GFX_evt_adventurers

	is_triggered_only = yes

	immediate = {
		event_target:party_member_1 = {
			adventurer_reward_effect = yes
		}
		event_target:party_member_2 = {
			adventurer_reward_effect = yes
		}
		event_target:party_member_3 = {
			adventurer_reward_effect = yes
		}
		event_target:party_member_4 = {
			adventurer_reward_effect = yes
		}
	}

	option = {
		name = EVTOPTA_ADVN_35

		hidden_tooltip = {
			adventure_cleanup_effect = yes
		}
	}
}

#Bad Ending Post-Host Leader
character_event = {
	id = ADVN.36
	desc = EVTDESC_ADVN_36
	picture = GFX_evt_died_battle

	is_triggered_only = yes

	option = {
		name = EVTOPTA_ADVN_36

		if = {
			limit = {
				event_target:final_boss = {
					is_alive = yes
				}
			}
			add_rival = event_target:final_boss
			hidden_tooltip = {
				event_target:final_boss = {
					wealth = 300
					random_magic_item_effect = yes
					hidden_tooltip = {
						set_variable = { which = local_xp_to_add value = 300 }
						set_character_flag = granting_full_xp_flag
						add_custom_xp_effect = yes
					}
				}
			}
			adventure_cleanup_effect = yes
			event_target:party_member_1 = {
				heal_wounds_adv_effect = yes
			}
			event_target:party_member_2 = {
				heal_wounds_adv_effect = yes
			}
			event_target:party_member_3 = {
				heal_wounds_adv_effect = yes
			}
			event_target:party_member_4 = {
				heal_wounds_adv_effect = yes
			}
		}
	}
}

#Healing Opportunity & War Camp Adventure Tombola
character_event = {
	id = ADVN.37
	desc = EVTDESC_ADVN_37
	picture = GFX_evt_large_army

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	immediate = {
		random_list = { #first camp event
			10 = { #drug supplies
				character_event = { id = ADVN.46 days = 10 }
				set_character_flag = adv_drugged_supplies
			}
			10 = { #diversion
				character_event = { id = ADVN.47 days = 10 }
				set_character_flag = adv_diversion
			}
			10 = { #sneak past a threat
				character_event = { id = ADVN.6 days = 10 }
			}
			10 = { #blend in
				character_event = { id = ADVN.48 days = 10 }
				set_character_flag = adv_blend_in
			}
			10 = { #nosy priests
				character_event = { id = ADVN.49 days = 10 }
				set_character_flag = adv_nosy_priests
			}
		}
		random_list = { #second camp event
			40 = { #random patrol
				character_event = { id = ADVN.45 days = 20 }
			}
			12 = { #drug supplies
				modifier = { has_character_flag = adv_drugged_supplies factor = 0 }
				character_event = { id = ADVN.46 days = 20 }
				set_character_flag = adv_drugged_supplies
			}
			12 = { #diversion
				modifier = { has_character_flag = adv_diversion factor = 0 }
				character_event = { id = ADVN.47 days = 20 }
				set_character_flag = adv_diversion
			}
			12 = { #sneak past a threat
				character_event = { id = ADVN.6 days = 20 }
			}
			12 = { #blend in
				modifier = { has_character_flag = adv_blend_in factor = 0 }
				character_event = { id = ADVN.48 days = 20 }
				set_character_flag = adv_blend_in
			}
			12 = { #nosy priests
				modifier = { has_character_flag = adv_nosy_priests factor = 0 }
				character_event = { id = ADVN.49 days = 20 }
				set_character_flag = adv_nosy_priests
			}
		}
		character_event = { id = ADVN.45 days = 30 } #third camp event, always a patrol
		character_event = { #host leader
			id = ADVN.33
			days = 40
			random = 2
		}
	}

	option = {
		name = EVTOPTA_ADVN_37
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { learning = 50 } factor = 3 }
				modifier = { event_target:party_member_1 = { trait = physician } factor = 5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_cleric = yes
							z_druid = yes
							z_bard = yes
							AND = {
								z_warlock = yes
								trait = warlock_celestial
							}
						}
					}
					factor = 10
				}

				event_target:party_member_1 = {
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_2 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_3 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_4 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							trait = expert_druid
							trait = expert_cleric
							AND = {
								trait = warlock_celestial
								trait = expert_warlock
							}
							trait = expert_bard
							trait = master_druid
							trait = master_cleric
							AND = {
								trait = warlock_celestial
								trait = master_warlock
							}
							trait = master_bard
							trait = renowned_druid
							trait = renowned_cleric
							AND = {
								trait = warlock_celestial
								trait = renowned_warlock
							}
							trait = renowned_bard
							trait = renowned_ranger
							trait = renowned_paladin
							trait = legendary_druid
							trait = legendary_cleric
							AND = {
								trait = warlock_celestial
								trait = legendary_warlock
							}
							trait = legendary_bard
							trait = legendary_ranger
							trait = legendary_paladin
						}
					}
					factor = 0.5
				}
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_37
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { learning = 50 } factor = 3 }
				modifier = { event_target:party_member_2 = { trait = physician } factor = 5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_cleric = yes
							z_druid = yes
							z_bard = yes
							AND = {
								z_warlock = yes
								trait = warlock_celestial
							}
						}
					}
					factor = 10
				}

				event_target:party_member_1 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_2 = {
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_3 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_4 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}

			}
			40 = {
				modifier = { event_target:party_member_2 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							trait = expert_druid
							trait = expert_cleric
							AND = {
								trait = warlock_celestial
								trait = expert_warlock
							}
							trait = expert_bard
							trait = master_druid
							trait = master_cleric
							AND = {
								trait = warlock_celestial
								trait = master_warlock
							}
							trait = master_bard
							trait = renowned_druid
							trait = renowned_cleric
							AND = {
								trait = warlock_celestial
								trait = renowned_warlock
							}
							trait = renowned_bard
							trait = renowned_ranger
							trait = renowned_paladin
							trait = legendary_druid
							trait = legendary_cleric
							AND = {
								trait = warlock_celestial
								trait = legendary_warlock
							}
							trait = legendary_bard
							trait = legendary_ranger
							trait = legendary_paladin
						}
					}
					factor = 0.5
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_37
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { learning = 50 } factor = 3 }
				modifier = { event_target:party_member_3 = { trait = physician } factor = 5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_cleric = yes
							z_druid = yes
							z_bard = yes
							AND = {
								z_warlock = yes
								trait = warlock_celestial
							}
						}
					}
					factor = 10
				}

				event_target:party_member_1 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_2 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_3 = {
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_4 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}

			}
			40 = {
				modifier = { event_target:party_member_3 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							trait = expert_druid
							trait = expert_cleric
							AND = {
								trait = warlock_celestial
								trait = expert_warlock
							}
							trait = expert_bard
							trait = master_druid
							trait = master_cleric
							AND = {
								trait = warlock_celestial
								trait = master_warlock
							}
							trait = master_bard
							trait = renowned_druid
							trait = renowned_cleric
							AND = {
								trait = warlock_celestial
								trait = renowned_warlock
							}
							trait = renowned_bard
							trait = renowned_ranger
							trait = renowned_paladin
							trait = legendary_druid
							trait = legendary_cleric
							AND = {
								trait = warlock_celestial
								trait = legendary_warlock
							}
							trait = legendary_bard
							trait = legendary_ranger
							trait = legendary_paladin
						}
					}
					factor = 0.5
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_37
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { learning = 50 } factor = 3 }
				modifier = { event_target:party_member_4 = { trait = physician } factor = 5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_cleric = yes
							z_druid = yes
							z_bard = yes
							AND = {
								z_warlock = yes
								trait = warlock_celestial
							}
						}
					}
					factor = 10
				}

				event_target:party_member_1 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_2 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_3 = {
					decrease_adv_fatigue_effect = yes
					heal_wounds_adv_effect = yes
				}
				event_target:party_member_4 = {
					heal_wounds_adv_effect = yes
				}

			}
			40 = {
				modifier = { event_target:party_member_4 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							trait = expert_druid
							trait = expert_cleric
							AND = {
								trait = warlock_celestial
								trait = expert_warlock
							}
							trait = expert_bard
							trait = master_druid
							trait = master_cleric
							AND = {
								trait = warlock_celestial
								trait = master_warlock
							}
							trait = master_bard
							trait = renowned_druid
							trait = renowned_cleric
							AND = {
								trait = warlock_celestial
								trait = renowned_warlock
							}
							trait = renowned_bard
							trait = renowned_ranger
							trait = renowned_paladin
							trait = legendary_druid
							trait = legendary_cleric
							AND = {
								trait = warlock_celestial
								trait = legendary_warlock
							}
							trait = legendary_bard
							trait = legendary_ranger
							trait = legendary_paladin
						}
					}
					factor = 0.5
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

#MORE RANDOM EVENTS - ADVN.40/ADVN.99

### Mercenary Thugs ###
character_event = {
	id = ADVN.40
	desc = EVTDESC_ADVN_40
	picture = GFX_evt_bandits

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
		NOT = { has_character_flag = adv_talked_mercs }
	}

	immediate = {
		hidden_tooltip = {
			random_list = {
				33 = {
					trigger = { NOT = { has_character_flag = adv_mod_difficulty } }
					set_variable = { which = local_combatant_2_combat_rating value = 20 } 
				}
				33 = {
					trigger = { NOT = { has_character_flag = adv_mod_difficulty } }
					set_variable = { which = local_combatant_2_combat_rating value = 30 } 
				}
				33 = {
					trigger = { NOT = { has_character_flag = adv_mod_difficulty } }
					set_variable = { which = local_combatant_2_combat_rating value = 40 }
				}
				33 = {
					trigger = { has_character_flag = adv_mod_difficulty }
					set_variable = { which = local_combatant_2_combat_rating value = 50 } 
				}
				33 = {
					trigger = { has_character_flag = adv_mod_difficulty }
					set_variable = { which = local_combatant_2_combat_rating value = 60 } 
				}
				33 = {
					trigger = { has_character_flag = adv_mod_difficulty }
					set_variable = { which = local_combatant_2_combat_rating value = 70 }
				}
			}
		}
	}

	option = {
		name = EVTOPTA_ADVN_40
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						z_fighter = yes
					}
					factor = 3
				}
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = popular_modifier
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy < 2 } factor = 1.4 }
				custom_tooltip = { text = adv_a_battle_tt }
				event_target:party_member_1 = {
					hidden_tooltip = {
						export_to_variable = { which = local_combatant_1_combat_rating value = combat_rating }
						character_event = { id = ADVN.113 }
					}
				}
				event_target:party_member_1 = {
					custom_tooltip = { text = adventuring_fatigue_tt }
					character_event = { id = ADVN.104 days = 2 }
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_40
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						z_fighter = yes
					}
					factor = 3
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = popular_modifier
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy < 2 } factor = 1.4 }
				custom_tooltip = { text = adv_a_battle_tt }
				event_target:party_member_2 = {
					hidden_tooltip = {
						export_to_variable = { which = local_combatant_1_combat_rating value = combat_rating }
						character_event = { id = ADVN.113 }
					}
				}
				event_target:party_member_2 = {
					custom_tooltip = { text = adventuring_fatigue_tt }
					character_event = { id = ADVN.104 days = 2 }
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_40
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						z_fighter = yes
					}
					factor = 3
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = popular_modifier
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy < 2 } factor = 1.4 }
				custom_tooltip = { text = adv_a_battle_tt }
				event_target:party_member_3 = {
					hidden_tooltip = {
						export_to_variable = { which = local_combatant_1_combat_rating value = combat_rating }
						character_event = { id = ADVN.113 }
					}
				}
				event_target:party_member_3 = {
					custom_tooltip = { text = adventuring_fatigue_tt }
					character_event = { id = ADVN.104 days = 2 }
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_40
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						z_fighter = yes
					}
					factor = 3
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = popular_modifier
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy < 2 } factor = 1.4 }
				custom_tooltip = { text = adv_a_battle_tt }
				event_target:party_member_4 = {
					hidden_tooltip = {
						export_to_variable = { which = local_combatant_1_combat_rating value = combat_rating }
						character_event = { id = ADVN.113 }
					}
				}
				event_target:party_member_4 = {
					custom_tooltip = { text = adventuring_fatigue_tt }
					character_event = { id = ADVN.104 days = 2 }
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Passage Blocked ###
character_event = {
	id = ADVN.41
	desc = EVTDESC_ADVN_41
	picture = GFX_evt_rock_slide

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_41
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						is_strong_trigger = yes
					}
					factor = 4
				}
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_barbarian = yes
							z_fighter = yes
							z_paladin = yes
						}
					}
					factor = 2
				}
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_1 = {
						is_weak_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_41
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						is_strong_trigger = yes
					}
					factor = 4
				}
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_barbarian = yes
							z_fighter = yes
							z_paladin = yes
						}
					}
					factor = 2
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_2 = {
						is_weak_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_41
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						is_strong_trigger = yes
					}
					factor = 4
				}
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_barbarian = yes
							z_fighter = yes
							z_paladin = yes
						}
					}
					factor = 2
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_3 = {
						is_weak_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_41
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						is_strong_trigger = yes
					}
					factor = 4
				}
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_barbarian = yes
							z_fighter = yes
							z_paladin = yes
						}
					}
					factor = 2
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_4 = {
						is_weak_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Non-Hostile Monsters ###
character_event = {
	id = ADVN.42
	desc = EVTDESC_ADVN_42
	picture = GFX_evt_myconid

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_42
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_bard = yes
							z_paladin = yes
							z_psion = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_negotiated_locals_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy < 2 } factor = 1.4 }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_42
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_bard = yes
							z_paladin = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_negotiated_locals_tt }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy < 2 } factor = 1.4 }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_42
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_bard = yes
							z_paladin = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_negotiated_locals_tt }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy < 2 } factor = 1.4 }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_42
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_bard = yes
							z_paladin = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_negotiated_locals_tt }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy < 2 } factor = 1.4 }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Persuade Local Thugs ###
character_event = {
	id = ADVN.43
	desc = EVTDESC_ADVN_43
	picture = GFX_evt_tavern

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_43
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_fighter = yes
							z_bard = yes
							z_psion = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_talked_mercs_tt }
				set_character_flag = adv_talked_mercs
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = popular_modifier
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy < 2 } factor = 1.4 }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_43
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_fighter = yes
							z_bard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_talked_mercs_tt }
				set_character_flag = adv_talked_mercs
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = popular_modifier
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy < 2 } factor = 1.4 }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_43
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_fighter = yes
							z_bard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_talked_mercs_tt }
				set_character_flag = adv_talked_mercs
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = popular_modifier
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy < 2 } factor = 1.4 }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_43
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_fighter = yes
							z_bard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_talked_mercs_tt }
				set_character_flag = adv_talked_mercs
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = popular_modifier
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy < 2 } factor = 1.4 }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Plan Attack ###
character_event = {
	id = ADVN.44
	desc = EVTDESC_ADVN_44
	picture = GFX_evt_large_army

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
		NOT = { has_character_flag = adv_talked_mercs }
	}

	option = {
		name = EVTOPTA_ADVN_44
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						is_smart_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_planned_attack_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_1 = {
						is_dumb_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_44
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						is_smart_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_planned_attack_tt }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_2 = {
						is_dumb_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_44
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						is_smart_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_planned_attack_tt }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_3 = {
						is_dumb_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_44
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						is_smart_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_planned_attack_tt }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_4 = {
						is_dumb_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Random Patrol ###
character_event = {
	id = ADVN.45
	desc = EVTDESC_ADVN_45
	picture = GFX_evt_battle

	only_playable = yes

	is_triggered_only = yes


	trigger = {
		has_character_modifier = sent_adventurers
	}

	immediate = {
		hidden_tooltip = {
			random_list = {
				33 = {
					set_variable = { which = local_combatant_2_combat_rating value = 20 } 
				}
				33 = {
					set_variable = { which = local_combatant_2_combat_rating value = 30 } 
				}
				33 = {
					set_variable = { which = local_combatant_2_combat_rating value = 40 }
				}
			}
		}
	}

	option = {
		name = EVTOPTA_ADVN_2
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		event_target:party_member_1 = {
			hidden_tooltip = {
				export_to_variable = { which = local_combatant_1_combat_rating value = combat_rating }
				character_event = { id = ADVN.113 }
			}
		}
		event_target:party_member_1 = {
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}
	option = {
		name = EVTOPTB_ADVN_2
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		event_target:party_member_2 = {
			hidden_tooltip = {
				export_to_variable = { which = local_combatant_1_combat_rating value = combat_rating }
				character_event = { id = ADVN.113 }
			}
		}
		event_target:party_member_2 = {
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}
	option = {
		name = EVTOPTC_ADVN_2
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		event_target:party_member_3 = {
			hidden_tooltip = {
				export_to_variable = { which = local_combatant_1_combat_rating value = combat_rating }
				character_event = { id = ADVN.113 }
			}
		}
		event_target:party_member_3 = {
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}
	option = {
		name = EVTOPTD_ADVN_2
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		event_target:party_member_4 = {
			hidden_tooltip = {
				export_to_variable = { which = local_combatant_1_combat_rating value = combat_rating }
				character_event = { id = ADVN.113 }
			}
		}
		event_target:party_member_4 = {
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Drug Supplies ###
character_event = {
	id = ADVN.46
	desc = EVTDESC_ADVN_46
	picture = GFX_evt_sleeping_town_hf

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_46
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { intrigue = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { intrigue = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { intrigue = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { intrigue = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { intrigue = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { intrigue = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { intrigue = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_rogue = yes
							z_shadow = yes
							z_monk = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_drugged_drinks_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { intrigue < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { intrigue < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							trait = expert_shadow
							trait = master_shadow
							trait = renowned_shadow
							trait = legendary_shadow
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.45 days = 1 }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_46
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { intrigue = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { intrigue = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { intrigue = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { intrigue = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { intrigue = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { intrigue = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { intrigue = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_rogue = yes
							z_shadow = yes
							z_monk = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_drugged_drinks_tt }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { intrigue < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { intrigue < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							trait = expert_shadow
							trait = master_shadow
							trait = renowned_shadow
							trait = legendary_shadow
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.45 days = 1 }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_46
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { intrigue = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { intrigue = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { intrigue = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { intrigue = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { intrigue = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { intrigue = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { intrigue = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_rogue = yes
							z_shadow = yes
							z_monk = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_drugged_drinks_tt }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { intrigue < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { intrigue < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							trait = expert_shadow
							trait = master_shadow
							trait = renowned_shadow
							trait = legendary_shadow
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.45 days = 1 }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_46
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { intrigue = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { intrigue = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { intrigue = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { intrigue = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { intrigue = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { intrigue = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { intrigue = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_rogue = yes
							z_shadow = yes
							z_monk = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_drugged_drinks_tt }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { intrigue < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { intrigue < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							trait = expert_shadow
							trait = master_shadow
							trait = renowned_shadow
							trait = legendary_shadow
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.45 days = 1 }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Diversion ###
character_event = {
	id = ADVN.47
	desc = EVTDESC_ADVN_47
	picture = GFX_evt_arson_hf

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_47
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_wizard = yes
							z_warlock = yes
							z_sorcerer = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_diversion_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning < 2 } factor = 1.4 }
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.45 days = 1 }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_47
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_wizard = yes
							z_warlock = yes
							z_sorcerer = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_diversion_tt }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning < 2 } factor = 1.4 }
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.45 days = 1 }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_47
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_wizard = yes
							z_warlock = yes
							z_sorcerer = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_diversion_tt }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning < 2 } factor = 1.4 }
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.45 days = 1 }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_47
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_wizard = yes
							z_warlock = yes
							z_sorcerer = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_diversion_tt }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning < 2 } factor = 1.4 }
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.45 days = 1 }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Blend In ###
character_event = {
	id = ADVN.48
	desc = EVTDESC_ADVN_48
	picture = GFX_evt_campfire_hf

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_48
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_bard = yes
							z_shadow = yes
							z_sorcerer = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_blend_in_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy < 2 } factor = 1.4 }
				custom_tooltip = { text = adv_fail_blend_in_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_48
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_bard = yes
							z_shadow = yes
							z_sorcerer = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_blend_in_tt }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy < 2 } factor = 1.4 }
				custom_tooltip = { text = adv_fail_blend_in_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_48
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_bard = yes
							z_shadow = yes
							z_sorcerer = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_blend_in_tt }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy < 2 } factor = 1.4 }
				custom_tooltip = { text = adv_fail_blend_in_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_48
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_bard = yes
							z_shadow = yes
							z_sorcerer = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_blend_in_tt }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy < 2 } factor = 1.4 }
				custom_tooltip = { text = adv_fail_blend_in_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Nosy Priests ###
character_event = {
	id = ADVN.49
	desc = EVTDESC_ADVN_49
	picture = GFX_evt_dark_prayer

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_49
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_cleric = yes
							z_paladin = yes
							z_wizard = yes
							z_monk = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_blend_in_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning < 2 } factor = 1.4 }
				custom_tooltip = { text = adv_fail_blend_in_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_49
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_cleric = yes
							z_paladin = yes
							z_wizard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_blend_in_tt }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning < 2 } factor = 1.4 }
				custom_tooltip = { text = adv_fail_blend_in_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_49
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_cleric = yes
							z_paladin = yes
							z_wizard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_blend_in_tt }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning < 2 } factor = 1.4 }
				custom_tooltip = { text = adv_fail_blend_in_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_49
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_cleric = yes
							z_paladin = yes
							z_wizard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_blend_in_tt }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning < 2 } factor = 1.4 }
				custom_tooltip = { text = adv_fail_blend_in_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

#MAINT EVENTS

#Duel event
character_event = {
	id = ADVN.100
	desc = EVTDESC_ADVN_100
	picture = GFX_evt_melee
	border = GFX_event_normal_frame_war
	portrait = event_target:combatant_2

	is_triggered_only = yes

	immediate = {
		event_target:combatant_2 = {
			set_character_flag = flag_duel_no_backsies
		}
	}

	option = {
		name = EVTOPTA_ADVN_100
		set_character_flag = add_duel_xp
		set_character_flag = adventure_duel@event_target:combatant_2
		reset_duel_timers_effect = yes
		set_dueling_weapon_effect = yes
		event_target:combatant_2 = { set_dueling_weapon_effect = yes }
		set_potential_injury_flag_effect = yes
		evaluate_duel_result_score_effect = yes
		evaluate_extra_duel_result_score_effect = yes
		send_duel_result_event_effect = yes
	}
}

#Adventurer title to final boss
character_event = {
	id = ADVN.102
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		character = yes
		is_alive = yes
	}

	immediate = {
		liege = {
			primary_title = {
				holder_scope = {
					save_event_target_as = previous_liege
				}
			}
			capital_scope = {
				save_event_target_as = target_province
				ROOT = {
					set_defacto_liege = ROOT
					create_title = {
						tier = DUKE
						landless = yes
						adventurer = yes
						culture = ROOT
						name = "CLAIMANT_ADVENTURE"
						holder = ROOT
						base_title = THIS
					}
					set_character_flag = raiding_adventurer
					change_variable = { which = global_raiding_adventurer_spawn_by_courtier_MTTH value = 1 }
					if = {
						limit = {
							event_target:previous_liege = {
								government = nomadic_government
							}
						}
						character_event = { id = HL.105 } #create troops steppe
					}
					if = {
						limit = {
							event_target:previous_liege = {
								NOT = { government = nomadic_government }
							}
						}
						character_event = { id = HL.102 } #create troops vikings
					}
					# Create a fleet, just to be sure
					spawn_fleet = {
						province = closest # closest sea zone
						owner = ROOT
						disband_on_peace = yes
						troops =
						{
							galleys = { 110 110 }
						}
					}
				}
			}
		}
		character_event = { id = HL.110 days = 1095 } # Ping to see if he's ready to settle, repeating every 3 years.
	}
}

#Lose Adventurer trait, gain former adventurer
character_event = {
	id = ADVN.103
	desc = EVTDESC_ADVN_103
	picture = GFX_evt_tavern_2

	is_triggered_only = yes

	trigger = {
		trait = adventurer
		NOR = {
			has_minor_title = title_party_member
			primary_title = { temporary = yes }
			has_character_modifier = adv_trait_perseverance_modifier
			trait = stasis_clone
		}
		liege = { 
			OR = {
				is_landed = yes
				is_patrician = yes
			}
		}
		trigger_if = {
			limit = { ai = no }
			
			OR = {
				is_landed = yes
				is_patrician = yes
			}
		}
	}

	option = {
		name = EVTOPTA_ADVN_103
		remove_trait = adventurer
		add_trait = former_adventurer
	}
}

#Delayed fatigue on duel events
character_event = {
	id = ADVN.104
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		increase_adv_fatigue_effect = yes
	}
}

#Very Easy adventure outcome
character_event = {
	id = ADVN.105
	desc = EVTDESC_ADVN_105
	picture = GFX_evt_adventurers

	is_triggered_only = yes

	immediate = {
		event_target:party_member_1 = {
			wealth = 10
			prestige = 10
			trivial_adv_xp_effect = yes
			add_trait_adventurer_effect = yes
			random_list = { #friendship
				10 = {
					add_friend = event_target:party_member_2
				}
				10 = {
					add_friend = event_target:party_member_3
				}
				10 = {
					add_friend = event_target:party_member_4
				}
				70 = {
					#nothing
				}
			}
			opinion = {
				modifier = opinion_very_grateful
				who = ROOT
				years = 5
			}
			reverse_opinion = {
				modifier = opinion_very_grateful
				who = ROOT
				years = 5
			}
			clr_character_flag = party_member_1
			clr_character_flag = party_member_1_ai_pick
			clr_character_flag = party_member_2_ai_pick
			clr_character_flag = party_member_3_ai_pick
			clr_character_flag = party_member_4_ai_pick
			remove_trait = travelling
			random_list = {
				495 = {
					#nothing
				}
				1 = {
					trigger = {
						NOR = {
							trait = creature_beholder
							trait = creature_naga
							trait = creature_elder_brain
							trait = creature_aboleth
						}
					}
					add_trait = one_handed
				}
				1 = {
					trigger = {
						race_is_legless = no
					}
					add_trait = one_legged
				}
				1 = {
					trigger = {
						has_dlc = "Reapers"
						race_is_one_eyed = no
					}
					add_trait = one_eyed
				}
				1 = {
					add_trait = disfigured
				}
				1 = {
					death = { death_reason = death_adventuring }
				}
			}
		}
		event_target:party_member_2 = {
			wealth = 10
			prestige = 10
			trivial_adv_xp_effect = yes
			add_trait_adventurer_effect = yes
			random_list = { #friendship
				10 = {
					add_friend = event_target:party_member_1
				}
				10 = {
					add_friend = event_target:party_member_3
				}
				10 = {
					add_friend = event_target:party_member_4
				}
				70 = {
					#nothing
				}
			}
			opinion = {
				modifier = opinion_very_grateful
				who = ROOT
				years = 5
			}
			reverse_opinion = {
				modifier = opinion_very_grateful
				who = ROOT
				years = 5
			}
			clr_character_flag = party_member_2
			clr_character_flag = party_member_1_ai_pick
			clr_character_flag = party_member_2_ai_pick
			clr_character_flag = party_member_3_ai_pick
			clr_character_flag = party_member_4_ai_pick
			remove_trait = travelling
			random_list = {
				190 = {
					#nothing
				}
				1 = {
					trigger = {
						NOR = {
							trait = creature_beholder
							trait = creature_naga
							trait = creature_elder_brain
							trait = creature_aboleth
						}
					}
					add_trait = one_handed
				}
				1 = {
					trigger = {
						race_is_legless = no
					}
					add_trait = one_legged
				}
				1 = {
					trigger = {
						has_dlc = "Reapers"
						race_is_one_eyed = no
					}
					add_trait = one_eyed
				}
				1 = {
					add_trait = disfigured
				}
				1 = {
					death = { death_reason = death_adventuring }
				}
			}
		}
		event_target:party_member_3 = {
			wealth = 10
			prestige = 10
			trivial_adv_xp_effect = yes
			add_trait_adventurer_effect = yes
			random_list = { #friendship
				10 = {
					add_friend = event_target:party_member_1
				}
				10 = {
					add_friend = event_target:party_member_2
				}
				10 = {
					add_friend = event_target:party_member_4
				}
				70 = {
					#nothing
				}
			}
			opinion = {
				modifier = opinion_very_grateful
				who = ROOT
				years = 5
			}
			reverse_opinion = {
				modifier = opinion_very_grateful
				who = ROOT
				years = 5
			}
			clr_character_flag = party_member_3
			clr_character_flag = party_member_1_ai_pick
			clr_character_flag = party_member_2_ai_pick
			clr_character_flag = party_member_3_ai_pick
			clr_character_flag = party_member_4_ai_pick
			remove_trait = travelling
			random_list = {
				190 = {
					#nothing
				}
				1 = {
					trigger = {
						NOR = {
							trait = creature_beholder
							trait = creature_naga
							trait = creature_elder_brain
							trait = creature_aboleth
						}
					}
					add_trait = one_handed
				}
				1 = {
					trigger = {
						race_is_legless = no
					}
					add_trait = one_legged
				}
				1 = {
					trigger = {
						has_dlc = "Reapers"
						race_is_one_eyed = no
					}
					add_trait = one_eyed
				}
				1 = {
					add_trait = disfigured
				}
				1 = {
					death = { death_reason = death_adventuring }
				}
			}
		}
		event_target:party_member_4 = {
			wealth = 10
			prestige = 10
			trivial_adv_xp_effect = yes
			add_trait_adventurer_effect = yes
			random_list = { #friendship
				10 = {
					add_friend = event_target:party_member_1
				}
				10 = {
					add_friend = event_target:party_member_2
				}
				10 = {
					add_friend = event_target:party_member_3
				}
				70 = {
					#nothing
				}
			}
			opinion = {
				modifier = opinion_very_grateful
				who = ROOT
				years = 5
			}
			reverse_opinion = {
				modifier = opinion_very_grateful
				who = ROOT
				years = 5
			}
			clr_character_flag = party_member_4
			clr_character_flag = party_member_1_ai_pick
			clr_character_flag = party_member_2_ai_pick
			clr_character_flag = party_member_3_ai_pick
			clr_character_flag = party_member_4_ai_pick
			remove_trait = travelling
			random_list = {
				190 = {
					#nothing
				}
				1 = {
					trigger = {
						NOR = {
							trait = creature_beholder
							trait = creature_naga
							trait = creature_elder_brain
							trait = creature_aboleth
						}
					}
					add_trait = one_handed
				}
				1 = {
					trigger = {
						race_is_legless = no
					}
					add_trait = one_legged
				}
				1 = {
					trigger = {
						has_dlc = "Reapers"
						race_is_one_eyed = no
					}
					add_trait = one_eyed
				}
				1 = {
					add_trait = disfigured
				}
				1 = {
					death = { death_reason = death_adventuring }
				}
			}
		}
	}

	option = {
		name = EVTOPTA_ADVN_105

		hidden_tooltip = {
			remove_character_modifier = sent_adventurers
			clr_character_flag = adv_very_easy_difficulty
		}
	}
}

#Emergency Cleanup Event
character_event = {
	id = ADVN.106
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		adventure_cleanup_effect = yes
	}
}

#Asks ruler if they want to adventure
character_event = {
	id = ADVN.107
	desc = EVTDESC_ADVN_107
	picture = GFX_evt_adventurers_3

	is_triggered_only = yes

	option = { #No
		name = EVTOPTA_ADVN_107
		ai_chance = {
			factor = 10
		}
		character_event = { id = ADVN.1 } #Difficulty Selection Screen & Starting Adventure Tombola
	}
	option = { #Yes
		name = EVTOPTB_ADVN_107
		trigger = {
			OR = {
				trait = adventurer
				trait = former_adventurer
				trait = brave
				tier = BARON
				tier = COUNT
			}
			is_adult = yes
			z_has_class = yes
			NOT = { trait = in_hiding }
			is_incapable = no
			prisoner = no
			NOT = { is_inaccessible_trigger = yes }
			NOT = { has_character_flag = do_not_disturb }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 3
				trait = brave
			}
			modifier = {
				factor = 0.2
				trait = craven
			}
		}
		character_event = { id = ADVN.108 } #switch an adventurer
	}
}
#Switch an adventurer
character_event = {
	id = ADVN.108
	desc = EVTDESC_ADVN_108
	picture = GFX_evt_adventurers_3

	is_triggered_only = yes

	option = {
		name = EVTOPTA_ADVN_108
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		event_target:party_member_1 = {
			clr_character_flag = party_member_1
			remove_trait = travelling
		}
		clear_event_target = party_member_1
		ROOT = {
			set_character_flag = party_member_1
			save_event_target_as = party_member_1
			add_trait = travelling
		}
	}
	option = {
		name = EVTOPTB_ADVN_108
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		event_target:party_member_2 = {
			clr_character_flag = party_member_2
			remove_trait = travelling
		}
		clear_event_target = party_member_2
		ROOT = {
			set_character_flag = party_member_2
			save_event_target_as = party_member_2
			add_trait = travelling
		}
	}
	option = {
		name = EVTOPTC_ADVN_108
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		event_target:party_member_3 = {
			clr_character_flag = party_member_3
			remove_trait = travelling
		}
		clear_event_target = party_member_3
		ROOT = {
			set_character_flag = party_member_3
			save_event_target_as = party_member_3
			add_trait = travelling
		}
	}
	option = {
		name = EVTOPTD_ADVN_108
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		event_target:party_member_4 = {
			clr_character_flag = party_member_4
			remove_trait = travelling
		}
		clear_event_target = party_member_4
		ROOT = {
			set_character_flag = party_member_4
			save_event_target_as = party_member_4
			add_trait = travelling
		}
	}

	after = {
		character_event = { id = ADVN.1 } #Difficulty Selection Screen & Starting Adventure Tombola
	}
}

#Bounce event to check for final boss' death
character_event = {
	id = ADVN.109
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.21 days = 1  }
		}
		else = { #ending
			character_event = { id = ADVN.30 days = 1  }
		}
	}
}
#Bounce event to check for host leader's death
character_event = {
	id = ADVN.110
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.34 days = 1 }
		}
		else = { #ending
			character_event = { id = ADVN.35 days = 1  }
		}
	}
}

#DEATH: I killed my opponent - I won!
character_event = {
    id = ADVN.111
    title = getDuelTitle
    picture = GFX_evt_duel_scene
    border = GFX_event_normal_frame_war
    is_triggered_only = yes
    portrait = event_target:other_combatant

		desc = {
			trigger = {
				event_target:combatant_2 = { culture = monster }
			}
			text = EVTDESC_ADVN_111_A
		}
		desc = {
			trigger = {
				NOT = { event_target:combatant_2 = { culture = monster } }
			}
			text = EVTDESC_ADVN_111_B
		}

    immediate = {
        set_winner_flags_and_save_opponent_effect = yes
				if = {
					limit = {
						z_has_class = yes
					}
					tb_duel_won_xp = yes
				}

        hidden_effect = {
            if = {
                limit = {
                    event_target:combatant_1 = { has_character_flag = WL_desc_Z }
                }
                event_target:combatant_2 = {
                    set_graphical_culture = bear
                }
            }
        }

        random_list = {
        	5 = { # You will be injured somehow (flags already set)...
                bad_soldier_outcome_score = yes #Increases risk, if you are bad at this...
                bad_soldier_outcome_score = yes #Increases risk, if you are bad at this...
        	}
        	10 = { # ONLY gives the Severely Injured trait, but no maiming...
        		set_character_flag = severely_injured
                bad_soldier_outcome_score = yes #Increases risk, if you are bad at this...
        	}
        	20 = { # ONLY gives bruises, etc...
        		set_character_flag = mildly_injured
				good_soldier_outcome_score = yes #Increases chance, if you are good at this...
        	}
        	20 = { # You are completely safe...
				good_soldier_outcome_score = yes #Increases chance, if you are good at this...
				good_soldier_outcome_score = yes #Increases chance, if you are good at this...
        		set_character_flag = ignore_damage
        	}
        }
    }

    option = {
        name = {
            text = EVTOPTA_HFP_10103_default #I... Yes, that was on purpose!
            trigger = {
                NOR = {
                    trait = duelist
                    event_target:other_combatant = { duelist_skill_compared_to_prev_low_group_trigger = yes }
                    duelist_skill_is_high_group_trigger = yes
                }
            }
        }
        name = {
            text = EVTOPTA_HFP_10103_duelist #Another victorious match.
            trigger = {
                OR = {
                    trait = duelist
                    event_target:other_combatant = { duelist_skill_compared_to_prev_low_group_trigger = yes }
                    duelist_skill_is_high_group_trigger = yes
                }
            }
        }
        custom_tooltip = { text = you_win_the_duel_tt }
        apply_generic_duel_victory_effect = yes

        if = { # Only add injury if you were unlucky enough to get it...
        	limit = { NOT = { has_character_flag = ignore_damage } }
        	apply_selected_duel_injury_effect = yes
        }
				if = {
					limit = { character = event_target:target_lolth_test }
					character_event = { id = conv.22 }
				}

        add_blood_splatter_effect = yes

        tooltip = {
            event_target:other_combatant = {
                show_scope_change = no
                death = {
                    death_reason = death_duel
                    killer = ROOT
                }
            }
        }
    }
    after = {
        hidden_effect = {
					if = {
						limit = { event_target:other_combatant = { character = event_target:target_lolth_test } }
						random_list = {
							50 = {
								modifier = {
									factor = 0
									event_target:other_combatant = { trait = craven }
								}
								event_target:other_combatant = { character_event = { id = ADVN.112 } }
							}
							50 = {
								modifier = {
									factor = 0
									event_target:other_combatant = { trait = brave }
								}
								event_target:other_combatant = { character_event = { id = conv.23 } }
							}
						}
					}
					else = {
						event_target:other_combatant = { character_event = { id = ADVN.112 } }
					}
        }
        tooltip = {
            clean_up_after_duel_effect = yes
        }
    }
}
#DEATH: I died in the duel - I lost
character_event = {
    id = ADVN.112
    picture = GFX_evt_duel_scene
    border = GFX_event_normal_frame_war
    title = getDuelTitle
    is_triggered_only = yes
    portrait = event_target:other_combatant

    immediate = {
        set_loser_flags_and_save_opponent_effect = yes
        if = {
            limit = { multiplayer = yes }
            if = {
                limit = { event_target:combatant_1 = { character = ROOT } } #if you instigated this...
                death = {
                    death_reason = death_legendary_fail_duel #you died trying...
                    killer = event_target:other_combatant
                }
            }
            else = {
                death = {
                    death_reason = death_legendary_win_duel #you successfully killed someone on your hunt for glory!
                    killer = event_target:other_combatant
                }
            }
        }
    }

		desc = {
			trigger = {
				event_target:combatant_2 = { culture = monster }
			}
			text = EVTDESC_ADVN_112_A
		}
		desc = {
			trigger = {
				NOT = { event_target:combatant_2 = { culture = monster } }
			}
			text = EVTDESC_ADVN_112_B
		}

    option = {
        name = EVTOPTA_HFP_10104 #Nooooo...!
        custom_tooltip = { text = you_lose_the_duel_tt }
        if = {
            limit = { multiplayer = no }
            if = {
                limit = { event_target:combatant_1 = { character = ROOT } } #if you instigated this...
                death = {
                    death_reason = death_legendary_fail_duel #you died trying...
                    killer = event_target:other_combatant
                }
            }
            else = {
                death = {
                    death_reason = death_legendary_win_duel #you successfully killed someone on your hunt for glory!
                    killer = event_target:other_combatant
                }
            }
        }
    }
    after = {
        hidden_effect = {
            FROM = { clean_up_after_duel_effect = yes } #test if this works, even if character is_dying
            clean_up_after_duel_effect = yes
        }
    }
}

character_event = {
	id = ADVN.113
	desc = EVTDESC_ADVN_100
	picture = GFX_evt_melee
	border = GFX_event_normal_frame_war
	hide_from = yes

	is_triggered_only = yes

	option = {
		name = EVTOPTA_ADVN_100
		hidden_effect = {
			simulate_duel_effect = yes
			set_variable = { which = local_lose_count which = local_combatant_2_win_count }
			simulate_duel_injury_effect = yes
			if = { 
				limit = { # if the adventurer is not the winner, he dies
					check_variable = { which = local_lose_count which >= local_round_count }
				}
				sound_effect = duel_lose
				character_event = { id = ADVN.115 }
				break = yes
			}
			sound_effect = duel_win
			add_blood_splatter_effect = yes
			tb_duel_won_xp = yes
			character_event = { id = ADVN.114 }
		}
	}
}

character_event = {
    id = ADVN.114
    picture = GFX_evt_duel_scene
    border = GFX_event_normal_frame_war
    is_triggered_only = yes
	desc = EVTDESC_ADVN_111_A
	hide_from = yes

    option = {
        name = {
            text = EVTOPTA_HFP_10103_default #I... Yes, that was on purpose!
            trigger = {
                NOR = {
                    trait = duelist
					check_variable = {
						which = local_combatant_1_combat_rating
						value >= 75
					}
                }
            }
        }
        name = {
            text = EVTOPTA_HFP_10103_duelist #Another victorious match.
			trigger = {
                OR = {
                    trait = duelist
					check_variable = {
						which = local_combatant_1_combat_rating
						value >= 75
					}
                }
            }
        }

		prestige = 50

		add_character_modifier = {
			name = recent_duel_victory
			years = 1
		}
    }
}

character_event = {
    id = ADVN.115
    picture = GFX_evt_duel_scene
    border = GFX_event_normal_frame_war
    is_triggered_only = yes

	desc = EVTDESC_ADVN_112_A

    option = {
        name = EVTOPTA_HFP_10104 #Nooooo...!
        custom_tooltip = { text = you_lose_the_duel_tt }

        death = { death_reason = death_adventuring }
    }
}

#AI EXCLUSIVE

#AI ruler assigns adventurer titles
character_event = {
	id = ADVN.200
	hide_window = yes
	only_playable = yes
	ai = yes

	is_triggered_only = yes

	trigger = {
		can_grant_title = title_party_member
		any_courtier = {
			NOT = { has_minor_title = title_party_member }
			can_hold_title = title_party_member
			combat_rating > 15
		}
	}

	immediate = {
		while = {
			count = 4
			limit = {
				can_grant_title = title_party_member
			}
			
			random_courtier = {
				limit = {
					NOT = { has_minor_title = title_party_member }
					can_hold_title = title_party_member
					combat_rating > 15
				}
				give_minor_title = title_party_member
			}
		}
	}
}

#AI Difficulty Selection Screen
character_event = {
	id = ADVN.201
	desc = EVTDESC_ADVN_1
	picture = GFX_evt_adventurers

	is_triggered_only = yes

	immediate = {
		#Fake AI party member selection
		random_courtier_or_vassal = {
			limit = {
				has_minor_title = title_party_member
			}
			set_character_flag = party_member_1_ai_pick
			save_event_target_as = party_member_1_ai_pick
			add_trait = travelling
			character_event = { id = ADVN.106 days = 130 } #emergency cleanup
		}
		random_courtier_or_vassal = {
			limit = {
				has_minor_title = title_party_member
				NOT = { has_character_flag = party_member_1_ai_pick }
			}
			set_character_flag = party_member_2_ai_pick
			save_event_target_as = party_member_2_ai_pick
			add_trait = travelling
			character_event = { id = ADVN.106 days = 130 } #emergency cleanup
		}
		random_courtier_or_vassal = {
			limit = {
				has_minor_title = title_party_member
				NOR = {
					has_character_flag = party_member_1_ai_pick
					has_character_flag = party_member_2_ai_pick
				}
			}
			set_character_flag = party_member_3_ai_pick
			save_event_target_as = party_member_3_ai_pick
			add_trait = travelling
			character_event = { id = ADVN.106 days = 130 } #emergency cleanup
		}
		random_courtier_or_vassal = {
			limit = {
				has_minor_title = title_party_member
				NOR = {
					has_character_flag = party_member_1_ai_pick
					has_character_flag = party_member_2_ai_pick
					has_character_flag = party_member_3_ai_pick
				}
			}
			set_character_flag = party_member_4_ai_pick
			save_event_target_as = party_member_4_ai_pick
			add_trait = travelling
			character_event = { id = ADVN.106 days = 130 } #emergency cleanup
		}
		#Real AI party member selection
		random_list = { #assign party_member_1 to a powerful char
			10 = {
				modifier = { event_target:party_member_1_ai_pick = { combat_rating = 10 } factor = 1.2 }
				modifier = { event_target:party_member_1_ai_pick = { combat_rating = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1_ai_pick = { combat_rating = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1_ai_pick = { combat_rating = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1_ai_pick = { combat_rating = 50 } factor = 1.6 }
				modifier = { event_target:party_member_1_ai_pick = { combat_rating = 60 } factor = 1.7 }
				modifier = { event_target:party_member_1_ai_pick = { combat_rating = 70 } factor = 1.8 }
				modifier = { event_target:party_member_1_ai_pick = { combat_rating = 80 } factor = 1.9 }
				modifier = { event_target:party_member_1_ai_pick = { combat_rating = 90 } factor = 2 }
				modifier = { event_target:party_member_1_ai_pick = { combat_rating = 100 } factor = 2.2 }
				modifier = { event_target:party_member_1_ai_pick = { combat_rating = 120 } factor = 2.4 }
				modifier = { event_target:party_member_1_ai_pick = { combat_rating = 140 } factor = 2.6 }
				modifier = { event_target:party_member_1_ai_pick = { combat_rating = 160 } factor = 2.8 }
				modifier = { event_target:party_member_1_ai_pick = { combat_rating = 200 } factor = 3 }
				event_target:party_member_1_ai_pick = {
					set_character_flag = party_member_1
					save_event_target_as = party_member_1
				}
			}
			10 = {
				modifier = { event_target:party_member_2_ai_pick = { combat_rating = 10 } factor = 1.2 }
				modifier = { event_target:party_member_2_ai_pick = { combat_rating = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2_ai_pick = { combat_rating = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2_ai_pick = { combat_rating = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2_ai_pick = { combat_rating = 50 } factor = 1.6 }
				modifier = { event_target:party_member_2_ai_pick = { combat_rating = 60 } factor = 1.7 }
				modifier = { event_target:party_member_2_ai_pick = { combat_rating = 70 } factor = 1.8 }
				modifier = { event_target:party_member_2_ai_pick = { combat_rating = 80 } factor = 1.9 }
				modifier = { event_target:party_member_2_ai_pick = { combat_rating = 90 } factor = 2 }
				modifier = { event_target:party_member_2_ai_pick = { combat_rating = 100 } factor = 2.2 }
				modifier = { event_target:party_member_2_ai_pick = { combat_rating = 120 } factor = 2.4 }
				modifier = { event_target:party_member_2_ai_pick = { combat_rating = 140 } factor = 2.6 }
				modifier = { event_target:party_member_2_ai_pick = { combat_rating = 160 } factor = 2.8 }
				modifier = { event_target:party_member_2_ai_pick = { combat_rating = 200 } factor = 3 }
				event_target:party_member_2_ai_pick = {
					set_character_flag = party_member_1
					save_event_target_as = party_member_1
				}
			}
			10 = {
				modifier = { event_target:party_member_3_ai_pick = { combat_rating = 10 } factor = 1.2 }
				modifier = { event_target:party_member_3_ai_pick = { combat_rating = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3_ai_pick = { combat_rating = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3_ai_pick = { combat_rating = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3_ai_pick = { combat_rating = 50 } factor = 1.6 }
				modifier = { event_target:party_member_3_ai_pick = { combat_rating = 60 } factor = 1.7 }
				modifier = { event_target:party_member_3_ai_pick = { combat_rating = 70 } factor = 1.8 }
				modifier = { event_target:party_member_3_ai_pick = { combat_rating = 80 } factor = 1.9 }
				modifier = { event_target:party_member_3_ai_pick = { combat_rating = 90 } factor = 2 }
				modifier = { event_target:party_member_3_ai_pick = { combat_rating = 100 } factor = 2.2 }
				modifier = { event_target:party_member_3_ai_pick = { combat_rating = 120 } factor = 2.4 }
				modifier = { event_target:party_member_3_ai_pick = { combat_rating = 140 } factor = 2.6 }
				modifier = { event_target:party_member_3_ai_pick = { combat_rating = 160 } factor = 2.8 }
				modifier = { event_target:party_member_3_ai_pick = { combat_rating = 200 } factor = 3 }
				event_target:party_member_3_ai_pick = {
					set_character_flag = party_member_1
					save_event_target_as = party_member_1
				}
			}
			10 = {
				modifier = { event_target:party_member_4_ai_pick = { combat_rating = 10 } factor = 1.2 }
				modifier = { event_target:party_member_4_ai_pick = { combat_rating = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4_ai_pick = { combat_rating = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4_ai_pick = { combat_rating = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4_ai_pick = { combat_rating = 50 } factor = 1.6 }
				modifier = { event_target:party_member_4_ai_pick = { combat_rating = 60 } factor = 1.7 }
				modifier = { event_target:party_member_4_ai_pick = { combat_rating = 70 } factor = 1.8 }
				modifier = { event_target:party_member_4_ai_pick = { combat_rating = 80 } factor = 1.9 }
				modifier = { event_target:party_member_4_ai_pick = { combat_rating = 90 } factor = 2 }
				modifier = { event_target:party_member_4_ai_pick = { combat_rating = 100 } factor = 2.2 }
				modifier = { event_target:party_member_4_ai_pick = { combat_rating = 120 } factor = 2.4 }
				modifier = { event_target:party_member_4_ai_pick = { combat_rating = 140 } factor = 2.6 }
				modifier = { event_target:party_member_4_ai_pick = { combat_rating = 160 } factor = 2.8 }
				modifier = { event_target:party_member_4_ai_pick = { combat_rating = 200 } factor = 3 }
				event_target:party_member_4_ai_pick = {
					set_character_flag = party_member_1
					save_event_target_as = party_member_1
				}
			}
		}
		random_courtier_or_vassal = {
			limit = {
				has_minor_title = title_party_member
				NOT = { has_character_flag = party_member_1 }
			}
			set_character_flag = party_member_2
			save_event_target_as = party_member_2
		}
		random_courtier_or_vassal = {
			limit = {
				has_minor_title = title_party_member
				NOR = {
					has_character_flag = party_member_1
					has_character_flag = party_member_2
				}
			}
			set_character_flag = party_member_3
			save_event_target_as = party_member_3
		}
		random_courtier_or_vassal = {
			limit = {
				has_minor_title = title_party_member
				NOR = {
					has_character_flag = party_member_1
					has_character_flag = party_member_2
					has_character_flag = party_member_3
				}
			}
			set_character_flag = party_member_4
			save_event_target_as = party_member_4
		}
	}

	option = { #Easy Difficulty
		name = EVTOPTA_ADVN_1
		trigger = {
			NOT = { has_character_flag = adv_vs_host }
		}
		ai_chance = {
			factor = 1
		}
		character_event = { id = ADVN.202 days = 15 }
		character_event = { id = ADVN.203 days = 30 }
		character_event = { id = ADVN.204 days = 45 }
		character_event = { id = ADVN.205 days = 60 }
		scaled_wealth = { value = -1 min = -50 max = -200 }
	}

	option = { #Moderate Difficulty
		name = EVTOPTB_ADVN_1
		trigger = {
			scaled_wealth = {
				value = 2
				min = 100
				max = 400
			}
			prestige >= 500
			NOT = { has_character_flag = adv_vs_host }
		}
		ai_chance = {
			factor = 0.5
			modifier = {
				event_target:party_member_1 = { combat_rating >= 80 }
				factor = 2
			}
			modifier = {
				event_target:party_member_1 = { combat_rating >= 100 }
				factor = 2
			}
			modifier = {
				event_target:party_member_1 = { combat_rating <= 70 }
				factor = 0.5
			}
			modifier = {
				event_target:party_member_1 = { combat_rating <= 50 }
				factor = 0
			}
		}
		character_event = { id = ADVN.202 days = 15 }
		character_event = { id = ADVN.203 days = 30 }
		character_event = { id = ADVN.204 days = 45 }
		character_event = { id = ADVN.205 days = 60 }
		set_character_flag = adv_mod_difficulty
		scaled_wealth = { value = -2 min = -100 max = -400 }
	}

	option = { #VS Host
		name = EVTOPTA_ADVN_1
		trigger = {
			has_character_flag = adv_vs_host
		}
		FROM = { save_event_target_as = final_boss }
		character_event = { id = ADVN.202 days = 15 }
		character_event = { id = ADVN.203 days = 30 }
		character_event = { id = ADVN.204 days = 45 }
		character_event = { id = ADVN.206 days = 60 }
		scaled_wealth = { value = -0.5 min = -25 max = -100 }
	}
}

#AI Monster Fights adv 4
character_event = {
	id = ADVN.202
	hide_window = yes
	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	immediate = {
		random_list = {
			33 = {
				trigger = { NOT = { has_character_flag = adv_mod_difficulty } }
				set_variable = { which = local_combatant_2_combat_rating value = 20 } 
			}
			33 = {
				trigger = { NOT = { has_character_flag = adv_mod_difficulty } }
				set_variable = { which = local_combatant_2_combat_rating value = 30 } 
			}
			33 = {
				trigger = { NOT = { has_character_flag = adv_mod_difficulty } }
				set_variable = { which = local_combatant_2_combat_rating value = 40 }
			}
			33 = {
				trigger = { has_character_flag = adv_mod_difficulty }
				set_variable = { which = local_combatant_2_combat_rating value = 50 } 
			}
			33 = {
				trigger = { has_character_flag = adv_mod_difficulty }
				set_variable = { which = local_combatant_2_combat_rating value = 60 } 
			}
			33 = {
				trigger = { has_character_flag = adv_mod_difficulty }
				set_variable = { which = local_combatant_2_combat_rating value = 70 }
			}
		}
		event_target:party_member_4 = {
			hidden_tooltip = {
				export_to_variable = { which = local_combatant_1_combat_rating value = combat_rating }
				character_event = { id = ADVN.113 }
			}
		}
		event_target:party_member_4 = {
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}
#AI Monster Fights adv 3
character_event = {
	id = ADVN.203
	hide_window = yes
	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	immediate = {
		random_list = {
			33 = {
				trigger = { NOT = { has_character_flag = adv_mod_difficulty } }
				set_variable = { which = local_combatant_2_combat_rating value = 20 } 
			}
			33 = {
				trigger = { NOT = { has_character_flag = adv_mod_difficulty } }
				set_variable = { which = local_combatant_2_combat_rating value = 30 } 
			}
			33 = {
				trigger = { NOT = { has_character_flag = adv_mod_difficulty } }
				set_variable = { which = local_combatant_2_combat_rating value = 40 }
			}
			33 = {
				trigger = { has_character_flag = adv_mod_difficulty }
				set_variable = { which = local_combatant_2_combat_rating value = 50 } 
			}
			33 = {
				trigger = { has_character_flag = adv_mod_difficulty }
				set_variable = { which = local_combatant_2_combat_rating value = 60 } 
			}
			33 = {
				trigger = { has_character_flag = adv_mod_difficulty }
				set_variable = { which = local_combatant_2_combat_rating value = 70 }
			}
		}
		event_target:party_member_3 = {
			hidden_tooltip = {
				export_to_variable = { which = local_combatant_1_combat_rating value = combat_rating }
				character_event = { id = ADVN.113 }
			}
		}
		event_target:party_member_3 = {
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}
#AI Monster Fights adv 2
character_event = {
	id = ADVN.204
	hide_window = yes
	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	immediate = {
		random_list = {
			33 = {
				trigger = { NOT = { has_character_flag = adv_mod_difficulty } }
				set_variable = { which = local_combatant_2_combat_rating value = 20 } 
			}
			33 = {
				trigger = { NOT = { has_character_flag = adv_mod_difficulty } }
				set_variable = { which = local_combatant_2_combat_rating value = 30 } 
			}
			33 = {
				trigger = { NOT = { has_character_flag = adv_mod_difficulty } }
				set_variable = { which = local_combatant_2_combat_rating value = 40 }
			}
			33 = {
				trigger = { has_character_flag = adv_mod_difficulty }
				set_variable = { which = local_combatant_2_combat_rating value = 50 } 
			}
			33 = {
				trigger = { has_character_flag = adv_mod_difficulty }
				set_variable = { which = local_combatant_2_combat_rating value = 60 } 
			}
			33 = {
				trigger = { has_character_flag = adv_mod_difficulty }
				set_variable = { which = local_combatant_2_combat_rating value = 70 }
			}
		}
		event_target:party_member_2 = {
			hidden_tooltip = {
				export_to_variable = { which = local_combatant_1_combat_rating value = combat_rating }
				character_event = { id = ADVN.113 }
			}
		}
		event_target:party_member_2 = {
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

#Final Boss Fights adv 1
character_event = {
	id = ADVN.205
	hide_window = yes
	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	immediate = {
		random_list = {
			24 = { #orc
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					female = no
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 4
					}
					culture = orc
					religion = orc_pantheon
					dynasty = none
					flag = special_courtier
				}
			}
			8 = { #goblin
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 4
					}
					culture = goblin
					religion = goblin_pantheon
					dynasty = none
					flag = special_courtier
				}
			}
			8 = { #hobgoblin
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 4
					}
					culture = hobgoblin
					religion = goblin_pantheon
					dynasty = none
					flag = special_courtier
				}
			}
			8 = { #bugbear
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 4
					}
					culture = bugbear
					religion = goblin_pantheon
					dynasty = none
					flag = special_courtier
				}
			}
			8 = { #gnoll
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 4
					}
					culture = gnoll
					religion = abyssal_cult
					dynasty = none
					flag = special_courtier
				}
			}
			8 = { #ogre
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 4
					}
					culture = ogre
					religion = vaprak
					dynasty = none
					flag = special_courtier
				}
			}
			8 = { #kobold
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 7
						martial = 7
						stewardship = 4
						intrigue = 6
						learning = 4
					}
					culture = kobold
					religion = tiamat
					dynasty = none
					flag = special_courtier
				}
			}
			8 = { #drow
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					female = yes
					attributes = {
						diplomacy = 6
						martial = 6
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = drow
					religion = lolth_cult
					dynasty = none
					flag = special_courtier
				}
			}
			8 = { #sahuagin
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				modifier = {
					ROOT = {
						capital_scope = {
							port = no
						}
					}
					factor = 0
				}
				modifier = {
					ROOT = {
						capital_scope = {
							is_island = yes
						}
					}
					factor = 5
				}
				create_random_soldier = {
					random_traits = yes
					female = no
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 4
					}
					culture = sahuagin
					religion = infernal
					add_trait = sahuagin_warrior
					dynasty = none
					flag = special_courtier
				}
			}
			12 = { #undead
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					trait = undead
					culture = ROOT
					dynasty = none
				}
			}

			7 = { #oni
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = ogre_magi
					religion = vaprak
					trait = expert_fighter
					trait = journeyman_sorcerer
					dynasty = none
					flag = special_courtier
				}
			}
			7 = { #troll
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = troll
					religion = vaprak
					dynasty = none
					flag = special_courtier
				}
			}
			7 = { #minotaur
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = minotaur
					religion = abyssal_cult
					trait = master_barbarian
					trait = patron_baphomet
					dynasty = none
					flag = special_courtier
				}
			}
			7 = { #giant
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = hill_giant
					religion = giant_pantheon
					dynasty = none
					flag = special_courtier
				}
			}
			7 = { #illithid
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = illithid
					religion = illithid_pantheon
					trait = genius
					dynasty = none
					flag = special_courtier
				}
			}
			7 = { #beholder
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = beholder
					religion = beholder_pantheon
					trait = shrewd
					dynasty = none
					flag = special_courtier
				}
			}
			7 = { #aboleth
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = aboleth
					religion = faithless
					trait = genius
					dynasty = none
					flag = special_courtier
				}
			}
			7 = { #young dragon
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = draconic
					religion = tiamat
					trait = journeyman_sorcerer
					dynasty = none
					flag = special_courtier
				}
				change_variable = {
					which = global_counter_dragon
					value = 1
				}
			}
			10 = { #vampire
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 8
					}
					trait = vampire
					trait = robust
					trait = shrewd
					culture = ROOT
					dynasty = none
				}
			}
			10 = { #lycan
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					trait = creature_human
					trait = natural_lycanthrope
					culture = ROOT
					religion = deities_of_fury
					trait = patron_malar
					dynasty = none
				}
			}
			10 = { #naga
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = naga
					religion = scale_cult
					dynasty = none
					flag = special_courtier
				}
			}
			7 = { #baatezu
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = baatezu
					religion = infernal
					dynasty = none
					flag = special_courtier
				}
				change_variable = {
					which = global_counter_baator
					value = 1
				}
			}
			7 = { #tanarri
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 8
						stewardship = 4
						intrigue = 6
						learning = 6
					}
					culture = tanarri
					religion = abyssal_cult
					dynasty = none
					flag = special_courtier
				}
			}
		}
		new_character = {
			save_event_target_as = final_boss
			save_event_target_as = combatant_2
			remove_weak_congenital_trait_effect = yes
			remove_dumb_congenital_trait_effect = yes
			remove_trait = craven
			remove_trait = kind
			remove_trait = charitable
			trigger_switch = {
				on_trigger = trait
				creature_orc = {
					random_list = {
						1 = {
							add_trait = trained_barbarian
						}
						1 = {
							add_trait = journeyman_barbarian
						}
					}
				}
				creature_goblin = {
					random_list = {
						1 = {
							add_trait = trained_rogue
						}
						1 = {
							add_trait = journeyman_rogue
						}
					}
				}
				creature_hobgoblin = {
					random_list = {
						1 = {
							add_trait = trained_fighter
						}
						1 = {
							add_trait = journeyman_fighter
						}
					}
				}
				creature_bugbear = {
					random_list = {
						1 = {
							add_trait = trained_ranger
						}
						1 = {
							add_trait = journeyman_ranger
						}
					}
				}
				creature_gnoll = {
					random_list = {
						1 = {
							add_trait = trained_barbarian
						}
						1 = {
							add_trait = journeyman_barbarian
						}
					}
				}
				creature_ogre = {
					random_list = {
						1 = {
							add_trait = trained_barbarian
						}
						1 = {
							add_trait = journeyman_barbarian
						}
					}
				}
				creature_kobold = {
					random_list = {
						1 = {
							add_trait = trained_sorcerer
						}
						1 = {
							add_trait = journeyman_sorcerer
						}
					}
				}
				creature_drow = {
					random_list = {
						1 = {
							add_trait = trained_cleric
						}
						1 = {
							add_trait = journeyman_cleric
						}
					}
				}
				creature_sahuagin = {
					random_list = {
						1 = {
							add_trait = trained_fighter
						}
						1 = {
							add_trait = journeyman_fighter
						}
					}
				}
				undead = {
					random_list = {
						1 = {
							religion = dead_three
						}
						1 = {
							religion = shadow_gods
						}
						1 = {
							religion = church_of_cyric
						}
						1 = {
							religion = abyssal_cult
						}
						1 = {
							religion = infernal
						}
					}
					random_list = {
						1 = {
							add_trait = journeyman_cleric
						}
						1 = {
							add_trait = journeyman_paladin
						}
						1 = {
							add_trait = journeyman_fighter
						}
						1 = {
							add_trait = journeyman_monk
						}
						1 = {
							add_trait = journeyman_rogue
						}
						1 = {
							add_trait = journeyman_wizard
							add_trait = wiz_necromancy
						}
					}
				}
				creature_troll = {
					random_list = {
						1 = {
							add_trait = expert_barbarian
						}
						1 = {
							add_trait = master_barbarian
						}
					}
				}
				creature_minotaur = {
					random_list = {
						1 = {
							add_trait = expert_barbarian
						}
						1 = {
							add_trait = master_barbarian
						}
					}
				}
				creature_giant = {
					random_list = {
						1 = {
						}
						1 = {
							culture = stone_giant
							set_graphical_culture = stone_giant
						}
						1 = {
							culture = frost_giant
							set_graphical_culture = frost_giant
						}
						1 = {
							culture = fire_giant
							set_graphical_culture = fire_giant
						}
						1 = {
							culture = fog_giant
							set_graphical_culture = fog_giant
						}
					}
					random_list = {
						1 = {
							add_trait = expert_cleric
						}
						1 = {
							add_trait = expert_barbarian
						}
						1 = {
							add_trait = master_cleric
						}
						1 = {
							add_trait = master_barbarian
						}
					}
				}
				creature_illithid = {
					random_list = {
						2 = {
						}
						1 = {
							add_trait = creature_ulitharid
						}
					}
					random_list = {
						1 = {
							add_trait = expert_psion
						}
						1 = {
							add_trait = master_psion
						}
					}
				}
				creature_beholder = {
					random_list = {
						2 = {
						}
						1 = {
							add_trait = elder_orb
							add_trait = giant
							add_trait = strong
						}
					}
					random_list = {
						1 = {
							add_trait = expert_sorcerer
						}
						1 = {
							add_trait = master_sorcerer
						}
					}
				}
				creature_aboleth = {
					random_list = {
						1 = {
							add_trait = expert_wizard
						}
						1 = {
							add_trait = master_wizard
						}
					}
					add_trait = wiz_abjuration
				}
				creature_dragon = {
					random_list = {
						1 = {
							culture = red_dragon
							set_graphical_culture = red_dragon
						}
						1 = {
							culture = blue_dragon
							set_graphical_culture = blue_dragon
						}
						1 = {
							culture = black_dragon
							set_graphical_culture = black_dragon
						}
						1 = {
							culture = green_dragon
							set_graphical_culture = green_dragon
						}
						1 = {
							culture = white_dragon
							set_graphical_culture = white_dragon
						}
						1 = {
							culture = brown_dragon
							set_graphical_culture = brown_dragon
						}
					}
				}
				vampire = {
					random_list = {
						1 = {
							religion = dead_three
						}
						1 = {
							religion = shadow_gods
						}
						1 = {
							religion = church_of_cyric
						}
						1 = {
							religion = abyssal_cult
						}
						1 = {
							religion = infernal
						}
					}
					random_list = {
						1 = {
							add_trait = expert_cleric
						}
						1 = {
							add_trait = expert_paladin
						}
						1 = {
							add_trait = expert_fighter
						}
						1 = {
							add_trait = expert_monk
						}
						1 = {
							add_trait = expert_rogue
						}
						1 = {
							add_trait = expert_wizard
							add_trait = wiz_necromancy
						}
						1 = {
							add_trait = master_cleric
						}
						1 = {
							add_trait = master_paladin
						}
						1 = {
							add_trait = master_fighter
						}
						1 = {
							add_trait = master_monk
						}
						1 = {
							add_trait = master_rogue
						}
						1 = {
							add_trait = master_wizard
							add_trait = wiz_necromancy
						}
					}
				}
				natural_lycanthrope = {
					random_list = {
						4 = {
							add_trait = werewolf
						}
						3 = {
							add_trait = wererat
						}
						2 = {
							add_trait = weretiger
						}
						1 = {
							add_trait = werecrocodile
						}
					}
					random_list = {
						1 = {
							add_trait = expert_fighter
						}
						1 = {
							add_trait = expert_barbarian
						}
						1 = {
							add_trait = expert_ranger
						}
						1 = {
							add_trait = master_fighter
						}
						1 = {
							add_trait = master_barbarian
						}
						1 = {
							add_trait = master_ranger
						}
					}
					update_hidden_modifiers = yes
				}
				creature_naga = {
					random_list = {
						1 = {
							add_trait = expert_wizard
						}
						1 = {
							add_trait = master_wizard
						}
					}
					add_trait = wiz_abjuration
				}
				creature_fiend = {
					random_list = {
						1 = {
							add_trait = expert_warlock
						}
						1 = {
							add_trait = master_warlock
						}
					}
					add_trait = warlock_fiend
					set_character_flag = got_warlock_pact_weapon
					add_artifact = warlock_pact_weapon
				}
			}

			character_event = { id = ADVN.102 }
			character_event = { id = frxp.1 }
		}
		event_target:party_member_1 = {
			save_event_target_as = combatant_1
			character_event = { id = ADVN.100 }
		}
		event_target:party_member_1 = {
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
		if = {
			limit = { #bad ending
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.31 days = 1 }
		}
		else = { #good ending
			character_event = { id = ADVN.30 days = 1  }
		}
	}
}
#Host Leader Fights adv 1
character_event = {
	id = ADVN.206
	hide_window = yes
	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	immediate = {
		event_target:final_boss = {
			save_event_target_as = combatant_2
		}
		event_target:party_member_1 = {
			save_event_target_as = combatant_1
			character_event = { id = ADVN.100 }
		}
		event_target:party_member_1 = {
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
		if = {
			limit = { #bad ending
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.36 days = 1 }
		}
		else = { #good ending
			character_event = { id = ADVN.35 days = 1  }
		}
	}
}

#WIP: option for AI rulers to adventure, very hard adventures

namespace = character_trait

character_event = {
	id = character_trait.0
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		NOR = {
			trait = avatar
			trait = adopted
			trait = is_clone
			faerun_any_race = yes
			has_character_flag = faerun_generated
		}
	}

	immediate = {
		# on_action events seemingly have fixed random seed, which breaks species randomization, we need cycle setup to enforce it
		if = {
			limit = { check_variable = { which = global_char_spawn_seed value >= 50 } }

			set_variable = { which = global_char_spawn_seed value = 0 }
		}
		change_variable = { which = global_char_spawn_seed value = 1 }

		set_variable = { which = local_loop_counter which = global_char_spawn_seed }
		while = {
			limit = { check_variable = { which = local_loop_counter value > 0 } }

			subtract_variable = { which = local_loop_counter value = 1 }
			if = {
				limit = { check_variable = { which = local_loop_counter value <= 0 } }

				character_event = { id = character_trait.1 }
			}
		}
	}
}

character_event = {
	id = character_trait.1
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		# Fix noculture generated characters.
		if = {
			limit= {
				NOT = { gfx_culture_scope = { always = yes } }
				culture_scope = { always = yes }
			}
			set_graphical_culture = ROOT
		}

		# Local courts.
		if = {
			limit = {
				OR = {
					is_ruler = no
					lower_tier_than = count
				}
				liege = {
					is_landed = yes
					OR = {
						has_character_flag = local_court
						trait = creature_dragon
						trait = creature_sarrukh
						trait = creature_elder_brain
						trait = creature_hag
						trait = creature_aboleth
						trait = creature_angel
						trait = creature_fiend
						trait = creature_genie
						trait = creature_outsider
						AND = {
							trait = creature_slaad
							NOT = {
								gfx_culture_scope = { culture = slaad }
							}
						}
						AND = {
							trait = creature_construct
							NOT = {
								gfx_culture_scope = { culture = modron }
							}
						}
						culture_group = outworlder_group
						trait = avatar
					}
				}
				NOR = {
					has_character_flag = religious_revolter
					has_character_flag = heretic_revolter
					has_character_flag = nationalist_rebel
					is_special_courtier = yes
				}
			}
			# random = {
				# chance = 40
				# mult_modifier = {
					# factor = 3
					# liege = {
						# NOR = {
							# trait = creature_angel
							# trait = creature_fiend
							# trait = creature_genie
							# trait = creature_outsider
						# }
					# }
				# }

				capital_scope = {
					ROOT = {
						culture = PREV
						set_graphical_culture = PREV
						if = {
							limit = { is_ruler = no }
							religion = PREV
						}
					}
				}
			# }
		}

		if = { # correcting autogenerated temple barons for religions that don't allow female temple holders
			limit = {
				tier = baron
			}
			if = {
				limit = {
					capital_holding = { holding_type = TEMPLE }
					religion_allows_female_temple_holders = no
					is_female = yes
				}
				set_gender = male
				set_government_type = baron_theocracy_government
				set_character_flag = gender_changed_for_temple
			}
		}

		trigger_switch = {
			on_trigger = graphical_culture
			# arranged in alphabetical order of culture file, and then in the order they occur in those files, except humans which are the fallback
			
			# demihuman block

			# orc group

			highorcgfx 		= { # Mountain Orcs, Oscray
				random_list = {
					98 = {
						add_trait = creature_orc
					}
					1 = {
						trigger = { allow_changing_race = yes }
						set_graphical_culture = tanarukk
						add_trait = creature_tanarukk
					}
					1 = {
						trigger = { allow_changing_race = yes }
						set_graphical_culture = ogrillon
						add_trait = creature_ogrillon
					}
				}
			}
			grayorcgfx 		= { # Gray Orcs, Orogs
				random_list = {
					98 = {
						add_trait = creature_orc
					}
					1 = {
						trigger = { allow_changing_race = yes }
						set_graphical_culture = tanarukk
						add_trait = creature_tanarukk
					}
					1 = {
						trigger = { allow_changing_race = yes }
						set_graphical_culture = ogrillon
						add_trait = creature_ogrillon
					}
				}
			}
			ogrillongfx 	= { # Ogrillons
				add_trait = creature_ogrillon
			}
			ondontigfx 		= { # Ondonti
				add_trait = creature_orc # No tanarukks or ogrillons
			}
			tanarukkgfx 	= { # Tanarukks
				add_trait = creature_tanarukk
			}
			scrogfx 		= { # Scro
				add_trait = creature_orc # No tanarukks or ogrillons
			}
			halforcgfx 	= { # Half-Orc
				add_trait = creature_half_orc
			}
			
			# goblinoid group
			
			bugbeargfx 		= { # Bugbears
				random_list = {
					95 = {
						add_trait = creature_bugbear
					}
					3 = {
						trigger = { allow_changing_race = yes }
						set_graphical_culture = goblin
						add_trait = creature_goblin
					}
					2 = {
						trigger = { allow_changing_race = yes }
						set_graphical_culture = hobgoblin
						add_trait = creature_hobgoblin
					}
				}
			}
			goblingfx		= { # Goblins
				random_list = {
					95 = {
						add_trait = creature_goblin
					}
					3 = {
						trigger = { allow_changing_race = yes }
						set_graphical_culture = bugbear
						add_trait = creature_bugbear
					}
					2 = {
						trigger = { allow_changing_race = yes }
						set_graphical_culture = hobgoblin
						add_trait = creature_hobgoblin
					}
				}
			}
			forestgoblingfx = { # Tasloi, Batiri
				add_trait = creature_goblin
			}
			nightgoblingfx 	= { # Bakemono
				random_list = {
					99 = {
						add_trait = creature_goblin
					}
					1 = {
						trigger = { allow_changing_race = yes }
						add_trait = creature_ogre
						spawn_random_oni = yes
						if = {
							limit = { allow_changing_culture = yes }
							culture = ogre_magi
						}
					}
				}
			}
			dekantergfx		= { # Dekanter Goblins
				add_trait = creature_goblin
			}
			humanoidgfx 	= { # Hobgoblins
				add_trait = creature_hobgoblin # typically no others
			}
			
			# dragon block
			
			# draconic culture group
			
			dragongfx		= {
				add_trait = creature_dragon # That's it - if they get this far, they're always dragons
			}
			
			# dragonkin group
			
			dragonspawngfx	= { # Dragonspawn of Tiamat
				add_trait = creature_dragonborn
			}			
			dragonborngfx	= { # Dragonborn of Bahamut, Vayemniri, Thymari
				add_trait = creature_dragonborn
			}
			strixikigfx		= { # Strixiki
				add_trait = creature_dragonborn
			}
			koboldgfx		= { # Kobold
				random_list = {
					98 = {
						add_trait = creature_kobold
					}
					2 = {
						trigger = { 
							has_global_flag = spellplague_happened 
							allow_changing_race = yes
						}
						set_graphical_culture = strixiki
						culture = strixiki
						add_trait = creature_dragonborn
					}
				}
			}
			
			# dwarves block, dwarf group
			
			norsedwarfgfx  = { # Arctic Dwarves
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_dwarf
				}
				else = {
					add_trait = creature_dwarf
				}
			}			
			derrogfx		= { # Derro
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_dwarf
				}
				else = {
					add_trait = creature_dwarf
				}
			}
			duergargfx		= { # Duergar
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_dwarf
				}
				else = {
					random_list = {
						85 = {
							add_trait = creature_dwarf
						}
						9 = {
							trigger = { allow_changing_culture = yes }
							add_trait = creature_dwarf
							set_graphical_culture = derro
							culture = derro
						}
						2 = {
							trigger = { allow_changing_race = yes }
							add_trait = creature_tiefling # durzagon, so don't change gfx
							set_graphical_culture = gold_dwarf
							add_character_modifier = {
								name = durzagon
								duration = -1
							}
						}
						2 = {
							trigger = { allow_changing_race = yes }
							add_trait = creature_orc
							set_graphical_culture = orog
							if = {
								limit = { allow_changing_culture = yes }
								culture = orog
							}
						}
						1 = {
							trigger = { allow_changing_race = yes }
							add_trait = creature_giant
							set_graphical_culture = stone_giant
							if = {
								limit = { allow_changing_culture = yes }
								culture = stone_giant
							}
						}
						1 = { # specials
							trigger = {
								allow_changing_race = yes
								is_patrician = no
							}
							random_list = {
								33 = {
									add_trait = creature_tengu
									set_graphical_culture = corbie
									if = {
										limit = {
											allow_changing_culture = yes
										}
										culture = corbie
									}
								}
								33 = {
									add_trait = creature_elf
									add_trait = feytouched
									set_graphical_culture = shadar_kai
									if = {
										limit = {
											allow_changing_culture = yes
										}
										culture = shadar_kai
									}
								}
								33 = {
									add_trait = creature_drow
									set_graphical_culture = drow
									if = {
										limit = {
											allow_changing_culture = yes
										}
										culture = drow
									}
								}
								1 = {
									add_trait = creature_dwarf
									set_character_flag = secret_dragon
									set_character_flag = is_red_dragon
								}
							}
						}
					}
				}
			}
			golddwarfgfx	= { # Gold Dwarves
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_dwarf
				}
				else = {
					add_trait = creature_dwarf
				}
			}
			korpokkurgfx	= { # Korpokkur
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_dwarf
				}
				else = {
					add_trait = creature_dwarf
				}
			}
			dwarfgfx 		= { # Shield Dwarves
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_dwarf
				}
				else = {
					add_trait = creature_dwarf
				}
			}
			earthfastgfx 		= { # Earthfast Dwarves
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_dwarf
				}
				else = {
					add_trait = creature_dwarf
				}
			}
			wilddwarfgfx	= { # Wild Dwarves
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_dwarf
				}
				else = {
					add_trait = creature_dwarf
				}
			}
			chultdwarfgfx	= { # Chultan Dwarves
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_dwarf
				}
				else = {
					add_trait = creature_dwarf
				}
			}
			earthrootgfx	= { # Earthroot Dwarves
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_dwarf
				}
				else = {
					add_trait = creature_dwarf
				}
			}
			urdunnirgfx	= { # Urdunnir Dwarves
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_dwarf
				}
				else = {
					add_trait = creature_dwarf
				}
			}

			# elves block

			# Dark Elf group

			darkelfgfx		= { # Dark Elves
				random_list = {
					97 = {
						add_trait = creature_elf
					}
					10 = {
						trigger = { allow_changing_race = yes }
						add_trait = creature_elf
						set_graphical_culture = moon_elf
						if = {
							limit = { allow_changing_culture = yes }
							culture = moon_elf
						}
					}
					1 = {
						trigger = { allow_changing_race = yes }
						add_trait = creature_halfling
						set_graphical_culture = tallfellow
						if = {
							limit = { allow_changing_culture = yes }
							culture = tallfellow
							religion = halfling_pantheon
						}
					}
				}
			}
			drowgfx 		= { # Udadrow
				random_list = {
					97 = {
						add_trait = creature_drow
					}
					1 = {
						trigger = { allow_changing_race = yes }
						add_trait = creature_human
						random_list = {
							10 = {
								set_graphical_culture = cormyrean
							}
							10 = {
								set_graphical_culture = chondathan
							}
							10 = {
								set_graphical_culture = highcoaster
							}
							10 = {
								set_graphical_culture = turmic
							}
							10 = {
								set_graphical_culture = ching
							}
							10 = {
								set_graphical_culture = diaman
							}
							10 = {
								set_graphical_culture = tashalan
							}
							10 = {
								set_graphical_culture = nar
							}
							10 = {
								set_graphical_culture = illuskan
							}
							10 = {
								set_graphical_culture = tuigan
							}
						}
					}
					1 = {
						trigger = { allow_changing_race = yes }
						add_trait = creature_orc
						random_list = {
							50 = {
								set_graphical_culture = orc
							}
							50 = {
								set_graphical_culture = gray_orc
							}
						}
					}
					1 = { # specials
						trigger = {
							allow_changing_race = yes
							is_patrician = no
						}
						random_list = {
							33 = {
								add_trait = creature_tengu
								set_graphical_culture = corbie
								if = {
									limit = {
										allow_changing_culture = yes
									}
									culture = corbie
								}
							}
							33 = {
								add_trait = creature_elf
								add_trait = feytouched
								set_graphical_culture = shadar_kai
								if = {
									limit = {
										allow_changing_culture = yes
									}
									culture = shadar_kai
								}
							}
							32 = {
								add_trait = creature_dwarf
								set_graphical_culture = duergar
								if = {
									limit = {
										allow_changing_culture = yes
									}
									culture = duergar
								}
							}
							1 = {
								add_trait = creature_drow
								set_character_flag = secret_dragon
								set_character_flag = is_shadow_dragon
							}
							1 = {
								add_trait = creature_drow
								set_character_flag = secret_dragon
								set_character_flag = is_deep_dragon
							}
						}
					}
				}
			}
			lorendrowgfx	= { # Lorendrow
				add_trait = creature_drow
			}
			aevendrowgfx	= { # Aevendrow
				add_trait = creature_drow
			}
			druchiigfx		= { # Crinti
				add_trait = creature_half_elf
			}
			draeglothgfx	= { # Draegloths
				add_trait = creature_draegloth
			}

			# High Elf group

			moonelfgfx		= { # Moon Elves, Avariel
				if = {
					limit = {
						culture = moon_elf
						allow_changing_race = yes
					}
					random_list = {
						97 = {
							add_trait = creature_elf
						}
						15 = {
							add_trait = creature_elf
							set_graphical_culture = sun_elf
							if = {
								limit = { allow_changing_culture = yes }
								culture = sun_elf
							}
						}
						9 = {
							add_trait = creature_elf
							set_graphical_culture = wood_elf
							if = {
								limit = { allow_changing_culture = yes }
								culture = wood_elf
							}
						}
						1 = {
							add_trait = creature_halfling
							set_graphical_culture = tallfellow
							if = {
								limit = { allow_changing_culture = yes }
								culture = tallfellow
								religion = halfling_pantheon
							}
						}
					}
				}
				else = {
					add_trait = creature_elf
				}
			}
			asurgfx 		= { # Sun Elves, Llewyrr
				if = {
					limit = {
						culture = sun_elf
						allow_changing_race = yes
					}
					random_list = {
						97 = {
							add_trait = creature_elf
						}
						15 = {
							add_trait = creature_elf
							set_graphical_culture = moon_elf
							if = {
								limit = { allow_changing_culture = yes }
								culture = moon_elf
							}
						}
						9 = {
							add_trait = creature_elf
							set_graphical_culture = wood_elf
							if = {
								limit = { allow_changing_culture = yes }
								culture = wood_elf
							}
						}
						1 = {
							add_trait = creature_halfling
							set_graphical_culture = tallfellow
							if = {
								limit = { allow_changing_culture = yes }
								culture = tallfellow
								religion = halfling_pantheon
							}
						}
					}
				}
				else = {
					add_trait = creature_elf
				}
			}
			snowelfgfx		= { # Astral Elves, Snow Elves, Lythari (Sylvan Elf group)
				add_trait = creature_elf
				if = {
					limit = { gfx_culture_scope = { culture = lythari } }
					add_trait = natural_lycanthrope
					add_trait = werewolf
					update_hidden_modifiers = yes
				}
			}
			feyrigfx	    = { # Fey'ri
				add_trait = creature_feyri
			}
			seaelfgfx		= { # Sea Elves, Malenti (monster block, fish group)
				add_trait = creature_elf
			}
			halfsunelfgfx	= { # Half Sun Elves
				add_trait = creature_half_elf
			}
			halfmoonelfgfx	= { # Half Moon Elves
				add_trait = creature_half_elf
			}
			halfseaelfgfx	= { # Half Sea Elves
				add_trait = creature_half_elf
			}

			# Sylvan Elf group

			greenelfgfx		= { # Green Elves, Yuir Elves
				add_trait = creature_elf
				if = {
					limit = { 
						culture = yuir_elf 
						allow_changing_race = yes
					}
					random = {
						chance = 1
						add_trait = feytouched
						set_graphical_culture = star_elf
						if = {
							limit = { allow_changing_culture = yes }
							culture = star_elf
							religion = yuir
						}
					}
				}
			}
			asraigfx		= { # Wood Elves
				random_list = {
					97 = {
						add_trait = creature_elf
					}
					3 = {
						trigger = { allow_changing_race = yes }
						add_trait = creature_centaur
						set_graphical_culture = centaur
						if = {
							limit = { allow_changing_culture = yes }
							culture = centaur
							religion = sylvan
						}
					}
					1 = {
						trigger = { allow_changing_race = yes }
						add_trait = creature_halfling
						set_graphical_culture = tallfellow
						if = {
							limit = { allow_changing_culture = yes }
							culture = tallfellow
							religion = halfling_pantheon
						}
					}
				}
			}
			poscadargfx		= { # Poscadar Elves
				add_trait = creature_elf
			}
			halfwoodelfgfx	= { # Half Wood Elves
				add_trait = creature_half_elf
			}
			halfgreenelfgfx	= { # Half Green Elves
				add_trait = creature_half_elf
			}

			# Eladrin group

			eladringfx		= { # Fey Eladrin
				add_trait = creature_elf
				add_trait = feytouched
			}
			maraloigfx		= { # Star Elves, Maraloi
				add_trait = creature_elf
				add_trait = feytouched
			}
			shadarkaigfx	= { # Shadar-Kai, LeShay
				add_trait = creature_elf
				add_trait = feytouched
			}
			halfeladringfx	= { # Half Eladrin
				add_trait = creature_half_elf
				add_trait = feytouched
			}
			halfshadarkaigfx = { # Half Shadar-Kai
				add_trait = creature_half_elf
				add_trait = feytouched
			}
			
			# giants block
			
			# giant group
			
			cloudgiantgfx	= { # Cloud Giants, Fog Giants
				add_trait = creature_giant
			}
			firegiantgfx	= { # Fire Giants
				add_trait = creature_giant
			}
			frostgiantgfx	= { # Frost Giants
				add_trait = creature_giant
			}
			giantgfx 		= { # Hill Giants, Mountain Giants
				add_trait = creature_giant
			}
			stonegiantgfx	= { # Stone Giants
				add_trait = creature_giant
			}
			ashgiantgfx	= { # Ash Giants
				add_trait = creature_giant
			}
			stormgiantgfx	= { # Storm Giants
				add_trait = creature_giant
			}
			
			# giantkin group
			
			fomoriangfx		= { # Fomorians
				add_trait = creature_giant
			}
			ogresgfx 		= { # Ogres
				add_trait = creature_ogre
				if = {
					limit = { allow_changing_race = yes }
					random = {
						chance = 2
						set_graphical_culture = ogre_magi
					}
				}
			}
			ogrimagfx		= { # Ogrima
				add_trait = creature_ogre
			}
			merrowgfx		= { # Merrow
				add_trait = creature_ogre
				add_trait = lifespan_merrow
			}
			onigfx			= { # Oni (Ogre Magi)
				spawn_random_oni = yes
			}
			redonigfx		= { # Red Oni (used in Oni for variation)
				add_trait = creature_ogre
				if = {
					limit = { allow_changing_race = yes }
					random_list = {
						80 = {
						
						}
						40 = {
							set_graphical_culture = ogre_magi
						}
						15 = { # go-zu-oni
							set_graphical_culture = minotaur
							add_trait = strong
						}
						5 = { # me-zu-oni
							set_graphical_culture = equinal
							add_trait = strong
							add_trait = robust
							add_trait = duelist
						}
					}
				}
			}
			woodgiantgfx 	= { # Voadkyn, Verbeeg, Firbolg
				add_trait = creature_giant
			}
			halfogregfx		= { # Half-Ogres
				add_trait = creature_half_ogre
			}

			# Nafili group (Zakharan giants)

			desertgiantgfx = { # Desert Giants, Sand Giants (Mordrin group)
				add_trait = creature_giant
			}
			junglegiantgfx = { # Jungle Giants
				add_trait = creature_giant
			}
			reefgiantgfx = { # Reef Giants
				add_trait = creature_giant
			}
			cyclopsgfx 	= { # Island Giants
				add_trait = creature_giant
			}
			
			# Mordrin group (titans and others)
			
			earthtitangfx = { # Earth Titans
				add_trait = creature_giant
			}
			trollgfx	= { # Trolls
				add_trait = creature_troll
			}
			goliathgfx	= { # Gol-Kaa, Stone Goliaths/Half-Giants (goliaths)
				if = {
					limit = { culture_group = mordrin_group }
					add_trait = creature_goliath
				}
				else = {
					add_trait = creature_half_giant
				}
			}
			stormgoliathgfx = { # Storm Goliaths/Half-Giants (goliaths)
				if = {
					limit = { culture_group = mordrin_group }
					add_trait = creature_goliath
				}
				else = {
					add_trait = creature_half_giant
				}
			}
			cloudgoliathgfx = { # Cloud Goliaths/Half-Giants (goliaths)
				if = {
					limit = { culture_group = mordrin_group }
					add_trait = creature_goliath
				}
				else = {
					add_trait = creature_half_giant
				}
			}
			firegoliathgfx = { # Fire Goliaths/Half-Giants (goliaths)
				if = {
					limit = { culture_group = mordrin_group }
					add_trait = creature_goliath
				}
				else = {
					add_trait = creature_half_giant
				}
			}
			frostgoliathgfx = { # Frost Goliaths/Half-Giants (goliaths)
				if = {
					limit = { culture_group = mordrin_group }
					add_trait = creature_goliath
				}
				else = {
					add_trait = creature_half_giant
				}
			}
			halfgiantgfx = { # Hill Goliaths/Half-Giants (goliaths)
				if = {
					limit = { culture_group = mordrin_group }
					add_trait = creature_goliath
				}
				else = {
					add_trait = creature_half_giant
				}
			}

			# human block - most humans are in the fallback section below

			# Imaskari group
			
			deepimaskarigfx	= { # Deep Imaskari and Diaman
				add_trait = creature_deep_imaskari
			}

			# Katakoro group

			maviddigfx		= {
				add_trait = creature_half_elf
			}

			# Netherese group

			shadovargfx		=  { # Shadovar
				random_list = {
					95 = {
						add_trait = creature_human
					}
					5 = {
						trigger = { allow_changing_race = yes }
						add_trait = creature_elf
						add_trait = feytouched
						set_graphical_culture = shadar_kai
						if = {
							limit = { allow_changing_culture = yes }
							culture = shadar_kai
						}
					}
				}
			}
			dtariggfx		= {
				add_trait = creature_half_dwarf
			}

			
			# littlefolk block
			
			# gnome group
			
			gnomesgfx		= { # Rock Gnomes
				add_trait = creature_gnome
			}
			forestgnomesgfx	= { # Forest Gnomes
				add_trait = creature_gnome
			}
			svirfneblingfx	= { # Svirfneblin (Deep Gnomes)
				add_trait = creature_gnome
			}
			# Lantanna skipped here and handled under humans

			# halfling (Hin) group

			hobbitsgfx 		= { # Lightfoot, Strongheart, Tallfellow
				add_trait = creature_halfling
				if = {
					limit = {
						NOT = { culture = tallfellow }
						allow_changing_culture = yes
					}
					random_list = {
						35 = {
						}
						1 = {
							culture = tallfellow
						}
					}
				}
			}
			ghostwisegfx	= { # Ghostwise
				add_trait = creature_halfling
			}
			shugfx			= { # Shu
				add_trait = creature_halfling
			}
			
			# monster block
			
			# undead group - entirely graphics only

			necrarchgfx		= { # Liches
				add_trait = creature_human
				random_list = {
					70 = { add_trait = undead }
					30 = {
						trigger = { allow_changing_race = yes }
						add_trait = lich
						add_artifact = lich_phylactery_artf
					}
				}
			}
			strigoigfx		= { # assorted undead non-humans
				add_trait = undead
				if = {
					limit = {
						culture_group = goblinoid_group
					}
					if = {
						limit = {
							culture = hobgoblin
						}
						add_trait = creature_hobgoblin
					}
					else_if = {
						limit = {
							culture = bugbear
						}
						add_trait = creature_bugbear
					}
					else = { add_trait = creature_goblin }
				}
				else_if = {
					limit = {
						culture = gnoll
					}
					add_trait = creature_gnoll
				}
				else_if = {
					limit = {
						culture = sahuagin
					}
					add_trait = creature_sahuagin
				}
				else_if = {
					limit = {
						culture = malenti
					}
					add_trait = creature_malenti
				}
				else_if = {
					limit = {
						culture = saurial
					}
					add_trait = creature_saurial
				}
				else_if = {
					limit = {
						culture_group = scaly_group
					}
					add_trait = creature_lizardfolk
				}
				else_if = {
					limit = {
						culture = kobold
					}
					add_trait = creature_kobold
				}
				else_if = {
					limit = {
						culture_group = dragonkin_group
					}
					add_trait = creature_dragonborn
				}
				else = { add_trait = creature_orc }
			}
			nehekharangfx		= { # undead humans other than liches and vampires
				add_trait = creature_human
				add_trait = undead
			}
			carsteingfx 		= { # human vampires
				add_trait = creature_human
				add_trait = vampire
			}
			chaosdwarfgfx 		= { # dwarf vampires
				add_trait = creature_dwarf
				add_trait = vampire
			}
			undeadelfgfx		= { # undead elves other than liches
				add_trait = creature_elf
				add_trait = undead
			}
			lichelfgfx		= { # elven liches
				add_trait = creature_elf
				add_trait = lich
				add_artifact = lich_phylactery_artf
			}
			undeadgiantgfx		= { # undead giants
				add_trait = creature_giant
				add_trait = undead
			}
			undeadogregfx		= { # undead ogres
				add_trait = creature_ogre
				add_trait = undead
			}
			wraithgfx			= { # incorporeal undead
				add_trait = creature_human
				add_trait = undead
			}
			wightgfx			= { # wight
				add_trait = creature_human
				add_trait = undead
			}
			dracolichgfx		= { # undead dragons
				add_trait = creature_dragon
				random_list = {
					70 = { add_trait = undead }
					30 = {
						trigger = { allow_changing_race = yes }
						add_trait = lich
						add_artifact = lich_phylactery_artf
					}
				}
			}
			
			# minotaur group
			
			beastmangfx 	= { # Minotaurs, Baphitaurs
				if = {
					limit = { culture = ogre_magi }
					add_trait = creature_ogre
				}
				else = {
					add_trait = creature_minotaur
					if = {
						limit = { gfx_culture_scope = { culture = baphitaur } }
						add_trait = planetouched
						add_character_modifier = {
							name = baphitaur
							duration = -1
						}
					}
				}
			}
			yikariangfx		= { # Yikarians (yakfolk)
				add_trait = creature_yikarian
			}
			
			# beastfolk group
			
			gnollgfx		= { # Gnolls, Flind
				add_trait = creature_gnoll
			}
			halfgnollgfx	= { # Half-gnolls
				add_trait = creature_half_gnoll
			}			
			tabaxigfx		= { # Tabaxi, ura/tiger hengeyokai
				if = {
					limit = { culture_group = fey_group }
					add_trait = creature_hengeyokai
				}
				else = {
					add_trait = creature_tabaxi
				}
			}
			
			# fish group
			
			sahuagingfx		= { # Sahuagin, koi/carp hengeyokai
				if = {
					limit = { culture_group = fey_group }
					add_trait = creature_hengeyokai
				}
				else = {
					add_trait = creature_sahuagin
				}
			}
			slanngfx 		= { # Kuo-Toa, hydroloths
				add_trait = creature_kuotoa
			}
			
			# centaur group
			
			centaurgfx		= { # Centaurs (hippocentaurs)
				add_trait = creature_centaur
			}			
			wemicgfx		= { # Wemics (leocentaurs)
				add_trait = creature_wemic
			}
			lamiagfx		= { # Lamia nobles (ophidiocentaurs)
				add_trait = creature_lamia
			}

			# avian group

			tengugfx		= { # Tengu (eastern tengu/kenku) and kurasu/crow hengeyokai
				if = {
					limit = { culture_group = fey_group }
					add_trait = creature_hengeyokai
				}
				else = {
					add_trait = creature_tengu
				}
			}
			kenkugfx		= { # Kenku (western tengu/kenku)
				add_trait = creature_tengu
			}
			aarakocragfx	= { # Aarakocra
				add_trait = creature_aarakocra
			}
			
			# aberration culture group
			
			mindflayergfx	= { # Illithids (mind flayers) including Thoon
				add_trait = creature_illithid
			}
			elderbraingfx	= { # Illthid Elder Brains
				add_trait = creature_elder_brain
				if = {
					limit = {
						employer = {
							culture = thoon
						}
					}
					culture = thoon
				}
				else = {
					employer = {
						PREV = {
							culture = PREV
						}
					}
				}
			}			
			beholdergfx 	= { # Beholders, Spectators
				add_trait = creature_beholder
				random = {
					chance = 5
					add_trait = elder_orb
					add_trait = giant
				}
			}
			abolethgfx		= { # Aboleths
				add_trait = creature_aboleth
			}

			# construct group

			warforgedgfx	= { # Warforged
				add_trait = creature_construct
			}
			modrongfx		= { # Modrons
				add_trait = creature_construct
			}
			inevitablegfx	= { # Inevitables - Maruts, Kolyaruts, Quaruts, Varakhuts, and Zelekhuts
				add_trait = creature_construct
			}
			golemgfx		= { # not used for any culture
				add_trait = creature_construct
			}

			# outsiders block
			rilmanigfx = { # Rilmani
				add_trait = creature_outsider
			}
			empyreangfx = { # Empyreans
				add_trait = creature_outsider
			}
			fireprimordialgfx = { # Primordials of fire
				add_trait = creature_outsider
			}
			xixecalgfx = { # Xixecals
				add_trait = creature_outsider
			}
			flamergfx = { # Was gibbering mouther, now ghuanadan
				add_trait = creature_outsider
			}
			fimirgfx = { # generic star spawn
				add_trait = creature_outsider
			}
			slaadgfx = { # Slaad & Batrachi
				add_trait = creature_slaad
			}
			gormeelgfx = { # Gormeel
				add_trait = creature_slaad
			}
			
			# celestial group
			
			angelgfx 		= { # Angels (solars, devas)
				random_list = {
					1 = {
						add_trait = creature_angel
					}
					1 = {
						trigger = {
							allow_changing_race = yes
							liege = { is_landed = yes }
						}
						spawn_random_aasimar = yes
					}
				}
			}
			houndgfx 		= { # Archons (hound archons)
				random_list = {
					1 = {
						add_trait = creature_angel
						if = {
							limit = {
								OR = {
									is_playable = no
									had_global_flag = { flag = faerun_started days = 1 }
								}
								allow_changing_race = yes
							}
							random_list = {
								75 = {}
								20 = { set_graphical_culture = angel } # Trumpet and Sword archons
								5 = { set_graphical_culture = warden_archon } #Warden archons
							}
						}
					}
					1 = {
						trigger = {
							allow_changing_race = yes
							liege = { is_landed = yes }
						}
						spawn_random_aasimar = yes
					}
				}
			}
			asuragfx 		= { # Asuras
				random_list = {
					1 = {
						add_trait = creature_angel
					}
					1 = {
						trigger = {
							allow_changing_race = yes
							liege = { is_landed = yes }
						}
						spawn_random_aasimar = yes
					}
				}
			}
			celestialeladringfx = { # Celestial Eladrin
				random_list = {
					1 = {
						add_trait = creature_angel
					}
					1 = {
						trigger = {
							allow_changing_race = yes
							liege = { is_landed = yes }
						}
						spawn_random_aasimar = yes
					}
				}
			}
			einheriargfx 	= { # Einheriar
				if = {
					limit = { culture_group = celestial_group }
					random_list = {
						1 = {
							add_trait = creature_angel
						}
						1 = {
							trigger = {
								allow_changing_race = yes
								liege = { is_landed = yes }
							}
							add_trait = creature_aasimar
							add_character_modifier = {
								name = einheriar_aasimar
								duration = -1
							}
						}
					}
				}
				else = {
					add_trait = creature_aasimar
					add_character_modifier = {
						name = einheriar_aasimar
						duration = -1
					}
				}
			}
			moonmaidengfx 	= { # Moonmaidens
				if = {
					limit = { culture_group = celestial_group }
					random_list = {
						1 = {
							add_trait = creature_angel
							if = {
								limit = {
									is_female = no
									ai = yes
								}
								set_gender = female
							}
							
						}
						1 = {
							trigger = {
								allow_changing_race = yes
								liege = { is_landed = yes }
							}
							add_trait = creature_aasimar
							add_character_modifier = {
								name = moonmaiden_aasimar
								duration = -1
							}
						}
					}
				}
				else = {
					add_trait = creature_aasimar
					add_character_modifier = {
						name = moonmaiden_aasimar
						duration = -1
					}
				}
			}
			arvoralgfx 		= { # Avorals (guardinals)
				if = {
					limit = { culture_group = celestial_group }
					add_trait = creature_angel
				}
				else = {
					add_trait = creature_aasimar
					add_character_modifier = {
						name = guardinal_aasimar
						duration = -1
					}
					#spawn_random_ardling = yes
				}
			}
			equinalgfx 		= { # Equinals (guardinals); also used for me-zu-oni
				if = {
					limit = { culture = ogre_magi }
					add_trait = creature_ogre
				}
				else_if = {
					limit = { culture_group = celestial_group }
					add_trait = creature_angel
				}
				else = {
					add_trait = creature_aasimar
					add_character_modifier = {
						name = guardinal_aasimar
						duration = -1
					}
					#spawn_random_ardling = yes
				}
			}
			cervidalgfx 	= { # Cervidals (guardinals)
				if = {
					limit = { culture_group = celestial_group }
					add_trait = creature_angel
				}
				else = {
					add_trait = creature_aasimar
					add_character_modifier = {
						name = guardinal_aasimar
						duration = -1
					}
					#spawn_random_ardling = yes
				}
			}
			beargfx = { # Ursinals (guardinals) - this is the default guardinal
				if = {
					limit = { culture_group = celestial_group }
					if = {
						limit = {
							is_playable = yes
							NOT = { had_global_flag = { flag = faerun_started days = 1 } }
						}
						add_trait = creature_angel
					}
					else = {
						random_list = {
							1 = {
								spawn_random_guardinal = yes
							}
							1 = {
								trigger = {
									allow_changing_race = yes
									liege = { is_landed = yes }
								}
								spawn_random_aasimar = yes
							}
						}
					}
				}
				else_if = {
					limit = {
						gfx_culture_scope = { culture = guardinal }
					}
					add_trait = creature_aasimar
					add_character_modifier = {
						name = guardinal_aasimar
						duration = -1
					}
					#spawn_random_ardling = yes
				}
			}
			skavenwhitegfx 	= { # Mustevals (guardinals), rodent ardlings, nezumi hengeyokai
				if = {
					limit = { culture_group = celestial_group }
					add_trait = creature_angel
				}
				else_if = {
					limit = { culture_group = fey_group }
					add_trait = creature_hengeyokai
				}
				else = {
					add_trait = creature_aasimar
					add_character_modifier = {
						name = guardinal_aasimar
						duration = -1
					}
					#spawn_random_ardling = yes
				}
			}
			planetargfx 	= { # Planetars (historically a type of aasimon)
				add_trait = creature_angel
			}
			wardengfx	 	= { # Warden archons
				add_trait = creature_angel
			}

			# fiendish group

			khorneprincegfx = { # Pit fiends (baatezu) - this is the default baatezu
				if = {
					limit = {
						is_playable = yes
						NOT = { had_global_flag = { flag = faerun_started days = 1 } }
					}
					add_trait = creature_fiend
					add_trait = greater_fiend
				}
				else = {
					random_list = {
						1 = {
							spawn_random_baatezu = yes
						}
						1 = {
							trigger = {
								allow_changing_race = yes
								liege = { is_landed = yes }
							}
							spawn_random_tiefling = yes
						}
					}
				}
			}
			bloodlettergfx 	= { # Cornugons (baatezu)
				add_trait = creature_fiend
				if = {
					limit = {
						culture = cornugon
					}
					culture = baatezu
				}
			}
			gelugongfx 		= { # Gelugons (baatezu)
				add_trait = creature_fiend
				add_trait = greater_fiend
				if = {
					limit = {
						culture = gelugon
					}
					culture = baatezu
				}
			}
			erinyesgfx 		= { # Erinyes (baatezu)
				add_trait = creature_fiend
				if = {
					limit = {
						culture = erinyes
					}
					culture = baatezu
				}
			}
			abishaigfx = { # Abishai - semi-autonomous Baatezu subgroup
				add_trait = creature_fiend
			}
			nurgleprincegfx	= { # Gehreleths (demodands)
				add_trait = creature_fiend
			}
			tzeentchprincegfx = { # Vrocks (tanar'ri)- this is the default tanar'ri 
				if = {
					limit = {
						is_playable = yes
						NOT = { had_global_flag = { flag = faerun_started days = 1 } }
					}
					add_trait = creature_fiend
				}
				else = {
					random_list = {
						1 = {
							spawn_random_tanarri = yes
						}
						1 = {
							trigger = {
								allow_changing_race = yes
								liege = { is_landed = yes }
							}
							spawn_random_tiefling = yes
						}
					}
				}
			}
			balorgfx = { # Balors (tanar'ri)
				add_trait = creature_fiend
				add_trait = greater_fiend
				if = {
					limit = {
						culture = balor
					}
					culture = tanarri
				}
			}
			daemonettegfx 	= { # Succubi and incubi (tanar'ri)
				add_trait = creature_fiend
				if = {
					limit = {
						culture = succubus
					}
					culture = tanarri
				}
			}
			marilithgfx 	= { # Mariliths (tanar'ri)
				add_trait = creature_fiend
				add_trait = greater_fiend
				if = {
					limit = {
						culture = marilith
					}
					culture = tanarri
				}
			}
			slaaneshprincegfx = { # Cambions and alu-fiends (usually but not always tanar'ri)
				if = {
					limit = {
						culture_group = fiendish_group
					}
					add_trait = creature_fiend
				}
				else = {
					spawn_random_tiefling = yes
				}
			}
			nalfeshneegfx	= { # Nalfeshnee (tanar'ri)
				add_trait = creature_fiend
				add_trait = greater_fiend
				if = {
					limit = {
						culture = nalfeshnee
					}
					culture = tanarri
				}
			}
			glabrezugfx	= { # Glabrezu (tanar'ri)
				add_trait = creature_fiend
				if = {
					limit = {
						culture = glabrezu
					}
					culture = tanarri
				}
			}
			#obyriths
			chaosspawngfx	= { # Generic obyrith
				add_trait = creature_fiend
			}
			nycalothgfx		= { # Nycaloths (yugoloths) - this is the default yugoloth
				if = {
					limit = {
						is_playable = yes
						NOT = { had_global_flag = { flag = faerun_started days = 1 } }
					}
					add_trait = creature_fiend
				}
				else = {
					random_list = {
						1 = {
							spawn_random_yugoloth = yes
						}
						1 = {
							trigger = {
								allow_changing_race = yes
								liege = { is_landed = yes }
							}
							spawn_random_tiefling = yes
						}
					}
				}
			}
			ultrolothgfx	= { # Ultroloths (yugoloths)
				add_trait = creature_fiend
			}
			mezzolothgfx	= { # Mezzoloths (yugoloths)
				add_trait = creature_fiend
			}
			rakshasagfx		= { # Rakshasas
				random_list = {
					1 = {
						add_trait = creature_fiend
					}
					1 = {
						trigger = {
							allow_changing_race = yes
							liege = { is_landed = yes }
						}
						spawn_random_tiefling = yes
					}
				}
			}
			marrashgfx	 	= { # Marrashi
				random_list = {
					1 = {
						add_trait = creature_fiend
					}
					1 = {
						trigger = {
							allow_changing_race = yes
							liege = { is_landed = yes }
						}
						spawn_random_tiefling = yes
					}
				}
			}

			# gith group

			githyankigfx	= { # Githyanki, githvyrik
				add_trait = creature_gith
			}
			kurgangfx 		= { # Githzerai
				random_list = {
					75 = {
						add_trait = creature_gith
					}
					1 = {
						trigger = {
							allow_changing_race = yes
							liege = { is_landed = yes }
						}
						add_trait = creature_slaad
						set_graphical_culture = gormeel
						if = {
							limit = { allow_changing_culture = yes }
							culture = gormeel
						}
					}
				}
			}

			# plant group

			treemangfx		= { # Treants
				random_list = {
					95 = {
						add_trait = creature_treant
					}
					5 = {
						trigger = { allow_changing_race = yes }
						set_graphical_culture = hamadryad
						add_trait = creature_treant
						if = {
							limit = { allow_changing_culture = yes }
							culture = hamadryad
						}
					}
				}
			}
			shamblergfx		= { # Shambling mounds, blights
				add_trait = creature_treant
			}
			hamadryadgfx = {
				random_list = {
					65 = {
						add_trait = creature_treant
					}
					35 = {
						trigger = { allow_changing_race = yes }
						set_graphical_culture = treant
						add_trait = creature_treant
						if = {
							limit = { allow_changing_culture = yes }
							culture = treant
						}
					}
				}
			}

			# fey group

			satyrgfx		= { # Satyrs
				add_trait = creature_satyr
			}
			haggfx			= { # Hags
				random_list = {
					1 = {
						add_trait = creature_hag
					}
					1 = {
						trigger = {
							allow_changing_race = yes
							liege = { is_landed = yes }
						}
						add_trait = creature_hagspawn
						set_graphical_culture = hagspawn
					}
				}
			}
			lahmiangfx		= { # Hagspawn
				add_trait = creature_hagspawn
			}
			hengeyokaigfx	= { # Hengeyokai including katanga - this is the default hengeyokai, with static portraits of kitsune/fox, mujina/badger, and usagi/rabbit variants
				add_trait = creature_hengeyokai
				if = {
					limit = { allow_changing_race = yes }
					spawn_random_hengeyokai = yes
				}
			}
			cathayangfx		= { # Spirit folk
				add_trait = creature_spirit_folk
			}
			tamhigfx		= { # Tamhi - Malatran spirit folk
				add_trait = creature_spirit_folk
			}
			horsegfx = {}
			catgfx			 = { # neko hengeyokai
				add_trait = creature_hengeyokai
				if = {
					limit = { allow_changing_race = yes }
					spawn_random_hengeyokai = yes
				}
			}
			blackbeargfx = {} # To check
			polarbeargfx = {} # To check
			hedgehoggfx = { # Harinezumi hengeyokai
				add_trait = creature_hengeyokai
				if = {
					limit = { allow_changing_race = yes }
					spawn_random_hengeyokai = yes
				}
			}
			duckgfx = { # Kamo hengeyokai
				add_trait = creature_hengeyokai
				if = {
					limit = { allow_changing_race = yes }
					spawn_random_hengeyokai = yes
				}
			}
			doggfx = { # used for ardlings
				add_trait = creature_aasimar
				add_character_modifier = {
					name = guardinal_aasimar
					duration = -1
				}
				#spawn_random_ardling = yes
			}
			elephantgfx = {} # To check
			redpandagfx = { # Panda hengeyokai
				add_trait = creature_hengeyokai
				if = {
					limit = { allow_changing_race = yes }
					spawn_random_hengeyokai = yes
				}
			}			
			# planetouched group
			
			tieflinggfx		= { # Tieflings - default appearance / Asmodean taint
				if = {
					limit = {
						culture = tiefling
					}
					location = {
						ROOT = { culture = PREV }
					}
				}
				spawn_random_tiefling = yes
			}
			aasimargfx		= { # Aasimar - default appearance, including starting point for ardlings
				add_trait = creature_aasimar
				if = {
					limit = { allow_changing_race = yes }
					spawn_random_aasimar = yes
				}
				if = {
					limit = {
						culture_group = planetouched_group
					}
					location = {
						ROOT = { culture = PREV }
					}
				}
			}
			greenaasimargfx = { # Aasimar - planetar variant
				add_trait = creature_aasimar
				add_character_modifier = {
					name = angel_aasimar
					duration = -1
				}
			}
			devaasimargfx = { # Aasimar - deva and asura variant
				add_trait = creature_aasimar
				add_character_modifier = {
					name = asura_aasimar
					duration = -1
				}
			}
			caledoriangfx = { # Aasimar - celestial eladrin variant
				add_trait = creature_aasimar
				add_character_modifier = {
					name = eladrin_aasimar
					duration = -1
				}
			}
			airgenasigfx 	= { # Genasi - air variant
				add_trait = creature_genasi
			}
			earthgenasigfx 	= { # Genasi - earth variant
				add_trait = creature_genasi
			}
			firegenasigfx 	= { # Genasi - fire variant, also used as default
				if = {
					limit = {
						allow_changing_race = yes
						gfx_culture_scope = {
							#OR = {
							#	culture = genasi
								culture = shyran
							#}
						}
					}
					spawn_random_genasi = yes
				}
				add_trait = creature_genasi
			}
			watergenasigfx 	= { # Genasi - water variant
				add_trait = creature_genasi
			}

			# genie group

			nomadgfx 		= { # Jann
				random_list = {
					1 = {
						add_trait = creature_genie
					}
					1 = {
						trigger = {
							allow_changing_race = yes
							liege = { is_landed = yes }
						}
						spawn_random_genasi = yes
					}
				}
			}
			earthgeniegfx	= { # Dao
				random_list = {
					1 = {
						add_trait = creature_genie
					}
					1 = {
						trigger = {
							allow_changing_race = yes
							liege = { is_landed = yes }
						}
						spawn_random_genasi = yes
					}
				}
			}
			airgeniegfx		= { # Djinn
				random_list = {
					1 = {
						add_trait = creature_genie
					}
					1 = {
						trigger = {
							allow_changing_race = yes
							liege = { is_landed = yes }
						}
						spawn_random_genasi = yes
					}
				}
			}
			firegeniegfx	= { # Efreet
				random_list = {
					1 = {
						add_trait = creature_genie
					}
					1 = {
						trigger = {
							allow_changing_race = yes
							liege = { is_landed = yes }
						}
						spawn_random_genasi = yes
					}
				}
			}
			watergeniegfx	= { # Marid
				random_list = {
					1 = {
						add_trait = creature_genie
					}
					1 = {
						trigger = {
							allow_changing_race = yes
							liege = { is_landed = yes }
						}
						spawn_random_genasi = yes
					}
				}
			}
			qorrashigfx		= { # Qorrashi
				random_list = {
					1 = {
						add_trait = creature_genie
					}
					1 = {
						trigger = {
							allow_changing_race = yes
							liege = { is_landed = yes }
						}
						spawn_random_genasi = yes
					}
				}
			}
			undividedprincegfx		= { # Khayal
				random_list = {
					1 = {
						add_trait = creature_genie
					}
					1 = {
						trigger = {
							allow_changing_race = yes
							liege = { is_landed = yes }
						}
						spawn_random_genasi = yes
					}
				}
			}
			# outworlder group all use vanilla human portraits
			
			# province monster culture block
			
			# monster group

			monstergfx		= { # Static portraits for generic monsters
				add_trait = creature_monster
			}
			# dragons are already covered in their own group
			
			# scalykind block
			
			# scaly group
			
			sarrukhgfx 		= { # Sarrukh
				add_trait = creature_sarrukh
			}			
			yuantigfx 		= { # Yuan-ti purebloods - default yuan-ti
				if = {
					limit = { allow_changing_race = yes }
					spawn_random_yuanti = yes
				}
				else = {
					add_trait = creature_pureblood
				}
			}
			hybridgfx 		= { # Yuan-ti malison, first variant
				add_trait = creature_malison
				if = {
					limit = {
						culture = halfblood
					}
					culture = yuanti
				}
			}
			malisongfx 		= { # Yuan-ti malison, second variant
				add_trait = creature_malison
				if = {
					limit = {
						culture = malison
					}
					culture = yuanti
				}
			}
			abominationgfx	= { # Yuan-ti abomination
				add_trait = creature_abomination
				if = {
					limit = {
						culture = abomination
					}
					culture = yuanti
				}
			}
			nagagfx 		= { # Nagas, especially guardian nagas, spirit nagas, ha-naga, and the similar serpent lords
				add_trait = creature_naga
			}
			jadegfx 		= { # Bone nagas and undead sarrukh
				add_trait = creature_naga
				add_trait = undead
			}
			lizardmangfx	= { # Lizardfolk
				random_list = {
					95 = {
						add_trait = creature_lizardfolk
					}
					5 = {
						trigger = { allow_changing_race = yes }
						add_trait = creature_goblin
						set_graphical_culture = tasloi
						if = {
							limit = { allow_changing_culture = yes }
							culture = tasloi
							random_list = {
								3 = {

								}
								1 = {
									trigger = {
										is_ruler = no
										holy_order = no
									}
									religion = goblin_pantheon
								}
							}
						}
					}
				}
			}			
			asabigfx	 	= { # Asabi
				add_trait = creature_lizardfolk
			}
			firenewtgfx 	= { # Firenewts
				add_trait = creature_lizardfolk
			}
			troglodytegfx	= { # Troglodytes
				add_trait = creature_lizardfolk
			}
			saurialgfx		= { # Saurials/lacertals, all types
				add_trait = creature_saurial
			}
			pterafolkgfx 	= { # Pterafolk
				add_trait = creature_pterafolk
			}

			# bottom of main section

			# Human cultures

			fallback			= {
				if = {
					limit = {
						OR = {
							dynasty = 8011 # Silver of Aglarond
							religion = yuir
							religion = yuir_reformed
						}
					}
					add_trait = creature_half_elf
				}
				else_if = {
					limit = {
						allow_changing_race = no
					}
					add_trait = creature_human
				}
				else = {
					trigger_switch = {
						on_trigger = culture

						# alphabetical
						aglarondan = {
							random_list = {
								64 = {
									add_trait = creature_human
									random_list = {
										80 = {
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = thayan
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = rashemi
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = reacher
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = turmic
										}
									}
								}
								30 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_green_elf
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_elf
									set_graphical_culture = yuir_elf
									if = {
										limit = { allow_changing_culture = yes }
										culture = yuir_elf
										random_list = {
											1 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = elven_pantheon
												# switch here for Yuir revival
											}
											1 = {

											}
										}
									}
								}
								1 = { # specials
									trigger = {
										is_patrician = no
									}
									random_list = {
										55 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_halfling
											set_graphical_culture = lightfoot
											if = {
												limit = { allow_changing_culture = yes }
												culture = lightfoot
											}
										}
										40 = {
											trigger = { allow_changing_race = yes }
											spawn_random_tiefling = yes
										}
										5 = {
											add_trait = creature_human
											set_character_flag = secret_dragon
											set_character_flag = is_song_dragon
										}
									}
								}
							}
						}
						amnian = {
							random_list = {
								83 = {
									add_trait = creature_human
									random_list = {
										75 = {
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = calishite
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = tethyrian
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = highcoaster
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = turmic
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = ffolk
										}
									}
								}
								15 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								1 = { #  specials
									trigger = {
										is_patrician = no
									}
									random_list = {
										50 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_half_elf
											set_graphical_culture = half_green_elf
										}
										10 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_elf
											set_graphical_culture = green_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = green_elf
												random_list = {
													10 = {
														trigger = {
															is_ruler = no
															holy_order = no
														}
														religion = elven_pantheon
													}
													1 = {

													}
												}
											}
										}
										10 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_half_ogre
											set_graphical_culture = half_ogre
										}
										10 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_human
											set_graphical_culture = chultan
											if = {
												limit = { allow_changing_culture = yes }
												culture = chultan
											}
										}
										10 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_dwarf
											set_graphical_culture = shield_dwarf
											if = {
												limit = { allow_changing_culture = yes }
												culture = shield_dwarf
											}
										}
										5 = {
											trigger = {
												has_global_flag = maztica_opened
												allow_changing_race = yes
											}
											add_trait = creature_human
											set_graphical_culture = payit
											if = {
												limit = { allow_changing_culture = yes }
												culture = payit
											}
											if = {
												limit = {
													is_ruler = no
													holy_order = no
												}
												religion = qotal
											}
										}
										3 = {
											trigger = {
												allow_changing_race = yes
											}
											add_trait = creature_ogre
											set_graphical_culture = ogre
											if = {
												limit = { allow_changing_culture = yes }
												culture = ogre
											}
										}
										1 = {
											set_character_flag = secret_dragon
											set_character_flag = is_red_dragon
										}
										1 = {
											set_character_flag = secret_dragon
											set_character_flag = is_amethyst_dragon
										}
									}
								}
							}
						}
						amran = {
							random_list = { # not reviewed
								10 = {
									add_trait = creature_human
								}
								6 = {
									trigger = { allow_changing_race = yes }
									spawn_random_genasi = yes
								}
								3 = {
									trigger = { allow_changing_race = yes }
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
								}
							}
						}
						arkaiun = {
							random_list = {
								95 = {
									add_trait = creature_human
									random_list = {
										80 = {
											# do nothing
										}
										10 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = halruaan
										}
										10 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = shaaran
										}
									}
								}
								4 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									set_graphical_culture = crinti
								}
								1 = { # specials
									trigger = {
										is_patrician = no
									}
									random_list = {
										50 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_lizardfolk
											set_graphical_culture = lizardfolk
											if = {
												limit = { allow_changing_culture = yes }
												culture = lizardfolk
											}
										}
										40 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_halfling
											set_graphical_culture = strongheart
											if = {
												limit = { allow_changing_culture = yes }
												culture = strongheart
											}
										}
										9 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_human
											set_graphical_culture = halruaan
											if = {
												limit = { allow_changing_culture = yes }
												culture = halruaan
											}
										}
										1 = {
											add_trait = creature_human
											set_character_flag = secret_dragon
											set_character_flag = is_black_dragon
										}
									}
								}
							}
						}
						azuposi = { # not sure what specials to include here
							random_list = {
								96 = {
									add_trait = creature_human
								}
								4 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_elf
									set_graphical_culture = poscadar
									if = {
										limit = { allow_changing_culture = yes }
										culture = poscadar
									}
								}
							}
						}
						borderer = {
							random_list = {
								75 = {
									add_trait = creature_human
									random_list = {
										65 = {
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = calishite
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = nelanthern
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = arnadar
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = tashalan
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = chondathan
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = shaaran
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = thinguth
										}
									}
								}
								5 = {
									trigger = { allow_changing_race = yes }
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_sun_elf
								}
								3 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_gnome
									set_graphical_culture = gnome
									if = {
										limit = { allow_changing_culture = yes }
										culture = gnome
									}
								}
								3 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_genasi = yes
								}
								3 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_tiefling = yes
								}
								1 = { # specials
									trigger = {
										is_patrician = no
									}
									random_list = {
										20 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_half_elf
											set_graphical_culture = half_sea_elf
										}
										20 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_tengu
											set_graphical_culture = kenku
											if = {
												limit = { allow_changing_culture = yes }
												culture = kenku
											}
										}
										20 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_dwarf
											set_graphical_culture = gold_dwarf
											if = {
												limit = { allow_changing_culture = yes }
												culture = gold_dwarf
											}
										}
										20 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_pureblood
										}
										10 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_lizardfolk
											set_graphical_culture = lizardfolk
											if = {
												limit = { allow_changing_culture = yes }
												culture = lizardfolk
											}
										}
										9 = {
											trigger = { allow_changing_race = yes }
											spawn_random_aasimar = yes
										}
										1 = {
											add_trait = creature_human
											set_character_flag = secret_dragon # steel dragon
										}
									}
									
								}
							}
						}
						calishite = {
							random_list = {
								94 = {
									add_trait = creature_human
									random_list = {
										60 = {
										}
										10 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = lapal
										}
										10 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = tethyrian
										}
										10 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = tashalan
										}
										10 = {
											trigger = { allow_changing_race = yes }
											modifier = {
												factor = 5
												liege = {
													OR = {
														trait = creature_genie
														AND = {
															trait = creature_genasi
															religion = primordial
														}
													}
												}
											}
											remove_trait = creature_human
											spawn_random_genasi = yes
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_sun_elf
								}
								1 = { # specials
									trigger = {
										is_patrician = no
									}
									random_list = {
										20 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_orc
											set_graphical_culture = orc
										}
										20 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_half_ogre
											set_graphical_culture = half_ogre
										}
										20 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_drow
											set_graphical_culture = drow
											if = {
												limit = { allow_changing_culture = yes }
												culture = drow
											}
										}
										20 = {
											trigger = { allow_changing_race = yes }
											spawn_random_tiefling = yes
										}
										14 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_halfling
											set_graphical_culture = lightfoot
											if = {
												limit = { allow_changing_culture = yes }
												culture = lightfoot
												random_list = {
													10 = {
														trigger = {
															is_ruler = no
															holy_order = no
														}
														religion = halfling_pantheon
													}
													1 = {

													}
												}
											}
										}
										5 = {
											trigger = {
												has_global_flag = maztica_opened
												allow_changing_race = yes
											}
											add_trait = creature_human
											set_graphical_culture = payit
											if = {
												limit = { allow_changing_culture = yes }
												culture = payit
											}
											if = {
												limit = {
													is_ruler = no
													holy_order = no
												}
												religion = qotal
											}
										}
										1 = {
											add_trait = creature_human
											set_character_flag = secret_dragon
											set_character_flag = is_blue_dragon
										}
									}	
								}
							}
						}
						chessentan = {
							random_list = {
								82 = {
									add_trait = creature_human
									random_list = {
										70 = {
											# do nothing
										}
										10 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = untheric
										}
										10 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = chondathan
										}
										10 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = mulhorandi
										}
									}
								}
								6 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = gold_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = gold_dwarf
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = duergar
									if = {
										limit = { allow_changing_culture = yes }
										culture = duergar
									}
								}
								4 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								3 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_genasi
									set_graphical_culture = watergenasi
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_lizardfolk
									set_graphical_culture = lizardfolk
								}
								1 = { # specials
									trigger = {
										is_patrician = no
									}
									random_list = {
										20 = {
											trigger = { allow_changing_race = yes }
											spawn_random_tiefling = yes
										}
										20 = {
											trigger = { allow_changing_race = yes }
											spawn_random_genasi = yes
										}
										20 = {
											trigger = { allow_changing_race = yes }
											spawn_random_aasimar = yes
										}
										10 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_half_elf
											set_graphical_culture = half_green_elf
										}
										8 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_human
											add_trait = half_dragon
										}
										2 = {
											add_trait = creature_human
											set_character_flag = secret_dragon
											set_character_flag = is_red_dragon
										}
									}
								}
							}
						}
						chondathan = {
							random_list = {
								96 = {
									add_trait = creature_human
									random_list = {
										75 = {
										# do nothing
										}
										5 = {
											trigger = { allow_changing_culture = yes }
											religion = turm
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = turmic
											if = {
												limit = { allow_changing_culture = yes }
												random = {
													chance = 35
													religion = turm
												}
											}
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = draeven
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = chessentan
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = aslanlar
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_elf
									set_graphical_culture = green_elf
									if = {
										limit = { allow_changing_culture = yes }
										culture = green_elf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = elven_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = shield_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = shield_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = { # specials
									trigger = {
										is_patrician = no
									}
									random_list = {
										20 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_pureblood
											random = {
												chance = 35
												set_secret_religion = scale_cult
											}
										}
										20 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_halfling
											set_graphical_culture = ghostwise
											if = {
												limit = { allow_changing_culture = yes }
												culture = ghostwise
												religion = halfling_pantheon
											}
										}
										20 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_lizardfolk
											set_graphical_culture = lizardfolk
											if = {
												limit = { allow_changing_culture = yes }
												culture = lizardfolk
												religion = scale_cult
											}
										}
										20 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_wemic
											set_graphical_culture = wemic
											if = {
												limit = { allow_changing_culture = yes }
												culture = wemic
											}
										}
										19 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_tiefling
											set_graphical_culture = tiefling
										}
										1 = {
											add_trait = creature_human
											set_character_flag = secret_dragon
											set_character_flag = is_green_dragon
										}
									}
								}
							}
						}
						chultan = {
							random_list = {
								80 = {
									add_trait = creature_human
									random_list = {
										70 = {
											#do nothing
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = thinguth
											if = {
												limit = { allow_changing_culture = yes }
												random = {
													chance = 35
													culture = thinguth
												}
											}
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = tashalan
											if = {
												limit = { allow_changing_culture = yes }
												random = {
													chance = 35
													culture = tashalan
												}
											}
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = amnian
											if = {
												limit = { allow_changing_culture = yes }
												random = {
													chance = 75 # colonialist less likely to assimilate
													culture = amnian
												}
											}
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = calishite
											if = {
												limit = { allow_changing_culture = yes }
												random = {
													chance = 50
													culture = thinguth
												}
											}
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = katashakan
											if = {
												limit = { allow_changing_culture = yes }
												random = {
													chance = 35
													culture = katashakan
												}
											}
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = lapal
											if = {
												limit = { allow_changing_culture = yes }
												random = {
													chance = 50
													culture = lapal
												}
											}
										}
									}	
								}
								7 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = chultan_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = chultan_dwarf
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = wild_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = wild_dwarf
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_goblin
									set_graphical_culture = batiri
									if = {
										limit = { allow_changing_culture = yes }
										culture = batiri
										religion = goblin_pantheon
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_pterafolk
									set_graphical_culture = pterafolk
									if = {
										limit = { allow_changing_culture = yes }
										culture = pterafolk
										random_list = {
											3 = {
											}
											2 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = scale_cult
											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_lizardfolk
									set_graphical_culture = lizardfolk
									if = {
										limit = { allow_changing_culture = yes }
										culture = lizardfolk
										random_list = {
											3 = {
											}
											2 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = scale_cult
											}
										}
									}
								}
								1 = {
									trigger = { allow_changing_race = yes }
									add_trait = creature_pureblood
									set_graphical_culture = yuanti # not hiding it
									if = {
										limit = { allow_changing_culture = yes }
										culture = yuanti
										random_list = {
											2 = {
											}
											3 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = scale_cult
											}
										}
									}
								}
								1 = { # specials
									trigger = {
										is_patrician = no
									}
									random_list = {
										20 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_half_orc
											set_graphical_culture = half_orc
										}
										10 = {
											trigger = { allow_changing_race = yes }
											spawn_random_genasi = yes
										}
										10 = {
											trigger = { allow_changing_race = yes }
											spawn_random_aasimar = yes
										}
										10 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_tengu
											set_graphical_culture = kenku
											if = {
												limit = { allow_changing_culture = yes }
												culture = kenku
											}
										}
										15 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_pureblood
											if = {
												limit = { allow_changing_culture = yes }
												random_list = {
													2 = {
													}
													3 = {
														trigger = {
															is_ruler = no
															holy_order = no
														}
														religion = scale_cult
														culture = yuanti
													}
												}
											}
										}
										5 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_malison
											random_list = {
												50 = {
													set_graphical_culture = malison
												}
												50 = {
													set_graphical_culture = halfblood
												}
											}
											if = {
												limit = { allow_changing_culture = yes }
												religion = scale_cult
												culture = yuanti
											}
										}
										5 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_kuotoa
											set_graphical_culture = kuo_toa
											if = {
												limit = { allow_changing_culture = yes }
												culture = kuo_toa
												random_list = {
													2 = {
													}
													3 = {
														trigger = {
															is_ruler = no
															holy_order = no
														}
														religion = abyssal_cult
													}
												}
											}
										}
										10 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_aarakocra
											set_graphical_culture = aarakocra
											if = {
												limit = { allow_changing_culture = yes }
												culture = aarakocra
											}
										}
										10 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_tabaxi
											set_graphical_culture = tabaxi
											if = {
												limit = { allow_changing_culture = yes }
												culture = tabaxi
											}
										}
										3 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_human
											add_trait = half_dragon
										}
										1 = {
											add_trait = creature_human
											set_character_flag = secret_dragon
											set_character_flag = is_green_dragon
										}
										1 = {
											add_trait = creature_human
											set_character_flag = secret_dragon
											set_character_flag = is_black_dragon
										}
									}
								}
							}
						}
						cormyrean = {
							random_list = {
								85 = {
									add_trait = creature_human
									random_list = {
										80 = {
											# do nothing
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = turmic
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = draeven
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = tharian
										}
										5 = {
											set_graphical_culture = bedine
										}
									}
								}
								10 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									random_list = {
										50 = {
											set_graphical_culture = half_moon_elf
										}
										50 = {
											set_graphical_culture = half_sun_elf
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_elf
									set_graphical_culture = moon_elf
									if = {
										limit = { allow_changing_culture = yes }
										culture = moon_elf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = elven_pantheon
											}
											1 = {

											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_elf
									set_graphical_culture = sun_elf
									if = {
										limit = { allow_changing_culture = yes }
										culture = sun_elf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = elven_pantheon
											}
											1 = {
											}
										}
									}
								}
								1 = { # specials
									trigger = {
										is_patrician = no
									}
									random_list = {
										25 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_half_orc
											set_graphical_culture = half_orc
										}
										25 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_halfling
											set_graphical_culture = lightfoot
										}
										25 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_dwarf
											set_graphical_culture = shield_dwarf
											if = {
												limit = { allow_changing_culture = yes }
												culture = shield_dwarf
												random_list = {
													3 = {
														trigger = {
															is_ruler = no
															holy_order = no
														}
														religion = dwarven_pantheon
													}
													2 = {
													}
												}
											}
										}
										23 = {
											trigger = { allow_changing_race = yes }
											spawn_random_tiefling = yes
										}
										1 = {
											add_trait = creature_human
											set_character_flag = secret_dragon
											set_character_flag = is_black_dragon
										}
										1 = {
											add_trait = creature_human
											set_character_flag = secret_dragon
											set_character_flag = is_green_dragon
										}
									}
								}
							}
						}
						dalesman = {
							random_list = {
								86 = {
									add_trait = creature_human
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									random_list = {
										10 = {
											set_graphical_culture = half_sun_elf
										}
										10 = {
											set_graphical_culture = half_moon_elf
										}
										10 = {
											set_graphical_culture = half_wood_elf
										}
										10 = {
											set_graphical_culture = half_green_elf
										}
										1 = {
											set_graphical_culture = crinti
										}
									}
								}
								4 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_elf
									random_list = {
										1 = {
											set_graphical_culture = wood_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = wood_elf
												random_list = {
													10 = {
														trigger = {
															is_ruler = no
															holy_order = no
														}
														religion = elven_pantheon
													}
													1 = {

													}
												}
											}
										}
										1 = {
											set_graphical_culture = moon_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = moon_elf
												random_list = {
													10 = {
														trigger = {
															is_ruler = no
															holy_order = no
														}
														religion = elven_pantheon
													}
													1 = {

													}
												}
											}
										}
										1 = {
											set_graphical_culture = sun_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = sun_elf
												random_list = {
													10 = {
														trigger = {
															is_ruler = no
															holy_order = no
														}
														religion = elven_pantheon
													}
													1 = {

													}
												}
											}
										}
										1 = {
											set_graphical_culture = green_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = green_elf
												random_list = {
													10 = {
														trigger = {
															is_ruler = no
															holy_order = no
														}
														religion = elven_pantheon
													}
													1 = {

													}
												}
											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_gnome
									set_graphical_culture = gnome
									if = {
										limit = { allow_changing_culture = yes }
										culture = gnome
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = gnome_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = shield_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = shield_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
							}
						}
						damaran = {
							random_list = {
								87 = {
									add_trait = creature_human
								}
								6 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = shield_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = shield_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								4 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									modifier = {
										factor = 0
										e_yaimunnahar = {
											OR = {
												holder_scope = {
													OR = {
														government = tribal_government
														government = nomadic_tribal_government
													}
												}
												has_holder = yes
											}
										}
										k_thesk = {
											holder_scope = {
												NOT = { same_realm = ROOT }
											}
										}
									}
									add_trait = creature_orc
									set_graphical_culture = orc
									random_list = {
										1 = {
										
										}
										2 = {
											culture = orc
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									modifier = {
										factor = 10
										e_yaimunnahar = {
											OR = {
												holder_scope = {
													NOR = {
														government = tribal_government
														government = nomadic_tribal_government
													}
												}
												has_holder = no
											}
										}
										k_thesk = {
											holder_scope = {
												same_realm = ROOT
											}
										}
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
							}
						}
						draeven = {
							random_list = {
								78 = {
									add_trait = creature_human
								}
								7 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_elf
									random_list = {
										2 = {
											set_graphical_culture = wood_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = wood_elf
												random_list = {
													10 = {
														trigger = {
															is_ruler = no
															holy_order = no
														}
														religion = elven_pantheon
													}
													1 = {

													}
												}
											}
										}
										1 = {
											set_graphical_culture = moon_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = moon_elf
												random_list = {
													10 = {
														trigger = {
															is_ruler = no
															holy_order = no
														}
														religion = elven_pantheon
													}
													1 = {

													}
												}
											}
										}
									}
								}
								4 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									random_list = {
										2 = {
											set_graphical_culture = half_wood_elf
										}
										1 = {
											set_graphical_culture = half_moon_elf
										}
									}
								}
								4 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								3 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_gnome
									set_graphical_culture = gnome
									if = {
										limit = { allow_changing_culture = yes }
										culture = gnome
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = gnome_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = shield_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = shield_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
							}
						}
						durpari = {
							random_list = {
								70 = {
									add_trait = creature_human
								}
								10 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = gold_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = gold_dwarf
										random_list = {
											2 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								8 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_elf
									set_graphical_culture = sun_elf
									random_list = {
										2 = {
											trigger = {
												allow_changing_culture = yes
												is_ruler = no
												holy_order = no
											}
											religion = elven_pantheon
										}
										1 = {

										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_sun_elf
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_aasimar = yes
								}
							}
						}
						dusker = {
							random_list = {
								5 = {
									add_trait = creature_human
								}
								3 = {
									trigger = { allow_changing_race = yes }
									set_graphical_culture = strixiki
									add_trait = creature_dragonborn
								}
								2 = {
									trigger = { allow_changing_race = yes }
									spawn_random_genasi = yes
								}
								2 = {
									trigger = { allow_changing_race = yes }
									add_trait = creature_orc
									set_graphical_culture = gray_orc
								}
								3 = {
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								1 = {
									trigger = { allow_changing_race = yes }
									add_trait = creature_half_dwarf
									random_list = {
										1 = {
											set_graphical_culture = gold_dwarf
										}
										1 = {
											set_graphical_culture = shield_dwarf
										}
									}
								}
								1 = {
									trigger = { allow_changing_race = yes }
									add_trait = creature_dwarf
									random_list = {
										1 = {
											set_graphical_culture = gold_dwarf
										}
										1 = {
											set_graphical_culture = shield_dwarf
										}
									}
								}
							}
						}
						easting = {
							random_list = {
								78 = {
									add_trait = creature_human
									random_list = {
										63 = {
											# do nothing
										}
										33 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = chondathan
										}
										3 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = vaasan
										}
									}
								}
								9 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = shield_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = shield_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								3 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_elf
									set_graphical_culture = sun_elf
									if = {
										limit = { allow_changing_culture = yes }
										culture = sun_elf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = elven_pantheon
											}
											1 = {

											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_gnome
									set_graphical_culture = gnome
									if = {
										limit = { allow_changing_culture = yes }
										culture = gnome
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = gnome_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_sun_elf
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								1 = { # specials
									trigger = {
										is_patrician = no
									}
									random_list = {
										55 = {
											trigger = { allow_changing_race = yes }
											add_trait = creature_tabaxi
											set_graphical_culture = rakasta
											if = {
												limit = { allow_changing_culture = yes }
												culture = rakasta
											}
										}
										44 = {
											trigger = { allow_changing_race = yes }
											spawn_random_tiefling = yes
										}
										1 = {
											add_trait = creature_human
											set_character_flag = secret_dragon
											set_character_flag = is_red_dragon
										}
									}
								}
							}
						}
						ffolk = {
							random_list = {
								89 = {
									add_trait = creature_human
									random_list = {
										75 = {}
										10 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = northlander 
										}
										5 = { 
											trigger = { allow_changing_race = yes }
											set_graphical_culture = tethyrian 
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = nelanthern 
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = mari 
										}
									}
								}
								4 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								3 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_elf
									set_graphical_culture = sun_elf
									if = {
										limit = { allow_changing_culture = yes }
										culture = sun_elf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = elven_pantheon
											}
											1 = {

											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = shield_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = shield_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_sun_elf
								}
							}
						}
						gontese = {
							random_list = {
								6 = {
									add_trait = creature_human
								}
								4 = {
									trigger = { allow_changing_race = yes }
									spawn_random_genasi = yes
								}
								4 = {
									trigger = { allow_changing_race = yes }
									add_trait = creature_dragonborn
									set_graphical_culture = strixiki
								}
								3 = {
									trigger = { allow_changing_race = yes }
									add_trait = creature_half_dwarf
									random_list = {
										1 = {
											set_graphical_culture = gold_dwarf
										}
										1 = {
											set_graphical_culture = shield_dwarf
										}
									}
								}
								3 = {
									trigger = { allow_changing_race = yes }
									add_trait = creature_dwarf
									random_list = {
										1 = {
											set_graphical_culture = gold_dwarf
										}
										1 = {
											set_graphical_culture = shield_dwarf
										}
									}
								}
							}
						}
						gugari = {
							random_list = {
								50 = {
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								50 = {
									add_trait = creature_human
								}
							}
						}
						hadhar = {
							random_list = {
								80 = {
									add_trait = creature_human
								}
								10 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									random_list ={
										1 = {
											set_graphical_culture = shield_dwarf
										}
										1 = {
											set_graphical_culture = gold_dwarf
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_elf
									set_graphical_culture = sun_elf
								}
								8 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_orc
									set_graphical_culture = orc
								}
								10 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								10 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_sun_elf
								}
								3 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_ogre
									set_graphical_culture = ogre
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_giant
									random_list = {
										5 = {
											set_graphical_culture = hill_giant
											add_trait = lifespan_giant_hill
										}
										5 = {
											set_graphical_culture = fire_giant
											add_trait = lifespan_giant_fire
										}
										1 = {
											set_graphical_culture = storm_giant
											add_trait = lifespan_giant_storm
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_genie
									set_graphical_culture = jann
									if = {
										limit = { allow_changing_culture = yes }
										culture = jann
									}
								}
								4 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_goblin
									set_graphical_culture = goblin
								}
								4 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_hobgoblin
									set_graphical_culture = hobgoblin
								}
							}
						}
						halruaan = {
							random_list = {
								90 = {
									add_trait = creature_human
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									modifier = {
										factor = 0
										location = {
											de_jure_liege_or_above = k_nimbral
										}
									}
									add_trait = creature_dwarf
									set_graphical_culture = gold_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = gold_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									modifier = {
										factor = 0
										location = {
											de_jure_liege_or_above = k_nimbral
										}
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_elf
									set_graphical_culture = moon_elf
									if = {
										limit = { allow_changing_culture = yes }
										culture = moon_elf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = elven_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									modifier = {
										factor = 10
										location = {
											de_jure_liege_or_above = k_nimbral
										}
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_moon_elf
								}
							}
						}
						highcoaster = {
							random_list = {
								65 = {
									add_trait = creature_human
									random_list = {
										80 = {
										}
										40 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = illuskan
										}
										40 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = tethyrian
										}
										40 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = draeven
										}
										10 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = calishite
										}
										10 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = turmic
										}
										4 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = chultan
										}
									}
								}
								10 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = shield_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = shield_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								6 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								4 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_elf
									random_list = {
										5 = {
											set_graphical_culture = wood_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = wood_elf
											}
										}
										3 = {
											set_graphical_culture = moon_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = moon_elf
											}
										}
										1 = {
											set_graphical_culture = sun_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = sun_elf
											}
										}
									}
									random_list = {
										10 = {
											trigger = {
												allow_changing_culture = yes
												is_ruler = no
												holy_order = no
											}
											religion = elven_pantheon
										}
										1 = {

										}
									}
								}
								4 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_gnome
									set_graphical_culture = gnome
									if = {
										limit = { allow_changing_culture = yes }
										culture = gnome
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = gnome_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									random_list = {
										5 = {
											set_graphical_culture = half_wood_elf
										}
										3 = {
											set_graphical_culture = half_moon_elf
										}
										1 = {
											set_graphical_culture = half_sun_elf
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_tiefling = yes
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_aasimar = yes
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_genasi = yes
								}
							}
						}
						illuskan = {
							random_list = {
								91 = {
									add_trait = creature_human
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								4 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									random_list = {
										1 = {
											set_graphical_culture = half_sun_elf
										}
										1 = {
											set_graphical_culture = half_moon_elf
										}
										1 = {
											set_graphical_culture = half_wood_elf
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									modifier = {
										factor = 15
										OR = {
											has_landed_title = c_hartsvale
											location = {
												title = c_hartsvale
											}
										}
									}
									add_trait = creature_half_giant
									set_graphical_culture = half_giant
								}
							}
						}
						impilturan = {
							random_list = {
								90 = {
									add_trait = creature_human
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = shield_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = shield_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								4 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									modifier = {
										factor = 0
										e_yaimunnahar = {
											OR = {
												holder_scope = {
													OR = {
														government = tribal_government
														government = nomadic_tribal_government
													}
												}
												has_holder = yes
											}
										}
										k_thesk = {
											holder_scope = {
												NOT = { same_realm = ROOT }
											}
										}
									}
									add_trait = creature_orc
									set_graphical_culture = orc
									random_list = {
										1 = {
										
										}
										2 = {
											culture = orc
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									modifier = {
										factor = 10
										e_yaimunnahar = {
											OR = {
												holder_scope = {
													NOR = {
														government = tribal_government
														government = nomadic_tribal_government
													}
												}
												has_holder = no
											}
										}
										k_thesk = {
											holder_scope = {
												same_realm = ROOT
											}
										}
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
							}
						}
						kozakuran = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = wanese
											}
											5 = {
												culture = koryoan
												set_graphical_culture = koryoan
											}
											85 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						wanese = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = waka
												set_graphical_culture = waka
											}
											5 = {
												culture = kozakuran
											}
											85 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						koryoan = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = kozakuran
												set_graphical_culture = kozakuran
											}
											5 = {
												culture = wuhaltai
												set_graphical_culture = wuhaltai
											}
											85 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}	
							}
						}
						bawani = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = kozakuran
												set_graphical_culture = kozakuran
											}
											5 = {
												culture = bawani
											}
											5 = {
												culture = jaziran
												set_graphical_culture = jaziran
											}
											85 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
							}
						}
						seng = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = wang
												set_graphical_culture = wang
											}
											5 = {
												culture = purang
											}
											5 = {
												culture = kuong
											}
											80 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = tamhi
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = katanga
									}
								}
							}
						}
						kuong = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = wang
												set_graphical_culture = wang
											}
											5 = {
												culture = purang
											}
											5 = {
												culture = seng
											}
											5 = {
												culture = bawani
											}
											75 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = tamhi
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = katanga
									}
								}
							}
						}
						purang = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = wang
												set_graphical_culture = wang
											}
											5 = {
												culture = seng
											}
											5 = {
												culture = kuong
											}
											80 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = tamhi
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = katanga
									}
								}
							}
						}
						nubari = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											1 = {
												culture = kuong
												set_graphical_culture = kuong
											}
											1 = {
												culture = seng
												set_graphical_culture = seng
											}
											1 = {
												culture = kuong
												set_graphical_culture = kuong
											}
											1 = {
												culture = purang
												set_graphical_culture = purang
											}
											1 = {
												culture = mahasiswa
												set_graphical_culture = mahasiswa
											}
											5 = {
												culture = shu
												set_graphical_culture = shu
												remove_trait = creature_human
												add_trait = creature_halfling
											}
											5 = {
												culture = korpokkur
												set_graphical_culture = korpokkur
												remove_trait = creature_human
												add_trait = creature_dwarf
											}			
											95 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = tamhi
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_saurial
									set_graphical_culture = saurial
									if = {
										limit = { allow_changing_culture = yes }
										culture = saurial
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_halfling
									set_graphical_culture = shu
									if = {
										limit = { allow_changing_culture = yes }
										culture = shu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = katanga
									}
								}
							}
						}
						noga = {
							random_list = {
								70 = {
									add_trait = creature_human
								}
								30 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_giant
								}
								7 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_goliath
									set_graphical_culture = goliath
								}
							}
						}
						mahasiswa = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = tabotan
												set_graphical_culture = tabotan
											}
											5 = {
												culture = kuong
											}
											5 = {
												culture = wang
												set_graphical_culture = wang
											}
											5 = {
												culture = kao
												set_graphical_culture = kao
											}
											75 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = tamhi
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_halfling
									set_graphical_culture = shu
									if = {
										limit = { allow_changing_culture = yes }
										culture = shu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_human
									set_graphical_culture = nubari
									if = {
										limit = { allow_changing_culture = yes }
										culture = nubari
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_saurial
									set_graphical_culture = saurial
									if = {
										limit = { allow_changing_culture = yes }
										culture = saurial
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = katanga
									}
								}
							}
						}
						lantanna = {
							random_list = {
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_gnome
									set_graphical_culture = gnome
								}
								1 = {
									add_trait = creature_human
								}
							}
						}
						mulhorandi = {
							random_list = {
								96 = {
									add_trait = creature_human
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_tiefling = yes
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_aasimar = yes
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_genasi = yes
								}
							}
						}
						murghomi = {
							random_list = {
								98 = {
									add_trait = creature_human
									random_list = {
										85 = {
										}
										10 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = durpari
										}
										4 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = tuigan
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_aasimar = yes
								}
							}
						}
						nar = {
							random_list = {
								96 = {
									add_trait = creature_human
								}
								4 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_tiefling = yes
								}
							}
						}
						nelanthern = {
							random_list = {
								30 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_orc
									set_graphical_culture = orc
									random_list = {
										10 = {
											trigger = {
												allow_changing_culture = yes
												is_ruler = no
												holy_order = no
											}
											religion = orc_pantheon
										}
										1 = {

										}
									}
								}
								20 = {
									add_trait = creature_human
								}
								15 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
									random_list = {
										1 = {
											trigger = {
												allow_changing_culture = yes
												is_ruler = no
												holy_order = no
											}
											religion = orc_pantheon
										}
										1 = {

										}
									}
								}
								15 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_lizardfolk
									set_graphical_culture = lizardfolk
								}
								10 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_ogre
									set_graphical_culture = ogre
									random_list = {
										10 = {
											trigger = {
												allow_changing_culture = yes
												is_ruler = no
												holy_order = no
											}
											religion = giant_pantheon
										}
										1 = {

										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_minotaur
									set_graphical_culture = minotaur
									random_list = {
										10 = {
											trigger = {
												allow_changing_culture = yes
												is_ruler = no
												holy_order = no
											}
											religion = abyssal_cult
										}
										1 = {

										}
									}
								}
								4 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_genasi = yes
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = kenku
									if = {
										limit = { allow_changing_culture = yes }
										culture = kenku
									}
								}
							}
						}
						northlander = {
							random_list = {
								100 = {
									add_trait = creature_human
								}
								3 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_ogre
									set_graphical_culture = half_ogre
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = kenku
									if = {
										limit = { allow_changing_culture = yes }
										culture = kenku
									}
								}
							}
						}
						qarsan = {
							random_list = {
								80 = {
									add_trait = creature_human
								}
								10 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									random_list ={
										1 = {
											set_graphical_culture = shield_dwarf
										}
										1 = {
											set_graphical_culture = gold_dwarf
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_elf
									set_graphical_culture = sun_elf
								}
								8 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_orc
									set_graphical_culture = orc
								}
								10 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								10 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_sun_elf
								}
								3 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_ogre
									set_graphical_culture = ogre
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_giant
									random_list = {
										5 = {
											set_graphical_culture = hill_giant
											add_trait = lifespan_giant_hill
										}
										5 = {
											set_graphical_culture = fire_giant
											add_trait = lifespan_giant_fire
										}
										1 = {
											set_graphical_culture = storm_giant
											add_trait = lifespan_giant_storm
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_genie
									set_graphical_culture = jann
									if = {
										limit = { allow_changing_culture = yes }
										culture = jann
									}
								}
								4 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_goblin
									set_graphical_culture = goblin
								}
								4 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_hobgoblin
									set_graphical_culture = hobgoblin
								}
							}
						}
						rashemi = {
							random_list = {
								99 = {
									add_trait = creature_human
									random_list = {
										80 = {
										
										}
										20 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = calishite # since dynaheir had darker skin
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										is_female = no
										allow_changing_race = yes
									}
									add_trait = creature_hagspawn
									set_graphical_culture = hagspawn
								}
							}
						}
						raumviran = {
							random_list = {
								98 = {
									add_trait = creature_human
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_tiefling = yes
								}
							}
						}
						reacher = {
							random_list = {
								96 = {
									add_trait = creature_human
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_genasi = yes
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_tiefling = yes
								}
							}
						}
						semphari = {
							random_list = {
								90 = {
									add_trait = creature_human
									random_list = {
										90 = {}
										20 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = murghomi
										}
										5 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = tuigan
										}
									}
								}
								# the rest is based on descriptions for Dhaztanar and Estanil
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_hobgoblin
									set_graphical_culture = hobgoblin
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											3 = {
												limit = { allow_changing_culture = yes }
												culture = hobgoblin
											}
											1 = {}
										}
										random_list = {
											1 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = goblin_pantheon
											}
											1 = {}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = earthfast_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = earthfast_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_elf
									set_graphical_culture = sun_elf
									if = {
										limit = { allow_changing_culture = yes }
										culture = sun_elf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = elven_pantheon
											}
											1 = {

											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
							}
						}
						sembite = {
							random_list = {
								96 = {
									add_trait = creature_human
								}
								4 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
							}
						}
						shoon = {
							random_list = {
								94 = {
									add_trait = creature_human
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_sun_elf
								}
								3 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_genasi = yes
								}
							}
						}
						chukien = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = koryoan
												set_graphical_culture = koryoan
											}
											5 = {
												culture = wuhaltai
												set_graphical_culture = wuhaltai
											}
											5 = {
												culture = mai
												set_graphical_culture = mai
											}
											80 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						mai = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = tuigan
											}
											5 = {
												culture = chukien
												set_graphical_culture = chukien
											}
											5 = {
												culture = sheng
												set_graphical_culture = sheng
											}
											5 = {
												culture = waka
												set_graphical_culture = waka
											}
											75 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						ching = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = khatin
												set_graphical_culture = khatin
											}
											5 = {
												culture = chukien
												set_graphical_culture = chukien
											}
											5 = {
												culture = sheng
												set_graphical_culture = sheng
											}
											5 = {
												culture = waka
												set_graphical_culture = waka
											}
											5 = {
												culture = ti
												set_graphical_culture = ti
											}
											5 = {
												culture = hungtse
											}
											65 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									set_graphical_culture = maviddi
									if = {
										limit = { allow_changing_culture = yes }
										culture = maviddi
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						sheng = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list =  {
											5 = {
												culture = mai
												set_graphical_culture = mai
											}
											5 = {
												culture = ching
												set_graphical_culture = ching
											}
											5 = {
												culture = ti
												set_graphical_culture = ti
											}
											5 = {
												culture = waka
												set_graphical_culture = waka
											}
											75 = {
											}
										}
									}
								}
								10 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_moon_elf
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								5 = { # Hengeyokai live openly among the Sheng
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						waka = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = mai
												set_graphical_culture = mai
											}
											5 = {
												culture = wanese
												set_graphical_culture = wanese
											}
											5 = {
												culture = sheng
												set_graphical_culture = sheng
											}
											5 = {
												culture = ti
												set_graphical_culture = ti
											}
											75 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_moon_elf
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						ti = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = waka
												set_graphical_culture = waka
											}
											5 = {
												culture = sheng
												set_graphical_culture = sheng
											}
											5 = {
												culture = hungtse
												set_graphical_culture = hungtse
											}
											5 = {
												culture = ching
												set_graphical_culture = ching
											}
											75 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						hungtse = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = ti
												set_graphical_culture = ti
											}
											5 = {
												culture = sheng
												set_graphical_culture = sheng
											}
											5 = {
												culture = ching
												set_graphical_culture = ching
											}
											5 = {
												culture = wang
												set_graphical_culture = wang
											}
											5 = {
												culture = hai
												set_graphical_culture = hai
											}
											70 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						wang = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = hungtse
												set_graphical_culture = hungtse
											}
											5 = {
												culture = kao
												set_graphical_culture = kao
											}
											5 = {
												culture = hai
												set_graphical_culture = hai
											}
											5 = {
												culture = chu
												set_graphical_culture = chu
											}
											5 = {
												culture = kuong
												set_graphical_culture = kuong
											}
											5 = {
												culture = tabotan
												set_graphical_culture = tabotan
											}
											5 = {
												culture = mahasiswa
												set_graphical_culture = mahasiswa
											}
											60 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_green_elf
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						hai = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = hungtse
												set_graphical_culture = hungtse
											}
											5 = {
												culture = wang
												set_graphical_culture = wang
											}
											5 = {
												culture = kuong
												set_graphical_culture = kuong
											}
											80 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_wood_elf
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						kao = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = ching
												set_graphical_culture = ching
											}
											5 = {
												culture = hungtse
												set_graphical_culture = hungtse
											}
											5 = {
												culture = wang
												set_graphical_culture = wang
											}
											5 = {
												culture = chu
												set_graphical_culture = chu
											}
											5 = {
												culture = tabotan
												set_graphical_culture = tabotan
											}
											5 = {
												culture = khatin
												set_graphical_culture = khatin
											}
											65 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									set_graphical_culture = maviddi
									if = {
										limit = { allow_changing_culture = yes }
										culture = maviddi
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						tabotan = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = kao
												set_graphical_culture = kao
											}
											5 = {
												culture = chu
												set_graphical_culture = chu
											}
											5 = {
												culture = wang
												set_graphical_culture = wang
											}
											5 = {
												culture = mahasiswa
												set_graphical_culture = mahasiswa
											}
											5 = {
												culture = tabotan
												set_graphical_culture = tabotan
											}
											70 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									set_graphical_culture = maviddi
									if = {
										limit = { allow_changing_culture = yes }
										culture = maviddi
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
							}
						}
						tashalan = {
							random_list = {
								90 = {
									add_trait = creature_human
									random_list = {
										83 = {
											
										}
										12 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = calishite
										}
										3 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = chultan
										}
										1 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = shaaran
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									modifier = {
										factor = 0
										NOT = {
											any_liege = {
												has_landed_title = k_lapaliiya
											}
										}
									}
									add_trait = creature_dwarf
									set_graphical_culture = wild_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											1 = {
											}
											2 = {
												culture = wild_dwarf
												religion = ubtao_worship
											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									modifier = {
										factor = 0
										NOT = {
											any_liege = {
												has_landed_title = k_lapaliiya
											}
										}
									}
									add_trait = creature_gnome
									set_graphical_culture = gnome
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											1 = {
											}
											2 = {
												culture = gnome
											}
										}
									}
								}
								1 = {
									trigger = { allow_changing_race = yes }
									add_trait = creature_pureblood
									modifier = {
										factor = 10
										k_thindol = {
											any_de_jure_vassal_title = {
												tier = COUNT
												location = {
													culture = yuanti
												}
											}
										}
									}
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											2 = {
											}
											3 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = scale_cult
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_genasi = yes
								}
							}
						}
						thinguth = {
							random_list = {
								90 = {
									add_trait = creature_human
									random_list = {
										75 = {
										
										}
										25 = {
											trigger = { allow_changing_race = yes }
											set_graphical_culture = chultan
										}
									}
								}
								1 = {
									trigger = { allow_changing_race = yes }
									add_trait = creature_pureblood
									modifier = {
										factor = 10
										k_thindol = {
											any_de_jure_vassal_title = {
												tier = COUNT
												location = {
													culture = yuanti
												}
											}
										}
									}
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											2 = {
											}
											3 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = scale_cult
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = gold_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = gold_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_genasi = yes
								}
							}
						}
						chu = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = kao
												set_graphical_culture = kao
											}
											5 = {
												culture = wang
												set_graphical_culture = wang
											}
											5 = {
												culture = tabotan
												set_graphical_culture = tabotan
											}
											80 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_green_elf
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
							}
						}
						wuhaltai = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = issacortae
											}
											5 = {
												culture = pazruki
											}
											5 = {
												culture = koryoan
												set_graphical_culture = koryoan
											}
											5 = {
												culture = chukien
												set_graphical_culture = chukien
											}
											75 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_elf
									add_trait = feytouched
									set_graphical_culture = maraloi
									if = {
										limit = { allow_changing_culture = yes }
										culture = maraloi
									}
								}
							}
						}
						issacortae = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = wuhaltai
											}
											5 = {
												culture = pazruki
											}
											85 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_elf
									set_graphical_culture = maraloi
									if = {
										limit = { allow_changing_culture = yes }
										culture = maraloi
									}
								}
							}
						}
						tayanulchi = {
							random_list = {
								100 = {
									add_trait = creature_human
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_elf
									set_graphical_culture = maraloi
									if = {
										limit = { allow_changing_culture = yes }
										culture = maraloi
									}
								}
							}
						}
						pazruki = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = issacortae
											}
											5 = {
												culture = wuhaltai
											}
											85 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
							}
						}
						tethyrian = {
							random_list = {
								76 = {
									add_trait = creature_human
								}
								20 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								3 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_elf
									random_list = {
										4 = {
											set_graphical_culture = wood_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = wood_elf
											}
										}
										1 = {
											set_graphical_culture = green_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = green_elf
											}
										}
									}
									random_list = {
										10 = {
											trigger = {
												allow_changing_culture = yes
												is_ruler = no
												holy_order = no
											}
											religion = elven_pantheon
										}
										1 = {

										}
									}
								}
							}
						}
						tharian = {
							random_list = {
								69 = {
									add_trait = creature_human
								}
								10 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
										any_liege = {
											has_landed_title = e_zhentarim
										}
									}
									add_trait = creature_orc
									set_graphical_culture = orc
									if = {
										limit = { allow_changing_culture = yes }
										culture = orc
										random_list = {
											3 = {

											}
											1 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = orc_pantheon
											}
										}
									}
								}
								6 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									modifier = {
										NOT = {
											any_liege = {
												has_landed_title = e_zhentarim
											}
										}
										factor = 1.6
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = shield_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = shield_dwarf
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
										any_liege = {
											has_landed_title = e_zhentarim
										}
									}
									add_trait = creature_ogre
									set_graphical_culture = ogre
									if = {
										limit = { allow_changing_culture = yes }
										culture = ogre
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_gnome
									set_graphical_culture = gnome
									if = {
										limit = { allow_changing_culture = yes }
										culture = gnome
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = gnome_pantheon
											}
											1 = {

											}
										}
									}
								}
							}
						}
						thayan = {
							random_list = {
								62 = {
									add_trait = creature_human
								}
								10 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_gnoll
									set_graphical_culture = gnoll
									if = {
										limit = { allow_changing_culture = yes }
										culture = gnoll
										random_list = {
											3 = {

											}
											1 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = abyssal_cult
											}
										}
									}
								}
								10 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_orc
									set_graphical_culture = orc
									if = {
										limit = { allow_changing_culture = yes }
										culture = orc
										random_list = {
											3 = {

											}
											1 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = orc_pantheon
											}
										}
									}
								}
								8 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = gold_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = gold_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_goblin
									set_graphical_culture = goblin
									if = {
										limit = { allow_changing_culture = yes }
										culture = goblin
										random_list = {
											3 = {

											}
											1 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = goblin_pantheon
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								3 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_tiefling = yes
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_genasi
									spawn_random_genasi = yes
								}
							}
						}
						turmic = {
							random_list = {
								93 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											80 = {
											# do nothing
											}
											5 = {
												set_graphical_culture = chondathan
											}
											5 = {
												set_graphical_culture = draeven
											}
											5 = {
												set_graphical_culture = calishite
											}
											5 = {
												set_graphical_culture = highcoaster
											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = shield_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = shield_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_gnome
									set_graphical_culture = gnome
									if = {
										limit = { allow_changing_culture = yes }
										culture = gnome
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = gnome_pantheon
											}
											1 = {

											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_wood_elf
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								1 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_elf
									set_graphical_culture = wood_elf
									if = {
										limit = { allow_changing_culture = yes }
										culture = wood_elf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = elven_pantheon
											}
											1 = {

											}
										}
									}
								}
							}
						}
						ulgarian = {
							random_list = {
								70 = {
									add_trait = creature_human
								}
								10 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = gold_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = gold_dwarf
										random_list = {
											2 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								8 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_elf
									set_graphical_culture = sun_elf
									random_list = {
										2 = {
											trigger = {
												allow_changing_culture = yes
												is_ruler = no
												holy_order = no
											}
											religion = elven_pantheon
										}
										1 = {

										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_sun_elf
								}
								5 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_aasimar = yes
								}
							}
						}
						untheric = {
							random_list = {
								94 = {
									add_trait = creature_human
								}
								3 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = gold_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = gold_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								3 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_dwarf
									set_graphical_culture = duergar
									if = {
										limit = { allow_changing_culture = yes }
										culture = duergar
									}
								}
								3 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_genasi
									set_graphical_culture = watergenasi
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_aasimar = yes
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_tiefling = yes
								}
								2 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									spawn_random_genasi = yes
								}
							}
						}
						uthgardt = {
							if = {
								limit = {
									any_liege = {
										has_landed_title = d_tree_ghost
									}
								}
								random_list = {
									92 = {
										add_trait = creature_human
									}
									4 = {
										trigger = {
											is_patrician = no
											allow_changing_race = yes
										}
										add_trait = creature_half_elf
										set_graphical_culture = half_wood_elf
									}
									4 = {
										trigger = {
											is_patrician = no
											allow_changing_race = yes
										}
										add_trait = creature_spirit_folk
									}
								}
							}
							else_if = {
								limit = {
									any_liege = {
										has_landed_title = d_blue_bear
										religion = abyssal_cult
									}
								}
								random_list = {
									92 = {
										add_trait = creature_human
									}
									8 = {
										trigger = {
											is_patrician = no
											allow_changing_race = yes
										}
										spawn_random_tiefling = yes
									}
								}
							}
							else_if = {
								limit = {
									any_liege = {
										has_landed_title = d_blue_bear
										NOT = { religion = abyssal_cult }
									}
								}
								random_list = {
									92 = {
										add_trait = creature_human
									}
									4 = {
										trigger = {
											is_patrician = no
											allow_changing_race = yes
										}
										add_trait = creature_half_elf
										set_graphical_culture = half_wood_elf
									}
									4 = {
										trigger = {
											is_patrician = no
											allow_changing_race = yes
										}
										add_trait = creature_spirit_folk
									}
								}
							}
							else = {
								add_trait = creature_human
							}
						}
						vaasan = {
							random_list = {
								60 = {
									modifier = {
										factor = 0.1
										liege = {
											trait = creature_half_orc
										}
									}
									add_trait = creature_human
								}
								30 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									modifier = {
										factor = 0.05
										liege = {
											race_is_orcish = yes
										}
									}
									add_trait = creature_dwarf
									set_graphical_culture = shield_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = shield_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								9 = {
									trigger = {
										is_patrician = no
										allow_changing_race = yes
									}
									modifier = {
										factor = 5
										liege = {
											trait = creature_half_orc
										}
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
							}
						}
						windriser = {
							random_list = {
								53 = {
									add_trait = creature_human
								}
								8 = {
									trigger = { allow_changing_race = yes }
									add_trait = creature_genasi
									spawn_random_genasi = yes
								}
								8 = {
									trigger = { allow_changing_race = yes }
									add_trait = creature_dragonborn
									set_graphical_culture = strixiki
								}
								6 = {
									trigger = { allow_changing_race = yes }
									add_trait = creature_half_dwarf
									random_list = {
										1 = {
											set_graphical_culture = gold_dwarf
										}
										1 = {
											set_graphical_culture = shield_dwarf
										}
									}
								}
								6 = {
									trigger = { allow_changing_race = yes }
									add_trait = creature_dwarf
									random_list = {
										1 = {
											set_graphical_culture = gold_dwarf
										}
										1 = {
											set_graphical_culture = shield_dwarf
										}
									}
								}
								4 = {
									trigger = { allow_changing_race = yes }
									add_trait = creature_orc
									set_graphical_culture = gray_orc
								}
								4 = {
									trigger = { allow_changing_race = yes }
									add_trait = creature_goblin
									set_graphical_culture = goblin
								}
								3 = {
									trigger = { allow_changing_race = yes }
									add_trait = creature_halfling
									set_graphical_culture = strongheart
								}
								3 = {
									trigger = { allow_changing_race = yes }
									add_trait = creature_elf
									add_trait = feytouched
									set_graphical_culture = eladrin
								}
								2 = {
									trigger = { allow_changing_race = yes }
									add_trait = creature_minotaur
									set_graphical_culture = minotaur
								}
								1 = {
									trigger = { allow_changing_race = yes }
									spawn_random_tiefling = yes
								}
								1 = {
									trigger = { allow_changing_race = yes }
									spawn_random_aasimar = yes
								}
							}
						}
						fallback = {
							add_trait = creature_human
						}
					}
				}
			}
		}

		# Special courts.
		if = {
			limit = {
				liege = {
					has_character_flag = vampire_court
				}
				NOT = { has_character_flag = do_not_undead }
				vampire_incompatible_race = no
				is_special_courtier = no
			}
			random_list = {
				33 = {
					add_trait = vampire_spawn
					turn_vampire_effect = yes
				}
				33 = {
					turn_undead_effect = yes
				}
				33 = {

				}
			}
		}
		if = {
			limit = {
				liege = {
					has_character_flag = undead_court
				}
				NOT = { has_character_flag = do_not_undead }
				undead_incompatible_race = no
				is_special_courtier = no
			}
			if = {
				limit = {
					OR = {
						trait = master_wizard
						trait = renowned_wizard
						trait = legendary_wizard
						trait = master_sorcerer
						trait = renowned_sorcerer
						trait = legendary_sorcerer
					}
				}
				turn_lich_effect = yes
			}
			else = {
				turn_undead_effect = yes
			}
		}
		if = {
			limit = {
				liege = {
					has_character_flag = lycan_court
				}
				is_lycanthrope_compatible = yes
				is_special_courtier = no
			}
			if = {
				limit = {
					liege = { trait = werewolf }
				}
				add_trait = werewolf
				add_trait = natural_lycanthrope
			}
			else_if = {
				limit = {
					liege = { trait = wererat }
				}
				add_trait = wererat
				add_trait = natural_lycanthrope
			}
			else_if = {
				limit = {
					liege = { trait = weretiger }
				}
				add_trait = weretiger
				add_trait = natural_lycanthrope
			}
			else_if = {
				limit = {
					liege = { trait = werecrocodile }
				}
				add_trait = werecrocodile
				add_trait = natural_lycanthrope
			}
			update_hidden_modifiers = yes
		}
		if = {
			limit = {
				liege = {
					has_character_flag = yuanti_court
				}
				is_special_courtier = no
			}
			random_list = {
				40 = {
					modifier = {
						factor = 0
						NOT = { trait = creature_human }
					}
					remove_trait = creature_human
					add_trait = creature_pureblood
					set_graphical_culture = yuanti
				}
				20 = {
					modifier = {
						factor = 0
						NOT = { trait = creature_human }
					}
					remove_trait = creature_human
					add_trait = creature_pureblood
				}
				40 = {
					# kept intentionally empty
				}
			}
		}

		if = {
			limit = {
				trait = undead
			}
			turn_undead_effect = yes
		}
		else_if = {
			limit = {
				OR = {
					trait = vampire
					trait = vampire_spawn
				}
			}
			turn_vampire_effect = yes
		}
		else_if = {
			limit = {
				OR = {
					trait = lich
					trait = archlich
					trait = lich_baelnorn
				}
			}
			turn_lich_effect = yes
		}

		if = {
			limit = {
				OR = {
					trait = creature_giant
					graphical_culture = merrowgfx
				}
			}
			character_event = { id = character_trait.3 }
		}

		set_freckles_effect = yes
	}
}

# Assign planetouched type modifiers.
character_event = {
	id = character_trait.2
	hide_window = yes

	is_triggered_only = yes #startup and birth

	trigger = {
		is_planetouched = yes
		has_planetouched_subtype = no
		NOR = {
			trait = creature_fiend
			trait = creature_angel
			trait = creature_genie
		}
	}

	immediate = {
		random_list = {
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = {
							OR = {
								has_character_modifier = fire_genasi
								graphical_culture = firegeniegfx
							}
						}
						mother_even_if_dead = {
							OR = {
								has_character_modifier = fire_genasi
								graphical_culture = firegeniegfx
							}
						}
					}
					OR = {
						trait = creature_genasi
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = fire_genasi
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = {
							OR = {
								has_character_modifier = air_genasi
								graphical_culture = airgeniegfx
								graphical_culture = qorrashigfx
							}
						}
						mother_even_if_dead = {
							OR = {
								has_character_modifier = air_genasi
								graphical_culture = airgeniegfx
								graphical_culture = qorrashigfx
							}
						}
					}
					OR = {
						trait = creature_genasi
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = air_genasi
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = {
							OR = {
								has_character_modifier = water_genasi
								graphical_culture = watergeniegfx
							}
						}
						mother_even_if_dead = {
							OR = {
								has_character_modifier = water_genasi
								graphical_culture = watergeniegfx
							}
						}
					}
					OR = {
						trait = creature_genasi
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = water_genasi
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = {
							OR = {
								has_character_modifier = earth_genasi
								graphical_culture = earthgeniegfx
								graphical_culture = earthtitangfx
							}
						}
						mother_even_if_dead = {
							OR = {
								has_character_modifier = earth_genasi
								graphical_culture = earthgeniegfx
								graphical_culture = earthtitangfx
							}
						}
					}
					OR = {
						trait = creature_genasi
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = earth_genasi
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = smoke_genasi }
						mother_even_if_dead = { has_character_modifier = smoke_genasi }
						AND = {
							true_father_even_if_dead = { has_character_modifier = fire_genasi }
							mother_even_if_dead = {
								OR = {
									graphical_culture = airgeniegfx 
									graphical_culture = qorrashigfx 
								}
							}
						}
						AND = {
							true_father_even_if_dead = {
								OR = {
									graphical_culture = airgeniegfx 
									graphical_culture = qorrashigfx 
								}
							}
							mother_even_if_dead = { has_character_modifier = fire_genasi }
						}
						AND = {
							true_father_even_if_dead = { has_character_modifier = air_genasi }
							mother_even_if_dead = { graphical_culture = firegeniegfx }
						}
						AND = {
							true_father_even_if_dead = { graphical_culture = firegeniegfx }
							mother_even_if_dead = { has_character_modifier = air_genasi }
						}
					}
					OR = {
						trait = creature_genasi
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = smoke_genasi
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = magma_genasi }
						mother_even_if_dead = { has_character_modifier = magma_genasi }
						AND = {
							true_father_even_if_dead = { has_character_modifier = fire_genasi }
							mother_even_if_dead = {
								OR = {
									graphical_culture = earthgeniegfx
									graphical_culture = earthtitangfx
								}
							}
						}
						AND = {
							true_father_even_if_dead = {
								OR = {
									graphical_culture = earthgeniegfx
									graphical_culture = earthtitangfx
								}
							}
							mother_even_if_dead = { has_character_modifier = fire_genasi }
						}
						AND = {
							true_father_even_if_dead = { has_character_modifier = earth_genasi }
							mother_even_if_dead = { graphical_culture = firegeniegfx }
						}
						AND = {
							true_father_even_if_dead = { graphical_culture = firegeniegfx }
							mother_even_if_dead = { has_character_modifier = earth_genasi }
						}
					}
					OR = {
						trait = creature_genasi
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = magma_genasi
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = dust_genasi }
						mother_even_if_dead = { has_character_modifier = dust_genasi }
						AND = {
							true_father_even_if_dead = { has_character_modifier = earth_genasi }
							mother_even_if_dead = { 
								OR = {
									graphical_culture = airgeniegfx 
									graphical_culture = qorrashigfx 
								}
							}
						}
						AND = {
							true_father_even_if_dead = { 
								OR = {
									graphical_culture = airgeniegfx 
									graphical_culture = qorrashigfx 
								}
							}
							mother_even_if_dead = { has_character_modifier = earth_genasi }
						}
						AND = {
							true_father_even_if_dead = { has_character_modifier = air_genasi }
							mother_even_if_dead = {
								OR = {
									graphical_culture = earthgeniegfx
									graphical_culture = earthtitangfx
								}
							}
						}
						AND = {
							true_father_even_if_dead = {
								OR = {
									graphical_culture = earthgeniegfx
									graphical_culture = earthtitangfx
								}
							}
							mother_even_if_dead = { has_character_modifier = air_genasi }
						}
					}
					OR = {
						trait = creature_genasi
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = dust_genasi
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = ice_genasi }
						mother_even_if_dead = { has_character_modifier = ice_genasi }
						AND = {
							true_father_even_if_dead = { has_character_modifier = water_genasi }
							mother_even_if_dead = {
								OR = {
									graphical_culture = airgeniegfx 
									graphical_culture = qorrashigfx 
								}
							}
						}
						AND = {
							true_father_even_if_dead = { 
								OR = {
									graphical_culture = airgeniegfx 
									graphical_culture = qorrashigfx 
								}
							}
							mother_even_if_dead = { has_character_modifier = water_genasi }
						}
						AND = {
							true_father_even_if_dead = { has_character_modifier = air_genasi }
							mother_even_if_dead = { graphical_culture = watergeniegfx }
						}
						AND = {
							true_father_even_if_dead = { graphical_culture = watergeniegfx }
							mother_even_if_dead = { has_character_modifier = air_genasi }
						}
					}
					OR = {
						trait = creature_genasi
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = ice_genasi
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = ooze_genasi }
						mother_even_if_dead = { has_character_modifier = ooze_genasi }
						AND = {
							true_father_even_if_dead = { has_character_modifier = earth_genasi }
							mother_even_if_dead = { graphical_culture = watergeniegfx }
						}
						AND = {
							true_father_even_if_dead = { graphical_culture = watergeniegfx }
							mother_even_if_dead = { has_character_modifier = earth_genasi }
						}
						AND = {
							true_father_even_if_dead = { has_character_modifier = water_genasi }
							mother_even_if_dead = {
								OR = {
									graphical_culture = earthgeniegfx
									graphical_culture = earthtitangfx
								}
							}
						}
						AND = {
							true_father_even_if_dead = {
								OR = {
									graphical_culture = earthgeniegfx
									graphical_culture = earthtitangfx
								}
							}
							mother_even_if_dead = { has_character_modifier = water_genasi }
						}
					}
					OR = {
						trait = creature_genasi
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = ooze_genasi
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = steam_genasi }
						mother_even_if_dead = { has_character_modifier = steam_genasi }
						AND = {
							true_father_even_if_dead = { has_character_modifier = fire_genasi }
							mother_even_if_dead = { graphical_culture = watergeniegfx }
						}
						AND = {
							true_father_even_if_dead = { graphical_culture = watergeniegfx }
							mother_even_if_dead = { has_character_modifier = fire_genasi }
						}
						AND = {
							true_father_even_if_dead = { has_character_modifier = water_genasi }
							mother_even_if_dead = { graphical_culture = firegeniegfx }
						}
						AND = {
							true_father_even_if_dead = { graphical_culture = firegeniegfx }
							mother_even_if_dead = { has_character_modifier = water_genasi }
						}
					}
					OR = {
						trait = creature_genasi
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = steam_genasi
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = angel_aasimar }
						mother_even_if_dead = { has_character_modifier = angel_aasimar }
					}
					OR = {
						trait = creature_aasimar
						trait = half_celestial
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = angel_aasimar
					duration = -1
				}
			}
			20 = {
				trigger = {
					OR = {
						true_father_even_if_dead = {
							trait = creature_angel
							culture = angel
						}
						mother_even_if_dead = {
							trait = creature_angel
							culture = angel
						}
					}
					OR = {
						trait = creature_aasimar
						trait = half_celestial
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = angel_aasimar
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = archon_aasimar }
						mother_even_if_dead = { has_character_modifier = archon_aasimar }
					}
					OR = {
						trait = creature_aasimar
						trait = half_celestial
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = archon_aasimar
					duration = -1
				}
			}
			20 = {
				trigger = {
					OR = {
						true_father_even_if_dead = {
							trait = creature_angel
							OR = {
								culture = archon
								graphical_culture = houndgfx
								graphical_culture = wardengfx
							}
						}
						mother_even_if_dead = {
							trait = creature_angel
							OR = {
								culture = archon
								graphical_culture = houndgfx
								graphical_culture = wardengfx
							}
						}
					}
					OR = {
						trait = creature_aasimar
						trait = half_celestial
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = archon_aasimar
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = asura_aasimar }
						mother_even_if_dead = { has_character_modifier = asura_aasimar }
					}
					OR = {
						trait = creature_aasimar
						trait = half_celestial
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = asura_aasimar
					duration = -1
				}
			}
			20 = {
				trigger = {
					OR = {
						true_father_even_if_dead = {
							trait = creature_angel
							OR = {
								culture = asura
								graphical_culture = asuragfx
							}
						}
						mother_even_if_dead = {
							trait = creature_angel
							OR = {
								culture = asura
								graphical_culture = asuragfx
							}
						}
					}
					OR = {
						trait = creature_aasimar
						trait = half_celestial
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = asura_aasimar
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = eladrin_aasimar }
						mother_even_if_dead = { has_character_modifier = eladrin_aasimar }
					}
					OR = {
						trait = creature_aasimar
						trait = half_celestial
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = eladrin_aasimar
					duration = -1
				}
			}
			20 = {
				trigger = {
					OR = {
						true_father_even_if_dead = {
							trait = creature_angel
							OR = {
								culture = celestial_eladrin
								graphical_culture = celestialeladringfx
							}
						}
						mother_even_if_dead = {
							trait = creature_angel
							OR = {
								culture = celestial_eladrin
								graphical_culture = celestialeladringfx
							}
						}
					}
					OR = {
						trait = creature_aasimar
						trait = half_celestial
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = eladrin_aasimar
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = einheriar_aasimar }
						mother_even_if_dead = { has_character_modifier = einheriar_aasimar }
					}
					OR = {
						trait = creature_aasimar
						trait = half_celestial
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = einheriar_aasimar
					duration = -1
				}
			}
			20 = {
				trigger = {
					OR = {
						true_father_even_if_dead = {
							trait = creature_angel
							OR = {
								culture = einheriar
								graphical_culture = einheriargfx
							}
						}
						mother_even_if_dead = {
							trait = creature_angel
							OR = {
								culture = einheriar
								graphical_culture = einheriargfx
							}
						}
					}
					OR = {
						trait = creature_aasimar
						trait = half_celestial
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = einheriar_aasimar
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = moonmaiden_aasimar }
						mother_even_if_dead = { has_character_modifier = moonmaiden_aasimar }
					}
					OR = {
						trait = creature_aasimar
						trait = half_celestial
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = moonmaiden_aasimar
					duration = -1
				}
			}
			20 = {
				trigger = {
					OR = {
						true_father_even_if_dead = {
							trait = creature_angel
							OR = {
								culture = moonmaiden
								graphical_culture = moonmaidengfx
							}
						}
						mother_even_if_dead = {
							trait = creature_angel
							OR = {
								culture = moonmaiden
								graphical_culture = moonmaidengfx
							}
						}
					}
					OR = {
						trait = creature_aasimar
						trait = half_celestial
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = moonmaiden_aasimar
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = guardinal_aasimar }
						mother_even_if_dead = { has_character_modifier = guardinal_aasimar }
					}
					OR = {
						trait = creature_aasimar
						trait = half_celestial
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = guardinal_aasimar
					duration = -1
				}
			}
			20 = {
				trigger = {
					OR = {
						true_father_even_if_dead = {
							trait = creature_angel
							OR = {
								culture = guardinal
								graphical_culture = beargfx
								graphical_culture = arvoralgfx
								graphical_culture = equinalgfx
								graphical_culture = cervidalgfx
								graphical_culture = skavenwhitegfx
							}
						}
						mother_even_if_dead = {
							trait = creature_angel
							OR = {
								culture = guardinal
								graphical_culture = beargfx
								graphical_culture = arvoralgfx
								graphical_culture = equinalgfx
								graphical_culture = cervidalgfx
								graphical_culture = skavenwhitegfx
							}
						}
					}
					OR = {
						trait = creature_aasimar
						trait = half_celestial
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = guardinal_aasimar
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = divine_aasimar }
						mother_even_if_dead = { has_character_modifier = divine_aasimar }
					}
					OR = {
						trait = creature_aasimar
						trait = half_celestial
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = divine_aasimar
					duration = -1
				}
			}
			1000 = {
				trigger = {
					OR = {
						true_father_even_if_dead = {
							trait = avatar
							is_evil_religion = no
						}
						mother_even_if_dead = {
							trait = avatar
							is_evil_religion = no
						}
					}
					OR = {
						trait = creature_aasimar
						trait = half_celestial
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = divine_aasimar
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = devil_tiefling }
						mother_even_if_dead = { has_character_modifier = devil_tiefling }
						true_father = { has_character_flag = is_pit_fiend }
						mother = { has_character_flag = is_pit_fiend }
						true_father = { has_character_flag = is_erinyes }
						mother = { has_character_flag = is_erinyes }
					}
					OR = {
						race_is_fiendish = yes
						trait = half_fiend
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = devil_tiefling
					duration = -1
				}
			}
			20 = {
				trigger = {
					OR = {
						true_father_even_if_dead = {
							trait = creature_fiend
							OR = {
								culture = baatezu
								culture = abishai
							}
						}
						mother_even_if_dead = {
							trait = creature_fiend
							OR = {
								culture = baatezu
								culture = abishai
							}
						}
					}
					OR = {
						race_is_fiendish = yes
						trait = half_fiend
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = devil_tiefling
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = demodand_tiefling }
						mother_even_if_dead = { has_character_modifier = demodand_tiefling }
					}
					OR = {
						race_is_fiendish = yes
						trait = half_fiend
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = demodand_tiefling
					duration = -1
				}
			}
			20 = {
				trigger = {
					OR = {
						true_father_even_if_dead = {
							trait = creature_fiend
							OR = {
								culture = gehreleth
								graphical_culture = nurgleprincegfx
							}
						}
						mother_even_if_dead = {
							trait = creature_fiend
							OR = {
								culture = gehreleth
								graphical_culture = nurgleprincegfx
							}
						}
					}
					OR = {
						race_is_fiendish = yes
						trait = half_fiend
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = demodand_tiefling
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = demon_tiefling }
						mother_even_if_dead = { has_character_modifier = demon_tiefling }
						true_father = { has_character_flag = is_balor }
						mother = { has_character_flag = is_balor }
						true_father = { has_character_flag = is_succubus }
						mother = { has_character_flag = is_succubus }
					}
					OR = {
						race_is_fiendish = yes
						trait = half_fiend
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = demon_tiefling
					duration = -1
				}
			}
			20 = {
				trigger = {
					OR = {
						true_father_even_if_dead = {
							trait = creature_fiend
							OR = {
								culture = tanarri
								graphical_culture = tzeentchprincegfx
								graphical_culture = balorgfx
								graphical_culture = nalfeshneegfx
							}
						}
						mother_even_if_dead = {
							trait = creature_fiend
							OR = {
								culture = tanarri
								graphical_culture = tzeentchprincegfx
								graphical_culture = balorgfx
								graphical_culture = nalfeshneegfx
							}
						}
					}
					OR = {
						race_is_fiendish = yes
						trait = half_fiend
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = demon_tiefling
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = yugoloth_tiefling }
						mother_even_if_dead = { has_character_modifier = yugoloth_tiefling }
					}
					OR = {
						race_is_fiendish = yes
						trait = half_fiend
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = yugoloth_tiefling
					duration = -1
				}
			}
			20 = {
				trigger = {
					OR = {
						true_father_even_if_dead = {
							trait = creature_fiend
							OR = {
								culture = yugoloth
								graphical_culture = ultrolothgfx
								graphical_culture = mezzolothgfx
								graphical_culture = slanngfx
							}
						}
						mother_even_if_dead = {
							trait = creature_fiend
							OR = {
								culture = yugoloth
								graphical_culture = ultrolothgfx
								graphical_culture = mezzolothgfx
								graphical_culture = slanngfx
							}
						}
					}
					OR = {
						race_is_fiendish = yes
						trait = half_fiend
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = yugoloth_tiefling
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = rakshasa_tiefling }
						mother_even_if_dead = { has_character_modifier = rakshasa_tiefling }
					}
					OR = {
						race_is_fiendish = yes
						trait = half_fiend
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = rakshasa_tiefling
					duration = -1
				}
			}
			20 = {
				trigger = {
					OR = {
						true_father_even_if_dead = {
							trait = creature_fiend
							OR = {
								culture = rakshasa
								graphical_culture = rakshasagfx
							}
						}
						mother_even_if_dead = {
							trait = creature_fiend
							OR = {
								culture = rakshasa
								graphical_culture = rakshasagfx
							}
						}
					}
					OR = {
						race_is_fiendish = yes
						trait = half_fiend
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = rakshasa_tiefling
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = marrashi_tiefling }
						mother_even_if_dead = { has_character_modifier = marrashi_tiefling }
					}
					OR = {
						race_is_fiendish = yes
						trait = half_fiend
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = marrashi_tiefling
					duration = -1
				}
			}
			20 = {
				trigger = {
					OR = {
						true_father_even_if_dead = {
							trait = creature_fiend
							OR = {
								culture = marrashi
								graphical_culture = marrashgfx
							}
						}
						mother_even_if_dead = {
							trait = creature_fiend
							OR = {
								culture = marrashi
								graphical_culture = marrashgfx
							}
						}
					}
					OR = {
						race_is_fiendish = yes
						trait = half_fiend
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = marrashi_tiefling
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = divine_tiefling }
						mother_even_if_dead = { has_character_modifier = divine_tiefling }
					}
					OR = {
						race_is_fiendish = yes
						trait = half_fiend
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = divine_tiefling
					duration = -1
				}
			}
			1000 = {
				trigger = {
					OR = {
						true_father_even_if_dead = {
							trait = avatar
							is_evil_religion = yes
						}
						mother_even_if_dead = {
							trait = avatar
							is_evil_religion = yes
						}
					}
					OR = {
						race_is_fiendish = yes
						trait = half_fiend
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = divine_tiefling
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = baphitaur }
						mother_even_if_dead = { has_character_modifier = baphitaur }
					}
					OR = {
						race_is_fiendish = yes
						trait = half_fiend
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = baphitaur
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = durzagon }
						mother_even_if_dead = { has_character_modifier = durzagon }
					}
					OR = {
						race_is_fiendish = yes
						trait = half_fiend
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = durzagon
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = maeluth }
						mother_even_if_dead = { has_character_modifier = maeluth }
					}
					OR = {
						race_is_fiendish = yes
						trait = half_fiend
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = maeluth
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = mur_zhagul }
						mother_even_if_dead = { has_character_modifier = mur_zhagul }
					}
					OR = {
						race_is_fiendish = yes
						trait = half_fiend
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = mur_zhagul
					duration = -1
				}
			}
			10 = {
				trigger = {
					OR = {
						true_father_even_if_dead = { has_character_modifier = wispling }
						mother_even_if_dead = { has_character_modifier = wispling }
					}
					OR = {
						race_is_fiendish = yes
						trait = half_fiend
						trait = planetouched
					}
				}
				add_character_modifier = {
					name = wispling
					duration = -1
				}
			}
		}

		# Fallback for subtype inheritance
		if = {
			limit = {
				has_planetouched_subtype = no
			}
			random_list = {
				1 = {
					trigger = {
						OR = {
							true_father_even_if_dead = { graphical_culture = firegenasigfx }
							mother_even_if_dead = { graphical_culture = firegenasigfx }
							true_father_even_if_dead = { graphical_culture = nomadgfx }
							mother_even_if_dead = { graphical_culture = nomadgfx }
							true_father_even_if_dead = { graphical_culture = undividedprincegfx }
							mother_even_if_dead = { graphical_culture = undividedprincegfx }
						}
						OR = {
							trait = creature_genasi
							trait = planetouched
						}
					}
					add_character_modifier = {
						name = fire_genasi
						duration = -1
					}
				}
				1 = {
					trigger = {
						OR = {
							true_father_even_if_dead = { graphical_culture = airgenasigfx }
							mother_even_if_dead = { graphical_culture = airgenasigfx }
							true_father_even_if_dead = { graphical_culture = nomadgfx }
							mother_even_if_dead = { graphical_culture = nomadgfx }
							true_father_even_if_dead = { graphical_culture = undividedprincegfx }
							mother_even_if_dead = { graphical_culture = undividedprincegfx }
						}
						OR = {
							trait = creature_genasi
							trait = planetouched
						}
					}
					add_character_modifier = {
						name = air_genasi
						duration = -1
					}
				}
				1 = {
					trigger = {
						OR = {
							true_father_even_if_dead = { graphical_culture = watergenasigfx }
							mother_even_if_dead = { graphical_culture = watergenasigfx }
							true_father_even_if_dead = { graphical_culture = nomadgfx }
							mother_even_if_dead = { graphical_culture = nomadgfx }
							true_father_even_if_dead = { graphical_culture = undividedprincegfx }
							mother_even_if_dead = { graphical_culture = undividedprincegfx }
						}
						OR = {
							trait = creature_genasi
							trait = planetouched
						}
					}
					add_character_modifier = {
						name = water_genasi
						duration = -1
					}
				}
				1 = {
					trigger = {
						OR = {
							true_father_even_if_dead = { graphical_culture = earthgenasigfx }
							mother_even_if_dead = { graphical_culture = earthgenasigfx }
							true_father_even_if_dead = { graphical_culture = nomadgfx }
							mother_even_if_dead = { graphical_culture = nomadgfx }
							true_father_even_if_dead = { graphical_culture = undividedprincegfx }
							mother_even_if_dead = { graphical_culture = undividedprincegfx }
						}
						OR = {
							trait = creature_genasi
							trait = planetouched
						}
					}
					add_character_modifier = {
						name = earth_genasi
						duration = -1
					}
				}
				10 = {
					trigger = {
						OR = {
							true_father_even_if_dead = {
								trait = creature_angel
							}
							mother_even_if_dead = {
								trait = creature_angel
							}
						}
						OR = {
							trait = creature_aasimar
							trait = half_celestial
							trait = planetouched
						}
					}
					add_character_modifier = {
						name = angel_aasimar
						duration = -1
					}
				}
				1 = {
					trigger = {
						any_owned_bloodline = { has_bloodline_flag = divine_bloodline }
						OR = {
							trait = creature_aasimar
							trait = half_celestial
							trait = planetouched
						}
					}
					add_character_modifier = {
						name = divine_aasimar
						duration = -1
					}
				}
				1 = {
					trigger = {
						OR = {
							true_father_even_if_dead = {
								trait = creature_fiend
							}
							mother_even_if_dead = {
								trait = creature_fiend
							}
							true_father = {
								has_character_flag = secret_fiend
							}
							mother = {
								has_character_flag = secret_fiend
							}
						}
						OR = {
							race_is_fiendish = yes
							trait = half_fiend
							trait = planetouched
						}
					}
					add_character_modifier = {
						name = devil_tiefling
						duration = -1
					}
				}
				10 = {
					trigger = {
						OR = {
							true_father_even_if_dead = {
								OR = {
									graphical_culture = daemonettegfx
									graphical_culture = slaaneshprincegfx
									graphical_culture = feyrigfx
									graphical_culture = draeglothgfx
									graphical_culture = tanarukkgfx
								}
							}
							mother_even_if_dead = {
								OR = {
									graphical_culture = daemonettegfx
									graphical_culture = slaaneshprincegfx
									graphical_culture = feyrigfx
									graphical_culture = draeglothgfx
									graphical_culture = tanarukkgfx
								}
							}
						}
						OR = {
							race_is_fiendish = yes
							trait = half_fiend
							trait = planetouched
						}
					}
					add_character_modifier = {
						name = demon_tiefling
						duration = -1
					}
				}
				1 = {
					trigger = {
						any_owned_bloodline = { has_bloodline_flag = infernal_bloodline }
						OR = {
							race_is_fiendish = yes
							trait = half_fiend
							trait = planetouched
						}
					}
					add_character_modifier = {
						name = divine_tiefling
						duration = -1
					}
				}
			}
		}
	}
}

character_event = {
	id = character_trait.3
	hide_window = yes
	is_triggered_only = yes
	min_age = 16

	trigger = {
		OR = {
			trait = creature_giant
			graphical_culture = merrowgfx
		}
		NOR = {
			trait = lifespan_giant_stone
			trait = lifespan_giant_storm
			trait = lifespan_giant_cloud
			trait = lifespan_giant_fire
			trait = lifespan_giant_frost
			trait = lifespan_giant_hill
			trait = lifespan_earth_titan
			trait = lifespan_merrow

			gfx_culture_scope = { culture = mountain_giant }
			gfx_culture_scope = { culture = verbeeg }
		}
		OR = {
			graphical_culture = stonegiantgfx
			graphical_culture = stormgiantgfx
			graphical_culture = cloudgiantgfx
			graphical_culture = firegiantgfx
			graphical_culture = frostgiantgfx
			graphical_culture = giantgfx
			graphical_culture = earthtitangfx
			graphical_culture = fomoriangfx
			graphical_culture = ashgiantgfx
			graphical_culture = desertgiantgfx
			graphical_culture = junglegiantgfx
			graphical_culture = reefgiantgfx
			graphical_culture = woodgiantgfx
			graphical_culture = cyclopsgfx
			graphical_culture = merrowgfx
		}
	}

	immediate = {
		if = {
			limit = {
				OR = {
					gfx_culture_scope = { culture = stone_giant }
					gfx_culture_scope = { culture = ash_giant }
				}
			}
			add_trait = lifespan_giant_stone
		}
		else_if = {
			limit = {
				OR = {
					gfx_culture_scope = { culture = storm_giant }
					gfx_culture_scope = { culture = reef_giant }
					gfx_culture_scope = { culture = desert_giant }
					gfx_culture_scope = { culture = firbolg }
				}
			}
			add_trait = lifespan_giant_storm
		}
		else_if = {
			limit = {
				OR = {
					gfx_culture_scope = { culture = cloud_giant }
					gfx_culture_scope = { culture = fog_giant }
					gfx_culture_scope = { culture = desert_giant }
				}
			}
			add_trait = lifespan_giant_cloud
		}
		else_if = {
			limit = {
				gfx_culture_scope = { culture = fire_giant }
			}
			add_trait = lifespan_giant_fire
		}
		else_if = {
			limit = {
				OR = {
					gfx_culture_scope = { culture = frost_giant }
					gfx_culture_scope = { culture = sand_giant }
				}
			}
			add_trait = lifespan_giant_frost
		}
		else_if = {
			limit = {
				OR = {
					gfx_culture_scope = { culture = earth_titan }
					gfx_culture_scope = { culture = island_giant }
				}
			}
			add_trait = lifespan_earth_titan
		}
		else_if = {
			limit = {
				gfx_culture_scope = { culture = merrow }
			}
			add_trait = lifespan_merrow
		}
		else = {
			add_trait = lifespan_giant_hill
		}
	}
}

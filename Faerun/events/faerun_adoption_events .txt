namespace = fradoption

character_event = {
	id = fradoption.1
	desc = fradoption_desc.1
	picture = GFX_evt_birth
	border = GFX_event_normal_frame_diplomacy
	prisoner = no
	is_triggered_only = yes
	
	option = { # Similar to me
		name = fradoption_desc.1a
		custom_tooltip = { text = adoption_similar_tt }
		trigger = {
			NOR = {
				trait = creature_dragon
				trait = creature_treant
				trait = creature_construct
				trait = creature_fiend
				race_is_aberrant = yes
				trait = creature_monster
				trait = creature_genie
				trait = creature_celestial
			}
		}
		if = {
			limit = { real_tier = EMPEROR }
			prestige = -400
		}
		if = {
			limit = { real_tier = KING }
			prestige = -300
		}
		if = {
			limit = { real_tier = DUKE }
			prestige = -200
		}
		if = {
			limit = { real_tier = COUNT }
			prestige = -100
		}
		if = {
			limit = { real_tier = BARON }
			prestige = -10
		}
		character_event = { id = fradoption.2 }
	}
	option = { # a foundling from the local area
		name = fradoption_desc.1b
		custom_tooltip = { text = adoption_local_tt }
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				unconvertable_culture_trigger = no
			}
		}
		trigger = {
			capital_scope = {
				NOR = {
					culture_group = monster_group
					culture_group = fiendish_group
					culture_group = draconic_culture_group
					culture_group = celestial_group
					culture = treant
					unconvertable_culture_trigger = yes
				}		
			}
		}
		if = {
			limit = { real_tier = EMPEROR }
			prestige = -400
		}
		if = {
			limit = { real_tier = KING }
			prestige = -300
		}
		if = {
			limit = { real_tier = DUKE }
			prestige = -200
		}
		if = {
			limit = { real_tier = COUNT }
			prestige = -100
		}
		if = {
			limit = { real_tier = BARON }
			prestige = -10
		}
		character_event = { id = fradoption.3 }
	}
	option = { # nevermind
		name = fradoption_desc.1c
		clr_character_flag = adopting_child
		ai_chance = {
			factor = 0
		}
	}
}

character_event = {
	id = fradoption.2
	desc = fradoption_desc.2
	picture = GFX_evt_birth
	border = GFX_event_normal_frame_diplomacy
	prisoner = no
	is_triggered_only = yes
	
	option = { # a boy
		name = fradoption_desc.2a
		create_character = {
			culture = ROOT
			dynasty = ROOT
			religion = ROOT
			random_traits = no
			female = no
			trait = adopted
			age = 0
		}
		new_character = {
			character_event = { id = beauty.0 }
			character_event = { id = intelligence.0 }
			character_event = { id = strength.0 }
			character_event = { id = FaerunSorcerer.1 } # Sorceror trait
			character_event = { id = uthgar.0 } # uthgar totem
			save_event_target_as = adoptee
			if = {
				limit = {
					FROM = {
						is_female = no
					}
				}
				set_father = FROM
			}
			else = {
				set_mother = FROM
			}
			any_owned_bloodline = {
				remove_bloodline_member = event_target:adoptee
			}
			prompt_name = {
				player = FROM
				type = RENAME_ADOPTEE_MESSAGE
			}
		}
		recalc_succession = yes
		clr_character_flag = adopting_child
	}
	option = { # a girl
		name = fradoption_desc.2b
		create_character = {
			culture = ROOT
			dynasty = ROOT
			religion = ROOT
			random_traits = no
			trait = adopted
			female = yes
			age = 0
		}
		new_character = {
			character_event = { id = beauty.0 }
			character_event = { id = intelligence.0 }
			character_event = { id = strength.0 }
			character_event = { id = FaerunSorcerer.1 } # Sorceror trait
			character_event = { id = uthgar.0 } # uthgar totem
			save_event_target_as = adoptee
			if = {
				limit = {
					FROM = {
						is_female = no
					}
				}
				set_father = FROM
			}
			else = {
				set_mother = FROM
			}
			any_owned_bloodline = {
				remove_bloodline_member = event_target:adoptee
			}
			prompt_name = {
				player = FROM
				type = RENAME_ADOPTEE_MESSAGE
			}
		}
		recalc_succession = yes
		clr_character_flag = adopting_child
	}
}

character_event = {
	id = fradoption.3
	desc = fradoption_desc.2
	picture = GFX_evt_birth
	border = GFX_event_normal_frame_diplomacy
	prisoner = no
	is_triggered_only = yes
	
	option = { # a boy
		name = fradoption_desc.2a
		capital_scope = {
			location = {
				create_character = {
					culture = THIS
					dynasty = ROOT
					religion = ROOT
					random_traits = no
					trait = adopted
					female = no
					age = 0
				}
				new_character = {
					character_event = { id = beauty.0 }
					character_event = { id = intelligence.0 }
					character_event = { id = strength.0 }
					character_event = { id = FaerunSorcerer.1 } # Sorceror trait
					character_event = { id = uthgar.0 } # uthgar totem
					if = {
						limit = { FROM = { is_female = no } }
						set_father = FROM
					}
					else = {
						set_mother = FROM
					}
					save_event_target_as = adoptee
					any_owned_bloodline = {
						remove_bloodline_member = event_target:adoptee
					}
					prompt_name = {
						player = FROM
						type = RENAME_ADOPTEE_MESSAGE
					}
				}
			}
		}
		recalc_succession = yes
		clr_character_flag = adopting_child
	}
	option = { # a girl
		name = fradoption_desc.2b
		capital_scope = {
			location = {
				create_character = {
					culture = THIS
					dynasty = ROOT
					religion = ROOT
					random_traits = no
					trait = adopted
					female = yes
					age = 0
				}
				new_character = {
					character_event = { id = beauty.0 }
					character_event = { id = intelligence.0 }
					character_event = { id = strength.0 }
					character_event = { id = FaerunSorcerer.1 } # Sorceror trait
					character_event = { id = uthgar.0 } # uthgar totem
					if = {
						limit = { FROM = { is_female = no } }
						set_father = FROM
					}
					else = {
						set_mother = FROM
					}
					save_event_target_as = adoptee
					any_owned_bloodline = {
						remove_bloodline_member = event_target:adoptee
					}
					prompt_name = {
						player = FROM
						type = RENAME_ADOPTEE_MESSAGE
					}
				}
			}
		}
		recalc_succession = yes
		clr_character_flag = adopting_child
	}
}

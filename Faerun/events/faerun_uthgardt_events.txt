namespace = uthgar

character_event = {
	id = uthgar.1
	desc = UTHGAR.1
	picture = GFX_evt_angels_1
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				any_liege = {
					has_uthgardt_totem = yes
					NOT = { trait = uthgar_black_lion }
				}
			}
		}
		name = UTHGAR.1.a
		add_trait = uthgar_black_lion
	}
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				any_liege = {
					has_uthgardt_totem = yes
					NOT = { trait = uthgar_black_raven }
				}
			}
		}
		name = UTHGAR.1.b
		add_trait = uthgar_black_raven
	}
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				any_liege = {
					has_uthgardt_totem = yes
					NOT = { trait = uthgar_blue_bear }
				}
			}
		}
		name = UTHGAR.1.c
		add_trait = uthgar_blue_bear
	}
	option = {
		name = TB_OPT_MORE
		character_event = { id = uthgar.2 }
	}
}

character_event = {
	id = uthgar.2
	desc = UTHGAR.1
	picture = GFX_evt_angels_1
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				any_liege = {
					has_uthgardt_totem = yes
					NOT = { trait = uthgar_elk }
				}
			}
		}
		name = UTHGAR.2.a
		add_trait = uthgar_elk
	}
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				any_liege = {
					has_uthgardt_totem = yes
					NOT = { trait = uthgar_gray_wolf }
				}
			}
		}
		name = UTHGAR.2.b
		add_trait = uthgar_gray_wolf
	}
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				any_liege = {
					has_uthgardt_totem = yes
					NOT = { trait = uthgar_great_worm }
				}
			}
		}
		name = UTHGAR.2.c
		add_trait = uthgar_great_worm
	}
	option = {
		name = TB_OPT_MORE
		character_event = { id = uthgar.3 }
	}
}

character_event = {
	id = uthgar.3
	desc = UTHGAR.1
	picture = GFX_evt_angels_1
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				any_liege = {
					has_uthgardt_totem = yes
					NOT = { trait = uthgar_griffon }
				}
			}
		}
		name = UTHGAR.3.a
		add_trait = uthgar_griffon
	}
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				any_liege = {
					has_uthgardt_totem = yes
					NOT = { trait = uthgar_red_tiger }
				}
			}
		}
		name = UTHGAR.3.b
		add_trait = uthgar_red_tiger
	}
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				any_liege = {
					has_uthgardt_totem = yes
					NOT = { trait = uthgar_sky_pony }
				}
			}
		}
		name = UTHGAR.3.c
		add_trait = uthgar_sky_pony
	}
	option = {
		name = TB_OPT_MORE
		character_event = { id = uthgar.4 }
	}
}

character_event = {
	id = uthgar.4
	desc = UTHGAR.1
	picture = GFX_evt_angels_1
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				any_liege = {
					has_uthgardt_totem = yes
					NOT = { trait = uthgar_thunderbeast }
				}
			}
		}
		name = UTHGAR.4.a
		add_trait = uthgar_thunderbeast
	}
	option = {
		trigger = {
			year = 1368
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				any_liege = {
					has_uthgardt_totem = yes
					NOT = { trait = uthgar_tree_ghost }
				}
			}
		}
		name = UTHGAR.4.b
		add_trait = uthgar_tree_ghost
	}
	option = {
		trigger = {
			ai = no
		}
		name = TB_OPT_BACK
		character_event = { id = uthgar.1 }
	}
}

character_event = {
	id = uthgar.5
	desc = UTHGAR.5
	picture = GFX_evt_viking_throneroom_oldgods
	
	trigger = {
		uthgardt_faith_trigger = yes
		NOT = { has_character_modifier = uthgardt_bad_tribe }
		OR = {
			AND = {
				FROM = {
					title = d_black_lion
				}
				NOT = { trait = uthgar_black_lion }
			}
			AND = {
				FROM = {
					title = d_black_raven
				}
				NOT = { trait = uthgar_black_raven }
			}
			AND = {
				has_landed_title = d_blue_bear
				NOT = { trait = uthgar_blue_bear }
			}
			AND = {
				FROM = {
					title = d_elk
				}
				NOT = { trait = uthgar_elk }
			}
			AND = {
				FROM = {
					title = d_gray_wolf
				}
				NOT = { trait = uthgar_gray_wolf }
			}
			AND = {
				FROM = {
					title = d_great_worm
				}
				NOT = { trait = uthgar_great_worm }
			}
			AND = {
				FROM = {
					title = d_griffon
				}
				NOT = { trait = uthgar_griffon }
			}
			AND = {
				FROM = {
					title = d_red_tiger
				}
				NOT = { trait = uthgar_red_tiger }
			}
			AND = {
				FROM = {
					title = d_sky_pony
				}
				NOT = { trait = uthgar_sky_pony }
			}
			AND = {
				FROM = {
					title = d_thunderbeast
				}
				NOT = { trait = uthgar_thunderbeast }
			}
			AND = {
				FROM = {
					title = d_tree_ghost
				}
				NOT = { trait = uthgar_tree_ghost }
			}
		}
	}
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.5.a
		if = { # to prevent piety farming
			limit = {
				NOT = { has_character_flag = uth_returned_tribe }
				had_character_flag = {
					flag = uth_returned_tribe
					years = 2
				}
			}
			piety = 150
		}
		clr_character_flag = uth_returned_tribe
		set_character_flag = uth_returned_tribe # refreshing the flag
		custom_tooltip = {
			text = RETURNTRIBETT
			hidden_tooltip = {
				if = {
					limit = {
						num_of_count_titles = 2
					}
					create_character = {
						age = 25
						trait = creature_human
						female = random
						religion = ROOT
						culture = uthgardt
						dynasty = actually_culture
						random_traits = yes
					}
					new_character = {
						grant_title = FROM
						if = {
							limit = {
								ROOT = {
									OR = {
										tier = KING
										tier = EMPEROR
									}
								}
							}
							set_defacto_liege = ROOT
						}
						else_if = {
							limit = {
								ROOT = {
									NOR = {
										tier = KING
										tier = EMPEROR
									}
								}
							}
							set_defacto_liege = THIS
						}
					}
				}
				else_if = {
					limit = {
						NOT = { num_of_count_titles = 2 }
					}
					destroy_landed_title = FROM
				}
			}
		}
	}
	
	option = {
		trigger = {
			OR = {
				ai = no
				NOR = {
					trait = zealous
					trait = humble
				}
			}
		}
		name = UTHGAR.5.b
		add_character_modifier = {
			name = uthgardt_bad_tribe
			duration = -1
		}
	}
}

character_event = {
	id = uthgar.6
	picture = GFX_evt_savage_frontier
	hide_window = yes
	
	trigger = {
		has_character_modifier = uthgardt_bad_tribe
		NOT = { uthgardt_faith_trigger = yes }
	}
	
	is_triggered_only = yes
	
	immediate = {
		remove_character_modifier = uthgardt_bad_tribe
	}
}

character_event = {
	id = uthgar.7
	picture = GFX_evt_savage_frontier
	hide_window = yes
	
	trigger = {
		FROMFROM = {
			has_character_modifier = uthgardt_bad_tribe
			uthgardt_faith_trigger = yes
			NOR = {
				AND = {
					FROM = {
						title = d_black_lion
					}
					NOT = { trait = uthgar_black_lion }
				}
				AND = {
					FROM = {
						title = d_black_raven
					}
					NOT = { trait = uthgar_black_raven }
				}
				AND = {
					has_landed_title = d_blue_bear
					NOT = { trait = uthgar_blue_bear }
				}
				AND = {
					FROM = {
						title = d_elk
					}
					NOT = { trait = uthgar_elk }
				}
				AND = {
					FROM = {
						title = d_gray_wolf
					}
					NOT = { trait = uthgar_gray_wolf }
				}
				AND = {
					FROM = {
						title = d_great_worm
					}
					NOT = { trait = uthgar_great_worm }
				}
				AND = {
					FROM = {
						title = d_griffon
					}
					NOT = { trait = uthgar_griffon }
				}
				AND = {
					FROM = {
						title = d_red_tiger
					}
					NOT = { trait = uthgar_red_tiger }
				}
				AND = {
					FROM = {
						title = d_sky_pony
					}
					NOT = { trait = uthgar_sky_pony }
				}
				AND = {
					FROM = {
						title = d_thunderbeast
					}
					NOT = { trait = uthgar_thunderbeast }
				}
				AND = {
					FROM = {
						title = d_tree_ghost
					}
					NOT = { trait = uthgar_tree_ghost }
				}
			}
		}
	}
	
	is_triggered_only = yes
	
	immediate = {
		FROMFROM = { remove_character_modifier = uthgardt_bad_tribe }
	}
}

character_event = {
	id = uthgar.8
	picture = GFX_evt_savage_frontier
	hide_window = yes
	
	trigger = {
		uthgardt_faith_trigger = yes
		OR = {
			z_wizard = yes
			z_sorcerer = yes
			z_warlock = yes
			z_bard = yes
		}
		NOT = { has_character_modifier = uthgardt_magician }
	}
	
	is_triggered_only = yes
	
	immediate = {
		add_character_modifier = {
			name = uthgardt_magician
			duration = -1
		}
	}
}

character_event = {
	id = uthgar.9
	picture = GFX_evt_savage_frontier
	hide_window = yes
	
	trigger = {
		uthgardt_faith_trigger = yes
		has_character_modifier = uthgardt_magician
	}
	
	is_triggered_only = yes
	
	immediate = {
		remove_character_modifier = uthgardt_magician
	}
}

character_event = {
	id = uthgar.10
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = attending_runemeet
	}
}

character_event = {
	id = uthgar.11
	desc = UTHGAR.11
	picture = GFX_evt_viking_throneroom_oldgods
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.11.a
		add_trait = travelling
		if = {
			limit = {
				location = {
					title = c_night_trees
				}
			}
			character_event = { id = uthgar.12 } # no travel time if already there!
			break = yes
		}
		character_event = { id = uthgar.12 random = 10 }
	}
}

character_event = {
	id = uthgar.12
	desc = UTHGAR.12
	picture = GFX_evt_midwinter_blot_oldgods
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.12.a
		character_event = { id = uthgar.14 }
	}
	
	option = {
		name = UTHGAR.12.b
		hidden_tooltip = {
			random_list = {
				5 = { # + General Opinion
					modifier = {
						factor = 3
						diplomacy = 10
					}
					character_event = { id = uthgar.23 days = 3 }
				}
				3 = { # - General Opinion
					modifier = {
						factor = 3
						NOT = { diplomacy = 5 }
					}
					character_event = { id = uthgar.24 days = 3 }
				}
				5 = { # No success either way
					character_event = { id = uthgar.25 days = 3 }
				}
			}
		}
	}
	
	option = {
		name = UTHGAR.12.c
		scaled_piety = {
			value = 0.5
			min = 50
			max = 300
		}
		scaled_prestige = {
			value = -0.25
			min = 25
			max = 150
		}
		character_event = { id = uthgar.13 random = 5 }
	}
}

character_event = {
	id = uthgar.13
	desc = UTHGAR.13
	picture = GFX_evt_midwinter_blot_oldgods
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.13.a
		remove_trait = travelling
	}
}

character_event = {
	id = uthgar.14
	desc = UTHGAR.14
	picture = GFX_evt_midwinter_blot_oldgods
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.14.a
		character_event = { id = uthgar.15 days = 3 }
	}
}

character_event = {
	id = uthgar.15
	desc = UTHGAR.15
	picture = GFX_evt_melee
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.15.a
		hidden_tooltip = {
			random_list = {
				15 = { # You do well
					modifier = {
						factor = 2
						combat_rating = 15
					}
					character_event = { id = uthgar.16 }
				}
				15 = { # You lose craven
					modifier = {
						factor = 2
						combat_rating = 15
					}
					modifier = {
						factor = 0
						NOT = { trait = craven }
					}
					character_event = { id = uthgar.17 }
				}
				15 = { # You become brave
					modifier = {
						factor = 2
						combat_rating = 15
					}
					modifier = {
						factor = 0
						OR = {
							trait = craven
							trait = brave
						}
					}
					character_event = { id = uthgar.18 }
				}
				15 = { # You become berserker
					modifier = {
						factor = 2
						combat_rating = 15
					}
					modifier = {
						factor = 0
						OR = {
							trait = berserker
							NOT = { has_dlc = "The Old Gods" }
						}
					}
					character_event = { id = uthgar.19 }
				}
				15 = { # Get injuried
					modifier = {
						factor = 2
						NOT = { combat_rating = 10 }
					}
					modifier = {
						factor = 0
						has_injury_trigger = yes
					}
					character_event = { id = uthgar.20 }
				}
				8 = { # Get maimed
					modifier = {
						factor = 2
						NOT = { combat_rating = 10 }
					}
					modifier = {
						factor = 0
						NOT = { can_be_maimed_trigger = yes }
					}
					character_event = { id = uthgar.21 }
				}
				1 = { # Death
					modifier = {
						factor = 2
						NOT = { combat_rating = 10 }
					}
					character_event = { id = uthgar.22 }
				}
			}
		}
	}
}

character_event = {
	id = uthgar.16
	desc = UTHGAR.16
	picture = GFX_evt_melee
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.16.a
		scaled_prestige = {
			value = 0.25
			min = 50
			max = 350
		}
		character_event = { id = uthgar.13 random = 2 }
	}
}

character_event = {
	id = uthgar.17
	desc = UTHGAR.16
	picture = GFX_evt_melee
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.16.a
		add_trait = brave
		scaled_prestige = {
			value = 0.25
			min = 50
			max = 350
		}
		character_event = { id = uthgar.13 random = 2 }
	}
}

character_event = {
	id = uthgar.18
	desc = UTHGAR.16
	picture = GFX_evt_melee
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.16.a
		remove_trait = craven
		scaled_prestige = {
			value = 0.25
			min = 50
			max = 350
		}
		character_event = { id = uthgar.13 random = 2 }
	}
}

character_event = {
	id = uthgar.19
	desc = UTHGAR.19
	picture = GFX_evt_melee
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.19.a
		add_trait = berserker
		scaled_prestige = {
			value = 0.25
			min = 50
			max = 350
		}
		character_event = { id = uthgar.13 random = 2 }
	}
}

character_event = {
	id = uthgar.20
	desc = UTHGAR.20
	picture = GFX_evt_melee
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.20.a
		add_trait_wounded_effect = yes
		scaled_prestige = {
			value = 0.25
			min = 50
			max = 350
		}
		character_event = { id = uthgar.13 random = 2 }
	}
}

character_event = {
	id = uthgar.21
	desc = UTHGAR.20
	picture = GFX_evt_melee
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.20.a
		add_maimed_trait_effect = yes
		scaled_prestige = {
			value = 0.25
			min = 50
			max = 350
		}
		character_event = { id = uthgar.13 random = 2 }
	}
}

character_event = {
	id = uthgar.22
	desc = UTHGAR.22
	picture = GFX_evt_melee
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.22.a
		death = { death_reason = death_battle }
	}
}

character_event = {
	id = uthgar.23
	desc = UTHGAR.23
	picture = GFX_evt_midwinter_blot_oldgods
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.23.a
		add_character_modifier = {
			name = runemeet_socialized
			months = 10
		}
		scaled_prestige = {
			value = 0.2
			min = 20
			max = 200
		}
		character_event = { id = uthgar.13 random = 2 }
	}
}

character_event = {
	id = uthgar.24
	desc = UTHGAR.24
	picture = GFX_evt_midwinter_blot_oldgods
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.24.a
		scaled_prestige = {
			value = -0.2
			min = 20
			max = 200
		}
		add_character_modifier = {
			name = runemeet_socialized_failed
			months = 10
		}
		character_event = { id = uthgar.13 random = 2 }
	}
}

character_event = {
	id = uthgar.25
	desc = UTHGAR.25
	picture = GFX_evt_midwinter_blot_oldgods
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.25.a
		character_event = { id = uthgar.13 random = 2 }
	}
}

character_event = {
	id = uthgar.26
	hide_window = yes
	
	is_triggered_only = yes
	
	only_playable = yes
	
	trigger = {
		uthgardt_faith_trigger = yes
		death_in_shou_lung_trigger = no
		death_no_trace_trigger = no
		current_heir = {
			uthgardt_faith_trigger = yes
		}
	}
	
	immediate = {
		if = {
			limit = {
				current_heir = {
					is_child_of = ROOT
				}
			}
			if = {
				limit = {
					is_female = yes
				}
				current_heir = {
					set_character_flag = mound_burial_mother
				}
			}
			if = {
				limit = {
					is_female = no
				}
				current_heir = {
					set_character_flag = mound_burial_father
				}
			}
		}
		if = {
			limit = {
				current_heir = {
					sibling = ROOT
				}
			}
			if = {
				limit = {
					is_female = yes
				}
				current_heir = {
					set_character_flag = mound_burial_sister
				}
			}
			if = {
				limit = {
					is_female = no
				}
				current_heir = {
					set_character_flag = mound_burial_brother
				}
			}
		}
		current_heir = {
			set_character_flag = mound_burial
			character_event = { id = uthgar.27 days = 60 }
		}
	}
}

character_event = {
	id = uthgar.27
	picture = GFX_evt_savage_frontier
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = mound_burial
		clr_character_flag = mound_burial_father
		clr_character_flag = mound_burial_brother
		clr_character_flag = mound_burial_mother
		clr_character_flag = mound_burial_sister
	}
}

character_event = {
	id = uthgar.28
	picture = GFX_evt_savage_frontier
	desc = { # Father
		trigger = {
			has_character_flag = mound_burial_father
		}
		text = UTHGAR.28a
	}
	desc = { # Mother
		trigger = {
			has_character_flag = mound_burial_mother
		}
		text = UTHGAR.28b
	}
	desc = { # Brother
		trigger = {
			has_character_flag = mound_burial_brother
		}
		text = UTHGAR.28c
	}
	desc = { # Sister
		trigger = {
			has_character_flag = mound_burial_sister
		}
		text = UTHGAR.28d
	}
	desc = { # Any other predecessor
		trigger = {
			NOT = { has_character_flag = mound_burial_father }
			NOT = { has_character_flag = mound_burial_brother }
			NOT = { has_character_flag = mound_burial_mother }
			NOT = { has_character_flag = mound_burial_sister }
		}
		text = UTHGAR.28e
	}
	
	is_triggered_only = yes
	
	trigger = {
		has_character_flag = mound_burial
	}
	
	option = {
		name = UTHGAR.28f
		character_event = { id = uthgar.29 days = 5 }
	}
}

character_event = {
	id = uthgar.29
	picture = GFX_evt_savage_frontier
	desc = { # Father
		trigger = {
			has_character_flag = mound_burial_father
		}
		text = UTHGAR.29a
	}
	desc = { # Mother
		trigger = {
			has_character_flag = mound_burial_mother
		}
		text = UTHGAR.29b
	}
	desc = { # Brother
		trigger = {
			has_character_flag = mound_burial_brother
		}
		text = UTHGAR.29c
	}
	desc = { # Sister
		trigger = {
			has_character_flag = mound_burial_sister
		}
		text = UTHGAR.29d
	}
	desc = { # Any other predecessor
		trigger = {
			NOT = { has_character_flag = mound_burial_father }
			NOT = { has_character_flag = mound_burial_brother }
			NOT = { has_character_flag = mound_burial_mother }
			NOT = { has_character_flag = mound_burial_sister }
		}
		text = UTHGAR.29e
	}
	
	is_triggered_only = yes
	
	trigger = {
		has_character_flag = mound_burial
	}
	
	option = {
		name = UTHGAR.29f
		piety = 40
		prestige = 30
		clr_character_flag = mound_burial
		clr_character_flag = mound_burial_father
		clr_character_flag = mound_burial_brother
		clr_character_flag = mound_burial_mother
		clr_character_flag = mound_burial_sister
	}
}

character_event = {
	id = uthgar.30
	picture = GFX_evt_savage_frontier
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		disband_event_forces = ancestral_host
	}
}

character_event = {
	id = uthgar.31
	picture = GFX_evt_savage_frontier
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		death = { death_reason = death_planes }
		if = {
			limit = {
				liege = {
					ai = no
				}
			}
			liege = {
				character_event = { id = uthgar.33 }
			}
		}
	}
}

character_event = {
	id = uthgar.32
	picture = GFX_evt_savage_frontier
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		any_courtier = {
			has_character_flag = uthgar_champ
			is_alive = yes
		}
		OR = {
			war = no
			any_war = {
				defender = {
					character = PREVPREV
				}
			}
		}
	}
	
	immediate = {
		random_courtier = {
			limit = {
				has_character_flag = uthgar_champ
			}
			death = { death_reason = death_planes }
			if = {
				limit = {
					liege = {
						ai = no
					}
				}
				liege = {
					character_event = { id = uthgar.33 }
				}
			}
		}
	}
}

character_event = {
	id = uthgar.33
	picture = GFX_evt_savage_frontier
	notification = yes
	desc = UTHGAR.33
	
	is_triggered_only = yes
	
	option = {
		name = OK
	}
}

character_event = {
	id = uthgar.34
	desc = UTHGAR.34
	picture = GFX_evt_shaman
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.34a
		add_trait = avatar
		set_character_flag = temporary_avatar
		hidden_tooltip = {
			character_event = { id = uthgar.35 years = 2 }
		}
	}
}

character_event = {
	id = uthgar.35
	desc = UTHGAR.35
	picture = GFX_evt_shaman
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.35a
		remove_trait = avatar
		clr_character_flag = temporary_avatar
	}
}

character_event = {
	id = uthgar.36

	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = do_not_disturb
		clr_character_flag = holding_uthfeast
		clr_character_flag = attending_uthfeast
		clr_character_flag = uthfeast_vassal
		clr_character_flag = feast_drunkard
		clr_character_flag = feast_gluttonous
		clr_character_flag = feast_lunatic
		clr_character_flag = feast_lustful
		clr_character_flag = feast_homosexual
		clr_character_flag = feast_friendship
	}
}

# Invitations Sent (Liege)
character_event = {
	id = uthgar.37
	desc = UTHGAR.37
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = UTHGAR.37a
		any_vassal = {
			limit = {
				age = 16
				prisoner = no
				war = no
				NOT = { trait = incapable }
				is_inaccessible_trigger = no
			}
			character_event = { id = uthgar.38 tooltip = UTHGAR.37b }
		}
		hidden_tooltip = { character_event = { id = uthgar.40 days = 10 } }
	}
}

# Invitations Received (Vassals)
character_event = {
	id = uthgar.38
	desc = UTHGAR.38
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	trigger = { NOT = { is_inaccessible_trigger = yes } }
	
	option = {
		name = UTHGAR.38a
		trigger = {
			uthgardt_faith_trigger = yes
		}
		set_character_flag = attending_uthfeast
		set_character_flag = do_not_disturb
		hidden_tooltip = { character_event = { id = uthgar.36 days = 100 } } # Safety catch flag clearing
	}
	option = {
		name = UTHGAR.38b
		trigger = {
			NOT = { uthgardt_faith_trigger = yes }
		}
		FROM = {
			character_event = { id = uthgar.39 days = 5 tooltip = DIPLOWINDOW_REJECT }
			opinion = {
				modifier = opinion_refused_uthfeast
				who = ROOT
			}
		}
	}
}

# Invitation Refused (Liege)
character_event = {
	id = uthgar.39
	desc = UTHGAR.39
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.39a
		tooltip = {
			opinion = {
				modifier = opinion_refused_uthfeast
				who = FROM
			}
		}
	}
}

# Celebration Begins (Liege)
character_event = {
	id = uthgar.40
	desc = UTHGAR.40
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = UTHGAR.40a
		custom_tooltip = {
			text = ukon_juhla_begins
			hidden_tooltip = {
				any_vassal = {
					limit = { has_character_flag = attending_uthfeast }
					character_event = { id = uthgar.41 }
				}
				character_event = { id = uthgar.42 days = 10 }
			}
		}
	}
}

# Celebration Begins (Vassals)
character_event = {
	id = uthgar.41
	desc = UTHGAR.41
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.40a
		custom_tooltip = { text = ukon_juhla_begins }
	}
}

# Feast Begins (Liege)
character_event = {
	id = uthgar.42
	desc = UTHGAR.42
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = UTHGAR.42a
		
		custom_tooltip = {
			text = feast_begins
			hidden_tooltip = {
				any_vassal = {
					limit = { has_character_flag = attending_uthfeast }
					character_event = { id = uthgar.43 }
				}
				character_event = { id = uthgar.44 days = 25 }
				random_list = {
					10 = { character_event = { id = uthgar.59 days = 3 } } 
					10 = { character_event = { id = uthgar.60 days = 3 } }
					10 = { character_event = { id = uthgar.61 days = 3 } }
					10 = { character_event = { id = uthgar.62 days = 3 } }
					10 = { character_event = { id = uthgar.63 days = 3 } }
				}
				random_list = {
					10 = { character_event = { id = uthgar.59 days = 8 } }
					10 = { character_event = { id = uthgar.60 days = 8 } }
					10 = { character_event = { id = uthgar.61 days = 8 } }
					10 = { character_event = { id = uthgar.62 days = 8 } }
					10 = { character_event = { id = uthgar.63 days = 8 } }
				}
				random_list = {
					10 = { character_event = { id = uthgar.59 days = 13 } }
					10 = { character_event = { id = uthgar.60 days = 13 } }
					10 = { character_event = { id = uthgar.61 days = 13 } }
					10 = { character_event = { id = uthgar.62 days = 13 } }
					10 = { character_event = { id = uthgar.63 days = 13 } }
				}
				random_list = {
					10 = { character_event = { id = uthgar.59 days = 18 } }
					10 = { character_event = { id = uthgar.60 days = 18 } }
					10 = { character_event = { id = uthgar.61 days = 18 } }
					10 = { character_event = { id = uthgar.62 days = 18 } }
					10 = { character_event = { id = uthgar.63 days = 18 } }
				}
			}
		}
	}
}

# Feast Begins (Vassals)
character_event = {
	id = uthgar.43
	desc = UTHGAR.43
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.42a
		set_character_flag = uthfeast_vassal
		custom_tooltip = { text = feast_begins }
	}
}

# Feast Ends (Liege)
character_event = {
	id = uthgar.44
	desc = UTHGAR.44
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = UTHGAR.44a
		any_vassal = {
			limit = { has_character_flag = attending_uthfeast }
			opinion = {
				modifier = opinion_uthfeast
				who = ROOT
			}
		}
		hidden_tooltip = {
			any_vassal = {
				limit = { has_character_flag = attending_uthfeast }
				character_event = { id = uthgar.45 }
			}
		}
		add_character_modifier = {
			name = held_uthfeast_timer
			duration = 1825
			hidden = yes
		}
		prestige = 100
		piety = 100
		clr_character_flag = holding_uthfeast
		clr_character_flag = feast_drunkard
		clr_character_flag = feast_gluttonous
		clr_character_flag = feast_lunatic
		clr_character_flag = feast_lustful
		clr_character_flag = feast_homosexual
		clr_character_flag = do_not_disturb
	}
}

# Feast Ends (Vassals)
character_event = {
	id = uthgar.45
	desc = UTHGAR.45
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = UTHGAR.44a
		clr_character_flag = attending_uthfeast
		clr_character_flag = uthfeast_vassal
		clr_character_flag = feast_drunkard
		clr_character_flag = feast_gluttonous
		clr_character_flag = feast_lunatic
		clr_character_flag = feast_lustful
		clr_character_flag = feast_friendship
		clr_character_flag = feast_homosexual
		clr_character_flag = do_not_disturb
	}
}

## Ukon juhla Feast Events

# Drunkard (Guest)
character_event = {
	id = uthgar.46
	desc = EVTDESC_TOG_650
	picture = GFX_evt_drunk
	border = GFX_event_normal_frame_religion
	
	hide_from = yes
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "The Old Gods"
		has_character_flag = uthfeast_vassal
		NOT = { has_character_flag = feast_drunkard }
		liege = { 
			has_character_flag = holding_uthfeast
			NOT = { has_character_flag = feast_drunkard }
		}
		trait = drunkard
	}
	
#	mean_time_to_happen = {
#		days = 60
#		
#		modifier = {
#			factor = 1.1
#			liege = { num_of_vassals = 10 }
#		}
#		modifier = {
#			factor = 1.2
#			liege = { num_of_vassals = 20 }
#		}
#		modifier = {
#			factor = 1.3
#			liege = { num_of_vassals = 30 }
#		}
#		modifier = {
#			factor = 1.4
#			liege = { num_of_vassals = 40 }
#		}
#		modifier = {
#			factor = 1.5
#			liege = { num_of_vassals = 50 }
#		}
#		modifier = {
#			factor = 3
#			liege = { num_of_vassals = 100 }
#		}
#	}
	
	option = {
		name = EVTOPTA_TOG_650
		tooltip_info = drunkard
		set_character_flag = feast_drunkard
		hidden_tooltip = {
			liege = {
				set_character_flag = feast_drunkard
				character_event = { id = uthgar.47 }
				any_vassal = {
					limit = {
						has_character_flag = uthfeast_vassal
						NOT = { character = ROOT }
					}
					character_event = { id = uthgar.47 }
				}
			}
		}
		tooltip = {
			liege = {
				if = {
					limit = { NOT = { trait = drunkard } }
					opinion = {
						modifier = opinion_feast_scandal
						who = ROOT
					}
				}
				if = {
					limit = { trait = drunkard }
					opinion = {
						modifier = opinion_drinking_buddy
						who = ROOT
					}
				}
				any_vassal = {
					limit = {
						has_character_flag = uthfeast_vassal
						NOT = { character = ROOT }
						NOT = { trait = drunkard }
					}
					opinion = {
						modifier = opinion_feast_scandal
						who = ROOT
					}
				}
				any_vassal = {
					limit = {
						has_character_flag = uthfeast_vassal
						NOT = { character = ROOT }
						trait = drunkard
					}
					opinion = {
						modifier = opinion_drinking_buddy
						who = ROOT
					}
				}
			}
		}
	}
}

# Drunkard (Host and Other Guests)
character_event = {
	id = uthgar.47
	desc = EVTDESC_TOG_651
	picture = GFX_evt_drunk
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_TOG_651
		trigger = { 
			NOT = { trait = drunkard } 
		}
		opinion = {
			modifier = opinion_feast_scandal
			who = FROM
		}
	}
	option = {
		name = EVTOPTB_TOG_651
		tooltip_info = drunkard
		trigger = { 
			trait = drunkard
		}
		opinion = {
			modifier = opinion_drinking_buddy
			who = FROM
		}
	}
}

# Gluttonous (Victim Hidden)
character_event = {
	id = uthgar.48
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "The Old Gods"
		has_character_flag = uthfeast_vassal
		liege = {
			has_character_flag = holding_uthfeast
			NOT = { has_character_flag = feast_gluttonous }
			any_vassal = {
				has_character_flag = uthfeast_vassal
				NOT = { has_character_flag = feast_gluttonous }
				trait = gluttonous
				NOT = { character = ROOT }
			}
		}
	}
	
#	mean_time_to_happen = {
#		days = 60
#		
#		modifier = {
#			factor = 1.1
#			liege = { num_of_vassals = 10 }
#		}
#		modifier = {
#			factor = 1.2
#			liege = { num_of_vassals = 20 }
#		}
#		modifier = {
#			factor = 1.3
#			liege = { num_of_vassals = 30 }
#		}
#		modifier = {
#			factor = 1.4
#			liege = { num_of_vassals = 40 }
#		}
#		modifier = {
#			factor = 1.5
#			liege = { num_of_vassals = 50 }
#		}
#		modifier = {
#			factor = 3
#			liege = { num_of_vassals = 100 }
#		}
#	}
	
	immediate = {
		liege = {
			set_character_flag = feast_gluttonous
			random_vassal = {
				limit = {
					has_character_flag = uthfeast_vassal
					trait = gluttonous
					NOT = { character = ROOT }
				}
				character_event = { id = uthgar.49 }
				set_character_flag = feast_gluttonous
			}
		}
	}
}

# Gluttonous (Guest)
character_event = {
	id = uthgar.49
	desc = EVTDESC_TOG_653
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_TOG_653
		tooltip_info = gluttonous
		FROM = {
			character_event = { id = uthgar.50 tooltip = EVTTOOLTIP_TOG_654 }
		}	
		hidden_tooltip = {
			liege = {
				character_event = { id = uthgar.51 }
				any_vassal = {
					limit = {
						has_character_flag = uthfeast_vassal
						NOT = { 
							character = ROOT 
							character = FROM
						}
					}
					character_event = { id = uthgar.51 }
				}
			}
		}
		tooltip = {
			FROM = {
				opinion = {
					modifier = opinion_vomit
					who = ROOT
				}
			}
			liege = {
				opinion = {
					modifier = opinion_feast_scandal
					who = ROOT
				}
				any_vassal = {
					limit = {
						has_character_flag = uthfeast_vassal
						NOT = { 
							character = ROOT 
							character = FROM
						}
					}
					opinion = {
						modifier = opinion_feast_scandal
						who = ROOT
					}
				}
			}
		}
	}
}

# Gluttonous (Victim)
character_event = {
	id = uthgar.50
	desc = EVTDESC_TOG_654
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_TOG_654
		opinion = {
			modifier = opinion_vomit
			who = FROM
		}
	}
}

# Gluttonous (Host and Other Guests)
character_event = {
	id = uthgar.51
	desc = EVTDESC_TOG_655
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_TOG_655
		opinion = {
			modifier = opinion_feast_scandal
			who = FROM
		}
	}
}

# Lunatic (Guest)
character_event = {
	id = uthgar.52
	desc = EVTDESC_TOG_656
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	hide_from = yes
	
	trigger = {
		has_dlc = "The Old Gods"
		has_character_flag = uthfeast_vassal
		NOT = { has_character_flag = feast_lunatic }
		liege = { 
			has_character_flag = holding_uthfeast 
			NOT = { has_character_flag = feast_lunatic }
		}
		trait = lunatic
	}
	
#	mean_time_to_happen = {
#		days = 60
#		
#		modifier = {
#			factor = 1.1
#			liege = { num_of_vassals = 10 }
#		}
#		modifier = {
#			factor = 1.2
#			liege = { num_of_vassals = 20 }
#		}
#		modifier = {
#			factor = 1.3
#			liege = { num_of_vassals = 30 }
#		}
#		modifier = {
#			factor = 1.4
#			liege = { num_of_vassals = 40 }
#		}
#		modifier = {
#			factor = 1.5
#			liege = { num_of_vassals = 50 }
#		}
#		modifier = {
#			factor = 3
#			liege = { num_of_vassals = 100 }
#		}
#	}
	
	option = {
		name = EVTOPTA_TOG_656
		tooltip_info = lunatic
		set_character_flag = feast_lunatic
		hidden_tooltip = {
			liege = {
				set_character_flag = feast_lunatic
				character_event = { id = uthgar.53 }
				any_vassal = {
					limit = {
						has_character_flag = uthfeast_vassal
						NOT = { character = ROOT }
					}
					character_event = { id = uthgar.53 }
				}
			}
		}
		tooltip = {
			liege = {
				if = {
					limit = { NOT = { trait = lunatic } }
					opinion = {
						modifier = opinion_feast_scandal
						who = ROOT
					}
				}
				if = {
					limit = { trait = lunatic }
					opinion = {
						modifier = opinion_feast_friend
						who = ROOT
					}
				}
				any_vassal = {
					limit = {
						has_character_flag = uthfeast_vassal
						NOT = { character = ROOT }
						NOT = { trait = lunatic }
					}
					opinion = {
						modifier = opinion_feast_scandal
						who = ROOT
					}
				}
				any_vassal = {
					limit = {
						has_character_flag = uthfeast_vassal
						NOT = { character = ROOT }
						trait = lunatic
					}
					opinion = {
						modifier = opinion_feast_friend
						who = ROOT
					}
				}
			}
		}	
	}
}

# Lunatic (Host and Other Guests)
character_event = {
	id = uthgar.53
	desc = EVTDESC_TOG_657
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_TOG_657
		trigger = {
			NOT = { trait = lunatic }
		}
		opinion = {
			modifier = opinion_feast_scandal
			who = ROOT
		}
	}
	option = {
		name = EVTOPTB_TOG_657
		tooltip_info = lunatic
		trigger = {
			trait = lunatic
		}
		opinion = {
			modifier = opinion_feast_friend
			who = ROOT
		}
	}
}

# Lustful (Guest)
character_event = {
	id = uthgar.54
	desc = EVTDESC_TOG_658
	picture = GFX_evt_brothel
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	hide_from = yes
	
	trigger = {
		has_dlc = "The Old Gods"
		has_character_flag = uthfeast_vassal
		NOT = { has_character_flag = feast_lustful }
		liege = { 
			has_character_flag = holding_uthfeast 
			NOT = { has_character_flag = feast_lustful }
		}
		trait = lustful
		is_female = no
	}
	
#	mean_time_to_happen = {
#		days = 60
#		
#		modifier = {
#			factor = 1.1
#			liege = { num_of_vassals = 10 }
#		}
#		modifier = {
#			factor = 1.2
#			liege = { num_of_vassals = 20 }
#		}
#		modifier = {
#			factor = 1.3
#			liege = { num_of_vassals = 30 }
#		}
#		modifier = {
#			factor = 1.4
#			liege = { num_of_vassals = 40 }
#		}
#		modifier = {
#			factor = 1.5
#			liege = { num_of_vassals = 50 }
#		}
#		modifier = {
#			factor = 3
#			liege = { num_of_vassals = 100 }
#		}
#	}
	
	option = {
		name = EVTOPTA_TOG_658
		tooltip_info = lustful
		set_character_flag = feast_lustful
		trigger = {
			is_married = no
		}
		hidden_tooltip = {
			liege = {
				set_character_flag = feast_lustful
				character_event = { id = uthgar.55 }
				any_vassal = {
					limit = {
						has_character_flag = uthfeast_vassal
						NOT = { character = ROOT }
					}
					character_event = { id = uthgar.55 }
				}
			}
		}
		tooltip = {
			liege = {
				if = {
					limit = { NOT = { trait = lustful } }
					opinion = {
						modifier = opinion_feast_scandal
						who = ROOT
					}
				}
				if = {
					limit = { trait = lustful }
					opinion = {
						modifier = opinion_lustful_buddy
						who = ROOT
					}
				}
				any_vassal = {
					limit = {
						has_character_flag = uthfeast_vassal
						NOT = { character = ROOT }
						NOT = { trait = lustful }
					}
					opinion = {
						modifier = opinion_feast_scandal
						who = ROOT
					}
				}
				any_vassal = {
					limit = {
						has_character_flag = uthfeast_vassal
						NOT = { character = ROOT }
						trait = lustful
					}
					opinion = {
						modifier = opinion_lustful_buddy
						who = ROOT
					}
				}
			}
		}	
	}
	option = {
		name = EVTOPTB_TOG_658
		tooltip_info = lustful
		set_character_flag = feast_lustful
		trigger = {
			is_married = yes
		}
		hidden_tooltip = {
			liege = {
				set_character_flag = feast_lustful
				character_event = { id = uthgar.55 }
				any_vassal = {
					limit = {
						has_character_flag = uthfeast_vassal
						NOT = { character = ROOT }
					}
					character_event = { id = uthgar.55 }
				}
			}
		}
		tooltip = {
			liege = {
				if = {
					limit = { NOT = { trait = lustful } }
					opinion = {
						modifier = opinion_feast_scandal
						who = ROOT
					}
				}
				if = {
					limit = { trait = lustful }
					opinion = {
						modifier = opinion_lustful_buddy
						who = ROOT
					}
				}
				any_vassal = {
					limit = {
						has_character_flag = uthfeast_vassal
						NOT = { character = ROOT }
						NOT = { trait = lustful }
					}
					opinion = {
						modifier = opinion_feast_scandal
						who = ROOT
					}
				}
				any_vassal = {
					limit = {
						has_character_flag = uthfeast_vassal
						NOT = { character = ROOT }
						trait = lustful
					}
					opinion = {
						modifier = opinion_lustful_buddy
						who = ROOT
					}
				}
			}
			any_spouse = {
				opinion = {
					modifier = opinion_mad_as_hell
					who = ROOT
					years = 1
				}
			}
		}	
	}
}

# Lustful (Host and Other Guests)
character_event = {
	id = uthgar.55
	desc = EVTDESC_TOG_659
	picture = GFX_evt_brothel
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_TOG_659
		trigger = {
			NOT = { trait = lustful }
			NOT = { any_spouse = { character = FROM } }
		}
		opinion = {
			modifier = opinion_feast_scandal
			who = FROM
		}
	}
	option = {
		name = EVTOPTB_TOG_659
		tooltip_info = lustful
		trigger = {
			trait = lustful
			NOT = { any_spouse = { character = FROM } }
		}
		opinion = {
			modifier = opinion_lustful_buddy
			who = FROM
		}
	}
	option = {
		name = EVTOPTC_TOG_659
		trigger = {
			any_spouse = { character = FROM }
		}
		opinion = {
			modifier = opinion_mad_as_hell
			who = FROM
			years = 1
		}
	}
}

# Friendship Formed (Guest 1 Hidden)
character_event = {
	id = uthgar.56
	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "The Old Gods"
		has_character_flag = uthfeast_vassal
		NOT = { has_character_flag = feast_friendship }
		liege = { 
			has_character_flag = holding_uthfeast
			any_vassal = {
				has_character_flag = uthfeast_vassal
				NOT = { has_character_flag = feast_friendship }
				NOT = { character = ROOT }
				opinion = { who = ROOT value =  20 }
			}		
		}
	}
	
#	mean_time_to_happen = {
#		days = 60
#		
#		modifier = {
#			factor = 1.1
#			liege = { num_of_vassals = 10 }
#		}
#		modifier = {
#			factor = 1.2
#			liege = { num_of_vassals = 20 }
#		}
#		modifier = {
#			factor = 1.3
#			liege = { num_of_vassals = 30 }
#		}
#		modifier = {
#			factor = 1.4
#			liege = { num_of_vassals = 40 }
#		}
#		modifier = {
#			factor = 1.5
#			liege = { num_of_vassals = 50 }
#		}
#		modifier = {
#			factor = 3
#			liege = { num_of_vassals = 100 }
#		}
#	}
	
	immediate = {
		set_character_flag = feast_friendship
		liege = { 
			random_vassal = {
				limit = {
					has_character_flag = uthfeast_vassal
					NOT = { character = ROOT }
					opinion = { who = ROOT value =  20 }
				}
				character_event = { id = uthgar.57 }
				set_character_flag = feast_friendship
				opinion = {
					modifier = opinion_feast_friend
					who = ROOT
				}
				reverse_opinion = {
					modifier = opinion_feast_friend
					who = ROOT
				}
			}		
		}
	}
}

# Friendship Formed (Guest 2)
character_event = {
	id = uthgar.57
	desc = EVTDESC_TOG_661
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_TOG_661
		hidden_tooltip = {
			FROM = {
				character_event = { id = uthgar.58 }
			}
		}
		tooltip = {
			FROM = {
				opinion = {
					modifier = opinion_feast_friend
					who = ROOT
				}
			}
			opinion = {
				modifier = opinion_feast_friend
				who = FROM
			}
		}
	}
}

# Friendship Formed (Guest 1)
character_event = {
	id = uthgar.58
	desc = EVTDESC_TOG_661
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_TOG_661
		tooltip = {
			FROM = {
				opinion = {
					modifier = opinion_feast_friend
					who = ROOT
				}
			}
			opinion = {
				modifier = opinion_feast_friend
				who = FROM
			}
		}
	}
}

### Feast event bounces
character_event = { #feast_drunkard
	id = uthgar.59
	
	is_triggered_only = yes
	
	hide_window = yes
	
	trigger = {
		has_dlc = "The Old Gods"
		has_character_flag = holding_uthfeast
		NOT = { has_character_flag = feast_drunkard }
		any_vassal = {
			has_character_flag = uthfeast_vassal
			NOT = { has_character_flag = feast_drunkard }
			trait = drunkard
		}
	}
	
	immediate = {
		random_vassal = {
			limit = {
				has_character_flag = uthfeast_vassal
				NOT = { has_character_flag = feast_drunkard }
				trait = drunkard
			}
			character_event = { id = uthgar.46 }
		}
	}
}

character_event = {
	id = uthgar.60 #feast_gluttonous
	
	is_triggered_only = yes
	
	hide_window = yes
	
	trigger = {
		has_dlc = "The Old Gods"
		has_character_flag = holding_uthfeast
		NOT = { has_character_flag = feast_gluttonous }
		any_vassal = {
			has_character_flag = uthfeast_vassal
			NOT = { has_character_flag = feast_gluttonous }
			trait = gluttonous
		}
	}
	
	immediate = {
		random_vassal = {
			limit = {
				has_character_flag = uthfeast_vassal
				NOT = { has_character_flag = feast_gluttonous }
				trait = gluttonous
			}
			character_event = { id = uthgar.48 }
		}
	}
}

character_event = {
	id = uthgar.61 #feast_lunatic
	
	is_triggered_only = yes
	
	hide_window = yes
	
	trigger = {
		has_dlc = "The Old Gods"
		has_character_flag = holding_uthfeast
		NOT = { has_character_flag = feast_lunatic }
		any_vassal = {
			has_character_flag = uthfeast_vassal
			NOT = { has_character_flag = feast_lunatic }
			trait = lunatic
		}
	}
	
	immediate = {
		random_vassal = {
			limit = {
				has_character_flag = uthfeast_vassal
				NOT = { has_character_flag = feast_lunatic }
				trait = lunatic
			}
			character_event = { id = uthgar.52 }
		}
	}
}

character_event = {
	id = uthgar.62 #feast_lustful
	
	is_triggered_only = yes
	
	hide_window = yes
	
	trigger = {
		has_dlc = "The Old Gods"
		has_character_flag = holding_uthfeast
		NOT = { has_character_flag = feast_lustful }
		any_vassal = { 
			has_character_flag = uthfeast_vassal
			NOT = { has_character_flag = feast_lustful }
			trait = lustful
			is_female = no
		}
	}
	
	immediate = {
		random_vassal = {
			limit = {
				has_character_flag = uthfeast_vassal
				NOT = { has_character_flag = feast_lustful }
				trait = lustful
				is_female = no
			}
			character_event = { id = uthgar.54 }
		}
	}
}

character_event = {
	id = uthgar.63 #feast_friendship
	
	is_triggered_only = yes
	
	hide_window = yes
	
	trigger = {
		has_dlc = "The Old Gods"
		has_character_flag = holding_uthfeast
		NOT = { has_character_flag = feast_friendship }
		has_character_flag = uthfeast_vassal
		any_vassal = {
			has_character_flag = uthfeast_vassal
			NOT = { has_character_flag = feast_friendship }
			liege = { 
				any_vassal = {
					has_character_flag = uthfeast_vassal
					NOT = { has_character_flag = feast_friendship }
					NOT = { character = PREVPREV }
					opinion = { who = PREVPREV value =  20 }
				}		
			}
		}
	}
	
	immediate = {
		random_vassal = {
			limit = {
				has_character_flag = uthfeast_vassal
				NOT = { has_character_flag = feast_friendship }
				liege = { 
					any_vassal = {
						has_character_flag = uthfeast_vassal
						NOT = { has_character_flag = feast_friendship }
						NOT = { character = PREVPREV }
						opinion = { who = PREVPREV value =  20 }
					}		
				}
			}
			character_event = { id = uthgar.56 }
		}
	}
}